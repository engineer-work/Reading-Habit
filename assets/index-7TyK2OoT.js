(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=t(r);fetch(r.href,i)}})();function Up(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Fd={exports:{}},Qr={},Vd={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ho=Symbol.for("react.element"),Fp=Symbol.for("react.portal"),Vp=Symbol.for("react.fragment"),Gp=Symbol.for("react.strict_mode"),Hp=Symbol.for("react.profiler"),qp=Symbol.for("react.provider"),Bp=Symbol.for("react.context"),zp=Symbol.for("react.forward_ref"),Jp=Symbol.for("react.suspense"),$p=Symbol.for("react.memo"),Wp=Symbol.for("react.lazy"),Zl=Symbol.iterator;function Op(e){return e===null||typeof e!="object"?null:(e=Zl&&e[Zl]||e["@@iterator"],typeof e=="function"?e:null)}var Gd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hd=Object.assign,qd={};function Wt(e,n,t){this.props=e,this.context=n,this.refs=qd,this.updater=t||Gd}Wt.prototype.isReactComponent={};Wt.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")};Wt.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Bd(){}Bd.prototype=Wt.prototype;function Os(e,n,t){this.props=e,this.context=n,this.refs=qd,this.updater=t||Gd}var Ys=Os.prototype=new Bd;Ys.constructor=Os;Hd(Ys,Wt.prototype);Ys.isPureReactComponent=!0;var jl=Array.isArray,zd=Object.prototype.hasOwnProperty,Ks={current:null},Jd={key:!0,ref:!0,__self:!0,__source:!0};function $d(e,n,t){var o,r={},i=null,l=null;if(n!=null)for(o in n.ref!==void 0&&(l=n.ref),n.key!==void 0&&(i=""+n.key),n)zd.call(n,o)&&!Jd.hasOwnProperty(o)&&(r[o]=n[o]);var u=arguments.length-2;if(u===1)r.children=t;else if(1<u){for(var d=Array(u),c=0;c<u;c++)d[c]=arguments[c+2];r.children=d}if(e&&e.defaultProps)for(o in u=e.defaultProps,u)r[o]===void 0&&(r[o]=u[o]);return{$$typeof:Ho,type:e,key:i,ref:l,props:r,_owner:Ks.current}}function Yp(e,n){return{$$typeof:Ho,type:e.type,key:n,ref:e.ref,props:e.props,_owner:e._owner}}function bs(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ho}function Kp(e){var n={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(t){return n[t]})}var ea=/\/+/g;function yi(e,n){return typeof e=="object"&&e!==null&&e.key!=null?Kp(""+e.key):n.toString(36)}function ur(e,n,t,o,r){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Ho:case Fp:l=!0}}if(l)return l=e,r=r(l),e=o===""?"."+yi(l,0):o,jl(r)?(t="",e!=null&&(t=e.replace(ea,"$&/")+"/"),ur(r,n,t,"",function(c){return c})):r!=null&&(bs(r)&&(r=Yp(r,t+(!r.key||l&&l.key===r.key?"":(""+r.key).replace(ea,"$&/")+"/")+e)),n.push(r)),1;if(l=0,o=o===""?".":o+":",jl(e))for(var u=0;u<e.length;u++){i=e[u];var d=o+yi(i,u);l+=ur(i,n,t,d,r)}else if(d=Op(e),typeof d=="function")for(e=d.call(e),u=0;!(i=e.next()).done;)i=i.value,d=o+yi(i,u++),l+=ur(i,n,t,d,r);else if(i==="object")throw n=String(e),Error("Objects are not valid as a React child (found: "+(n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return l}function $o(e,n,t){if(e==null)return e;var o=[],r=0;return ur(e,o,"","",function(i){return n.call(t,i,r++)}),o}function bp(e){if(e._status===-1){var n=e._result;n=n(),n.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=n)}if(e._status===1)return e._result.default;throw e._result}var Ne={current:null},dr={transition:null},Qp={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:dr,ReactCurrentOwner:Ks};function Wd(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:$o,forEach:function(e,n,t){$o(e,function(){n.apply(this,arguments)},t)},count:function(e){var n=0;return $o(e,function(){n++}),n},toArray:function(e){return $o(e,function(n){return n})||[]},only:function(e){if(!bs(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};q.Component=Wt;q.Fragment=Vp;q.Profiler=Hp;q.PureComponent=Os;q.StrictMode=Gp;q.Suspense=Jp;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qp;q.act=Wd;q.cloneElement=function(e,n,t){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Hd({},e.props),r=e.key,i=e.ref,l=e._owner;if(n!=null){if(n.ref!==void 0&&(i=n.ref,l=Ks.current),n.key!==void 0&&(r=""+n.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(d in n)zd.call(n,d)&&!Jd.hasOwnProperty(d)&&(o[d]=n[d]===void 0&&u!==void 0?u[d]:n[d])}var d=arguments.length-2;if(d===1)o.children=t;else if(1<d){u=Array(d);for(var c=0;c<d;c++)u[c]=arguments[c+2];o.children=u}return{$$typeof:Ho,type:e.type,key:r,ref:i,props:o,_owner:l}};q.createContext=function(e){return e={$$typeof:Bp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qp,_context:e},e.Consumer=e};q.createElement=$d;q.createFactory=function(e){var n=$d.bind(null,e);return n.type=e,n};q.createRef=function(){return{current:null}};q.forwardRef=function(e){return{$$typeof:zp,render:e}};q.isValidElement=bs;q.lazy=function(e){return{$$typeof:Wp,_payload:{_status:-1,_result:e},_init:bp}};q.memo=function(e,n){return{$$typeof:$p,type:e,compare:n===void 0?null:n}};q.startTransition=function(e){var n=dr.transition;dr.transition={};try{e()}finally{dr.transition=n}};q.unstable_act=Wd;q.useCallback=function(e,n){return Ne.current.useCallback(e,n)};q.useContext=function(e){return Ne.current.useContext(e)};q.useDebugValue=function(){};q.useDeferredValue=function(e){return Ne.current.useDeferredValue(e)};q.useEffect=function(e,n){return Ne.current.useEffect(e,n)};q.useId=function(){return Ne.current.useId()};q.useImperativeHandle=function(e,n,t){return Ne.current.useImperativeHandle(e,n,t)};q.useInsertionEffect=function(e,n){return Ne.current.useInsertionEffect(e,n)};q.useLayoutEffect=function(e,n){return Ne.current.useLayoutEffect(e,n)};q.useMemo=function(e,n){return Ne.current.useMemo(e,n)};q.useReducer=function(e,n,t){return Ne.current.useReducer(e,n,t)};q.useRef=function(e){return Ne.current.useRef(e)};q.useState=function(e){return Ne.current.useState(e)};q.useSyncExternalStore=function(e,n,t){return Ne.current.useSyncExternalStore(e,n,t)};q.useTransition=function(){return Ne.current.useTransition()};q.version="18.3.1";Vd.exports=q;var U=Vd.exports;const Qs=Up(U);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp=U,Zp=Symbol.for("react.element"),jp=Symbol.for("react.fragment"),em=Object.prototype.hasOwnProperty,nm=Xp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tm={key:!0,ref:!0,__self:!0,__source:!0};function Od(e,n,t){var o,r={},i=null,l=null;t!==void 0&&(i=""+t),n.key!==void 0&&(i=""+n.key),n.ref!==void 0&&(l=n.ref);for(o in n)em.call(n,o)&&!tm.hasOwnProperty(o)&&(r[o]=n[o]);if(e&&e.defaultProps)for(o in n=e.defaultProps,n)r[o]===void 0&&(r[o]=n[o]);return{$$typeof:Zp,type:e,key:i,ref:l,props:r,_owner:nm.current}}Qr.Fragment=jp;Qr.jsx=Od;Qr.jsxs=Od;Fd.exports=Qr;var g=Fd.exports,Ji={},Yd={exports:{}},He={},Kd={exports:{}},bd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function n(D,G){var k=D.length;D.push(G);e:for(;0<k;){var H=k-1>>>1,W=D[H];if(0<r(W,G))D[H]=G,D[k]=W,k=H;else break e}}function t(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var G=D[0],k=D.pop();if(k!==G){D[0]=k;e:for(var H=0,W=D.length,ue=W>>>1;H<ue;){var Y=2*(H+1)-1,an=D[Y],ze=Y+1,Zn=D[ze];if(0>r(an,k))ze<W&&0>r(Zn,an)?(D[H]=Zn,D[ze]=k,H=ze):(D[H]=an,D[Y]=k,H=Y);else if(ze<W&&0>r(Zn,k))D[H]=Zn,D[ze]=k,H=ze;else break e}}return G}function r(D,G){var k=D.sortIndex-G.sortIndex;return k!==0?k:D.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],c=[],f=1,p=null,m=3,y=!1,S=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(D){for(var G=t(c);G!==null;){if(G.callback===null)o(c);else if(G.startTime<=D)o(c),G.sortIndex=G.expirationTime,n(d,G);else break;G=t(c)}}function T(D){if(C=!1,E(D),!S)if(t(d)!==null)S=!0,ne(_);else{var G=t(c);G!==null&&Xe(T,G.startTime-D)}}function _(D,G){S=!1,C&&(C=!1,v(R),R=-1),y=!0;var k=m;try{for(E(G),p=t(d);p!==null&&(!(p.expirationTime>G)||D&&!F());){var H=p.callback;if(typeof H=="function"){p.callback=null,m=p.priorityLevel;var W=H(p.expirationTime<=G);G=e.unstable_now(),typeof W=="function"?p.callback=W:p===t(d)&&o(d),E(G)}else o(d);p=t(d)}if(p!==null)var ue=!0;else{var Y=t(c);Y!==null&&Xe(T,Y.startTime-G),ue=!1}return ue}finally{p=null,m=k,y=!1}}var x=!1,w=null,R=-1,A=5,N=-1;function F(){return!(e.unstable_now()-N<A)}function B(){if(w!==null){var D=e.unstable_now();N=D;var G=!0;try{G=w(!0,D)}finally{G?b():(x=!1,w=null)}}else x=!1}var b;if(typeof h=="function")b=function(){h(B)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,Qe=Be.port2;Be.port1.onmessage=B,b=function(){Qe.postMessage(null)}}else b=function(){I(B,0)};function ne(D){w=D,x||(x=!0,b())}function Xe(D,G){R=I(function(){D(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){S||y||(S=!0,ne(_))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return t(d)},e.unstable_next=function(D){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var k=m;m=G;try{return D()}finally{m=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,G){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var k=m;m=D;try{return G()}finally{m=k}},e.unstable_scheduleCallback=function(D,G,k){var H=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?H+k:H):k=H,D){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=k+W,D={id:f++,callback:G,priorityLevel:D,startTime:k,expirationTime:W,sortIndex:-1},k>H?(D.sortIndex=k,n(c,D),t(d)===null&&D===t(c)&&(C?(v(R),R=-1):C=!0,Xe(T,k-H))):(D.sortIndex=W,n(d,D),S||y||(S=!0,ne(_))),D},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(D){var G=m;return function(){var k=m;m=G;try{return D.apply(this,arguments)}finally{m=k}}}})(bd);Kd.exports=bd;var om=Kd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=U,Ge=om;function P(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,t=1;t<arguments.length;t++)n+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qd=new Set,So={};function ct(e,n){Vt(e,n),Vt(e+"Capture",n)}function Vt(e,n){for(So[e]=n,e=0;e<n.length;e++)Qd.add(n[e])}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$i=Object.prototype.hasOwnProperty,im=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,na={},ta={};function sm(e){return $i.call(ta,e)?!0:$i.call(na,e)?!1:im.test(e)?ta[e]=!0:(na[e]=!0,!1)}function lm(e,n,t,o){if(t!==null&&t.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return o?!1:t!==null?!t.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function am(e,n,t,o){if(n===null||typeof n>"u"||lm(e,n,t,o))return!0;if(o)return!1;if(t!==null)switch(t.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function Re(e,n,t,o,r,i,l){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=o,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=e,this.type=n,this.sanitizeURL=i,this.removeEmptyString=l}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ee[e]=new Re(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];Ee[n]=new Re(n,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ee[e]=new Re(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ee[e]=new Re(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ee[e]=new Re(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ee[e]=new Re(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ee[e]=new Re(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ee[e]=new Re(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ee[e]=new Re(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xs=/[\-:]([a-z])/g;function Zs(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Xs,Zs);Ee[n]=new Re(n,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Xs,Zs);Ee[n]=new Re(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Xs,Zs);Ee[n]=new Re(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ee[e]=new Re(e,1,!1,e.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new Re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ee[e]=new Re(e,1,!1,e.toLowerCase(),null,!0,!0)});function js(e,n,t,o){var r=Ee.hasOwnProperty(n)?Ee[n]:null;(r!==null?r.type!==0:o||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(am(n,t,r,o)&&(t=null),o||r===null?sm(n)&&(t===null?e.removeAttribute(n):e.setAttribute(n,""+t)):r.mustUseProperty?e[r.propertyName]=t===null?r.type===3?!1:"":t:(n=r.attributeName,o=r.attributeNamespace,t===null?e.removeAttribute(n):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,o?e.setAttributeNS(o,n,t):e.setAttribute(n,t))))}var In=rm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wo=Symbol.for("react.element"),ht=Symbol.for("react.portal"),gt=Symbol.for("react.fragment"),el=Symbol.for("react.strict_mode"),Wi=Symbol.for("react.profiler"),Xd=Symbol.for("react.provider"),Zd=Symbol.for("react.context"),nl=Symbol.for("react.forward_ref"),Oi=Symbol.for("react.suspense"),Yi=Symbol.for("react.suspense_list"),tl=Symbol.for("react.memo"),kn=Symbol.for("react.lazy"),jd=Symbol.for("react.offscreen"),oa=Symbol.iterator;function Xt(e){return e===null||typeof e!="object"?null:(e=oa&&e[oa]||e["@@iterator"],typeof e=="function"?e:null)}var ie=Object.assign,vi;function so(e){if(vi===void 0)try{throw Error()}catch(t){var n=t.stack.trim().match(/\n( *(at )?)/);vi=n&&n[1]||""}return`
`+vi+e}var Ei=!1;function Ti(e,n){if(!e||Ei)return"";Ei=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(c){var o=c}Reflect.construct(e,[],n)}else{try{n.call()}catch(c){o=c}e.call(n.prototype)}else{try{throw Error()}catch(c){o=c}e()}}catch(c){if(c&&o&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),i=o.stack.split(`
`),l=r.length-1,u=i.length-1;1<=l&&0<=u&&r[l]!==i[u];)u--;for(;1<=l&&0<=u;l--,u--)if(r[l]!==i[u]){if(l!==1||u!==1)do if(l--,u--,0>u||r[l]!==i[u]){var d=`
`+r[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=u);break}}}finally{Ei=!1,Error.prepareStackTrace=t}return(e=e?e.displayName||e.name:"")?so(e):""}function um(e){switch(e.tag){case 5:return so(e.type);case 16:return so("Lazy");case 13:return so("Suspense");case 19:return so("SuspenseList");case 0:case 2:case 15:return e=Ti(e.type,!1),e;case 11:return e=Ti(e.type.render,!1),e;case 1:return e=Ti(e.type,!0),e;default:return""}}function Ki(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gt:return"Fragment";case ht:return"Portal";case Wi:return"Profiler";case el:return"StrictMode";case Oi:return"Suspense";case Yi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Zd:return(e.displayName||"Context")+".Consumer";case Xd:return(e._context.displayName||"Context")+".Provider";case nl:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case tl:return n=e.displayName||null,n!==null?n:Ki(e.type)||"Memo";case kn:n=e._payload,e=e._init;try{return Ki(e(n))}catch{}}return null}function dm(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ki(n);case 8:return n===el?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function On(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ec(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function cm(e){var n=ec(e)?"checked":"value",t=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,i=t.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return r.call(this)},set:function(l){o=""+l,i.call(this,l)}}),Object.defineProperty(e,n,{enumerable:t.enumerable}),{getValue:function(){return o},setValue:function(l){o=""+l},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Oo(e){e._valueTracker||(e._valueTracker=cm(e))}function nc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var t=n.getValue(),o="";return e&&(o=ec(e)?e.checked?"true":"false":e.value),e=o,e!==t?(n.setValue(e),!0):!1}function _r(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bi(e,n){var t=n.checked;return ie({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??e._wrapperState.initialChecked})}function ra(e,n){var t=n.defaultValue==null?"":n.defaultValue,o=n.checked!=null?n.checked:n.defaultChecked;t=On(n.value!=null?n.value:t),e._wrapperState={initialChecked:o,initialValue:t,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function tc(e,n){n=n.checked,n!=null&&js(e,"checked",n,!1)}function Qi(e,n){tc(e,n);var t=On(n.value),o=n.type;if(t!=null)o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+t):e.value!==""+t&&(e.value=""+t);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Xi(e,n.type,t):n.hasOwnProperty("defaultValue")&&Xi(e,n.type,On(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function ia(e,n,t){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var o=n.type;if(!(o!=="submit"&&o!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,t||n===e.value||(e.value=n),e.defaultValue=n}t=e.name,t!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,t!==""&&(e.name=t)}function Xi(e,n,t){(n!=="number"||_r(e.ownerDocument)!==e)&&(t==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+t&&(e.defaultValue=""+t))}var lo=Array.isArray;function Nt(e,n,t,o){if(e=e.options,n){n={};for(var r=0;r<t.length;r++)n["$"+t[r]]=!0;for(t=0;t<e.length;t++)r=n.hasOwnProperty("$"+e[t].value),e[t].selected!==r&&(e[t].selected=r),r&&o&&(e[t].defaultSelected=!0)}else{for(t=""+On(t),n=null,r=0;r<e.length;r++){if(e[r].value===t){e[r].selected=!0,o&&(e[r].defaultSelected=!0);return}n!==null||e[r].disabled||(n=e[r])}n!==null&&(n.selected=!0)}}function Zi(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(P(91));return ie({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function sa(e,n){var t=n.value;if(t==null){if(t=n.children,n=n.defaultValue,t!=null){if(n!=null)throw Error(P(92));if(lo(t)){if(1<t.length)throw Error(P(93));t=t[0]}n=t}n==null&&(n=""),t=n}e._wrapperState={initialValue:On(t)}}function oc(e,n){var t=On(n.value),o=On(n.defaultValue);t!=null&&(t=""+t,t!==e.value&&(e.value=t),n.defaultValue==null&&e.defaultValue!==t&&(e.defaultValue=t)),o!=null&&(e.defaultValue=""+o)}function la(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function rc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ji(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?rc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Yo,ic=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,t,o,r){MSApp.execUnsafeLocalFunction(function(){return e(n,t,o,r)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Yo=Yo||document.createElement("div"),Yo.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Yo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Co(e,n){if(n){var t=e.firstChild;if(t&&t===e.lastChild&&t.nodeType===3){t.nodeValue=n;return}}e.textContent=n}var co={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fm=["Webkit","ms","Moz","O"];Object.keys(co).forEach(function(e){fm.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),co[n]=co[e]})});function sc(e,n,t){return n==null||typeof n=="boolean"||n===""?"":t||typeof n!="number"||n===0||co.hasOwnProperty(e)&&co[e]?(""+n).trim():n+"px"}function lc(e,n){e=e.style;for(var t in n)if(n.hasOwnProperty(t)){var o=t.indexOf("--")===0,r=sc(t,n[t],o);t==="float"&&(t="cssFloat"),o?e.setProperty(t,r):e[t]=r}}var pm=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function es(e,n){if(n){if(pm[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(P(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(P(61))}if(n.style!=null&&typeof n.style!="object")throw Error(P(62))}}function ns(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ts=null;function ol(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var os=null,Rt=null,Pt=null;function aa(e){if(e=zo(e)){if(typeof os!="function")throw Error(P(280));var n=e.stateNode;n&&(n=ni(n),os(e.stateNode,e.type,n))}}function ac(e){Rt?Pt?Pt.push(e):Pt=[e]:Rt=e}function uc(){if(Rt){var e=Rt,n=Pt;if(Pt=Rt=null,aa(e),n)for(e=0;e<n.length;e++)aa(n[e])}}function dc(e,n){return e(n)}function cc(){}var Si=!1;function fc(e,n,t){if(Si)return e(n,t);Si=!0;try{return dc(e,n,t)}finally{Si=!1,(Rt!==null||Pt!==null)&&(cc(),uc())}}function _o(e,n){var t=e.stateNode;if(t===null)return null;var o=ni(t);if(o===null)return null;t=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(t&&typeof t!="function")throw Error(P(231,n,typeof t));return t}var rs=!1;if(Sn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){rs=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{rs=!1}function mm(e,n,t,o,r,i,l,u,d){var c=Array.prototype.slice.call(arguments,3);try{n.apply(t,c)}catch(f){this.onError(f)}}var fo=!1,wr=null,xr=!1,is=null,hm={onError:function(e){fo=!0,wr=e}};function gm(e,n,t,o,r,i,l,u,d){fo=!1,wr=null,mm.apply(hm,arguments)}function ym(e,n,t,o,r,i,l,u,d){if(gm.apply(this,arguments),fo){if(fo){var c=wr;fo=!1,wr=null}else throw Error(P(198));xr||(xr=!0,is=c)}}function ft(e){var n=e,t=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(t=n.return),e=n.return;while(e)}return n.tag===3?t:null}function pc(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function ua(e){if(ft(e)!==e)throw Error(P(188))}function vm(e){var n=e.alternate;if(!n){if(n=ft(e),n===null)throw Error(P(188));return n!==e?null:e}for(var t=e,o=n;;){var r=t.return;if(r===null)break;var i=r.alternate;if(i===null){if(o=r.return,o!==null){t=o;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===t)return ua(r),e;if(i===o)return ua(r),n;i=i.sibling}throw Error(P(188))}if(t.return!==o.return)t=r,o=i;else{for(var l=!1,u=r.child;u;){if(u===t){l=!0,t=r,o=i;break}if(u===o){l=!0,o=r,t=i;break}u=u.sibling}if(!l){for(u=i.child;u;){if(u===t){l=!0,t=i,o=r;break}if(u===o){l=!0,o=i,t=r;break}u=u.sibling}if(!l)throw Error(P(189))}}if(t.alternate!==o)throw Error(P(190))}if(t.tag!==3)throw Error(P(188));return t.stateNode.current===t?e:n}function mc(e){return e=vm(e),e!==null?hc(e):null}function hc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=hc(e);if(n!==null)return n;e=e.sibling}return null}var gc=Ge.unstable_scheduleCallback,da=Ge.unstable_cancelCallback,Em=Ge.unstable_shouldYield,Tm=Ge.unstable_requestPaint,ae=Ge.unstable_now,Sm=Ge.unstable_getCurrentPriorityLevel,rl=Ge.unstable_ImmediatePriority,yc=Ge.unstable_UserBlockingPriority,Ir=Ge.unstable_NormalPriority,Cm=Ge.unstable_LowPriority,vc=Ge.unstable_IdlePriority,Xr=null,pn=null;function _m(e){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Xr,e,void 0,(e.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:Im,wm=Math.log,xm=Math.LN2;function Im(e){return e>>>=0,e===0?32:31-(wm(e)/xm|0)|0}var Ko=64,bo=4194304;function ao(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ar(e,n){var t=e.pendingLanes;if(t===0)return 0;var o=0,r=e.suspendedLanes,i=e.pingedLanes,l=t&268435455;if(l!==0){var u=l&~r;u!==0?o=ao(u):(i&=l,i!==0&&(o=ao(i)))}else l=t&~r,l!==0?o=ao(l):i!==0&&(o=ao(i));if(o===0)return 0;if(n!==0&&n!==o&&!(n&r)&&(r=o&-o,i=n&-n,r>=i||r===16&&(i&4194240)!==0))return n;if(o&4&&(o|=t&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=o;0<n;)t=31-on(n),r=1<<t,o|=e[t],n&=~r;return o}function Am(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nm(e,n){for(var t=e.suspendedLanes,o=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-on(i),u=1<<l,d=r[l];d===-1?(!(u&t)||u&o)&&(r[l]=Am(u,n)):d<=n&&(e.expiredLanes|=u),i&=~u}}function ss(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ec(){var e=Ko;return Ko<<=1,!(Ko&4194240)&&(Ko=64),e}function Ci(e){for(var n=[],t=0;31>t;t++)n.push(e);return n}function qo(e,n,t){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-on(n),e[n]=t}function Rm(e,n){var t=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<t;){var r=31-on(t),i=1<<r;n[r]=0,o[r]=-1,e[r]=-1,t&=~i}}function il(e,n){var t=e.entangledLanes|=n;for(e=e.entanglements;t;){var o=31-on(t),r=1<<o;r&n|e[o]&n&&(e[o]|=n),t&=~r}}var O=0;function Tc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sc,sl,Cc,_c,wc,ls=!1,Qo=[],Gn=null,Hn=null,qn=null,wo=new Map,xo=new Map,Dn=[],Pm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ca(e,n){switch(e){case"focusin":case"focusout":Gn=null;break;case"dragenter":case"dragleave":Hn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":wo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(n.pointerId)}}function jt(e,n,t,o,r,i){return e===null||e.nativeEvent!==i?(e={blockedOn:n,domEventName:t,eventSystemFlags:o,nativeEvent:i,targetContainers:[r]},n!==null&&(n=zo(n),n!==null&&sl(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,r!==null&&n.indexOf(r)===-1&&n.push(r),e)}function km(e,n,t,o,r){switch(n){case"focusin":return Gn=jt(Gn,e,n,t,o,r),!0;case"dragenter":return Hn=jt(Hn,e,n,t,o,r),!0;case"mouseover":return qn=jt(qn,e,n,t,o,r),!0;case"pointerover":var i=r.pointerId;return wo.set(i,jt(wo.get(i)||null,e,n,t,o,r)),!0;case"gotpointercapture":return i=r.pointerId,xo.set(i,jt(xo.get(i)||null,e,n,t,o,r)),!0}return!1}function xc(e){var n=nt(e.target);if(n!==null){var t=ft(n);if(t!==null){if(n=t.tag,n===13){if(n=pc(t),n!==null){e.blockedOn=n,wc(e.priority,function(){Cc(t)});return}}else if(n===3&&t.stateNode.current.memoizedState.isDehydrated){e.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cr(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var t=as(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(t===null){t=e.nativeEvent;var o=new t.constructor(t.type,t);ts=o,t.target.dispatchEvent(o),ts=null}else return n=zo(t),n!==null&&sl(n),e.blockedOn=t,!1;n.shift()}return!0}function fa(e,n,t){cr(e)&&t.delete(n)}function Mm(){ls=!1,Gn!==null&&cr(Gn)&&(Gn=null),Hn!==null&&cr(Hn)&&(Hn=null),qn!==null&&cr(qn)&&(qn=null),wo.forEach(fa),xo.forEach(fa)}function eo(e,n){e.blockedOn===n&&(e.blockedOn=null,ls||(ls=!0,Ge.unstable_scheduleCallback(Ge.unstable_NormalPriority,Mm)))}function Io(e){function n(r){return eo(r,e)}if(0<Qo.length){eo(Qo[0],e);for(var t=1;t<Qo.length;t++){var o=Qo[t];o.blockedOn===e&&(o.blockedOn=null)}}for(Gn!==null&&eo(Gn,e),Hn!==null&&eo(Hn,e),qn!==null&&eo(qn,e),wo.forEach(n),xo.forEach(n),t=0;t<Dn.length;t++)o=Dn[t],o.blockedOn===e&&(o.blockedOn=null);for(;0<Dn.length&&(t=Dn[0],t.blockedOn===null);)xc(t),t.blockedOn===null&&Dn.shift()}var kt=In.ReactCurrentBatchConfig,Nr=!0;function Dm(e,n,t,o){var r=O,i=kt.transition;kt.transition=null;try{O=1,ll(e,n,t,o)}finally{O=r,kt.transition=i}}function Lm(e,n,t,o){var r=O,i=kt.transition;kt.transition=null;try{O=4,ll(e,n,t,o)}finally{O=r,kt.transition=i}}function ll(e,n,t,o){if(Nr){var r=as(e,n,t,o);if(r===null)Mi(e,n,o,Rr,t),ca(e,o);else if(km(r,e,n,t,o))o.stopPropagation();else if(ca(e,o),n&4&&-1<Pm.indexOf(e)){for(;r!==null;){var i=zo(r);if(i!==null&&Sc(i),i=as(e,n,t,o),i===null&&Mi(e,n,o,Rr,t),i===r)break;r=i}r!==null&&o.stopPropagation()}else Mi(e,n,o,null,t)}}var Rr=null;function as(e,n,t,o){if(Rr=null,e=ol(o),e=nt(e),e!==null)if(n=ft(e),n===null)e=null;else if(t=n.tag,t===13){if(e=pc(n),e!==null)return e;e=null}else if(t===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Rr=e,null}function Ic(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sm()){case rl:return 1;case yc:return 4;case Ir:case Cm:return 16;case vc:return 536870912;default:return 16}default:return 16}}var Un=null,al=null,fr=null;function Ac(){if(fr)return fr;var e,n=al,t=n.length,o,r="value"in Un?Un.value:Un.textContent,i=r.length;for(e=0;e<t&&n[e]===r[e];e++);var l=t-e;for(o=1;o<=l&&n[t-o]===r[i-o];o++);return fr=r.slice(e,1<o?1-o:void 0)}function pr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Xo(){return!0}function pa(){return!1}function qe(e){function n(t,o,r,i,l){this._reactName=t,this._targetInst=r,this.type=o,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(t=e[u],this[u]=t?t(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Xo:pa,this.isPropagationStopped=pa,this}return ie(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Xo)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Xo)},persist:function(){},isPersistent:Xo}),n}var Ot={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=qe(Ot),Bo=ie({},Ot,{view:0,detail:0}),Um=qe(Bo),_i,wi,no,Zr=ie({},Bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==no&&(no&&e.type==="mousemove"?(_i=e.screenX-no.screenX,wi=e.screenY-no.screenY):wi=_i=0,no=e),_i)},movementY:function(e){return"movementY"in e?e.movementY:wi}}),ma=qe(Zr),Fm=ie({},Zr,{dataTransfer:0}),Vm=qe(Fm),Gm=ie({},Bo,{relatedTarget:0}),xi=qe(Gm),Hm=ie({},Ot,{animationName:0,elapsedTime:0,pseudoElement:0}),qm=qe(Hm),Bm=ie({},Ot,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zm=qe(Bm),Jm=ie({},Ot,{data:0}),ha=qe(Jm),$m={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Om={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ym(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Om[e])?!!n[e]:!1}function dl(){return Ym}var Km=ie({},Bo,{key:function(e){if(e.key){var n=$m[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=pr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dl,charCode:function(e){return e.type==="keypress"?pr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bm=qe(Km),Qm=ie({},Zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ga=qe(Qm),Xm=ie({},Bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dl}),Zm=qe(Xm),jm=ie({},Ot,{propertyName:0,elapsedTime:0,pseudoElement:0}),eh=qe(jm),nh=ie({},Zr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),th=qe(nh),oh=[9,13,27,32],cl=Sn&&"CompositionEvent"in window,po=null;Sn&&"documentMode"in document&&(po=document.documentMode);var rh=Sn&&"TextEvent"in window&&!po,Nc=Sn&&(!cl||po&&8<po&&11>=po),ya=" ",va=!1;function Rc(e,n){switch(e){case"keyup":return oh.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yt=!1;function ih(e,n){switch(e){case"compositionend":return Pc(n);case"keypress":return n.which!==32?null:(va=!0,ya);case"textInput":return e=n.data,e===ya&&va?null:e;default:return null}}function sh(e,n){if(yt)return e==="compositionend"||!cl&&Rc(e,n)?(e=Ac(),fr=al=Un=null,yt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Nc&&n.locale!=="ko"?null:n.data;default:return null}}var lh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ea(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!lh[e.type]:n==="textarea"}function kc(e,n,t,o){ac(o),n=Pr(n,"onChange"),0<n.length&&(t=new ul("onChange","change",null,t,o),e.push({event:t,listeners:n}))}var mo=null,Ao=null;function ah(e){zc(e,0)}function jr(e){var n=Tt(e);if(nc(n))return e}function uh(e,n){if(e==="change")return n}var Mc=!1;if(Sn){var Ii;if(Sn){var Ai="oninput"in document;if(!Ai){var Ta=document.createElement("div");Ta.setAttribute("oninput","return;"),Ai=typeof Ta.oninput=="function"}Ii=Ai}else Ii=!1;Mc=Ii&&(!document.documentMode||9<document.documentMode)}function Sa(){mo&&(mo.detachEvent("onpropertychange",Dc),Ao=mo=null)}function Dc(e){if(e.propertyName==="value"&&jr(Ao)){var n=[];kc(n,Ao,e,ol(e)),fc(ah,n)}}function dh(e,n,t){e==="focusin"?(Sa(),mo=n,Ao=t,mo.attachEvent("onpropertychange",Dc)):e==="focusout"&&Sa()}function ch(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jr(Ao)}function fh(e,n){if(e==="click")return jr(n)}function ph(e,n){if(e==="input"||e==="change")return jr(n)}function mh(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var sn=typeof Object.is=="function"?Object.is:mh;function No(e,n){if(sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var t=Object.keys(e),o=Object.keys(n);if(t.length!==o.length)return!1;for(o=0;o<t.length;o++){var r=t[o];if(!$i.call(n,r)||!sn(e[r],n[r]))return!1}return!0}function Ca(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _a(e,n){var t=Ca(e);e=0;for(var o;t;){if(t.nodeType===3){if(o=e+t.textContent.length,e<=n&&o>=n)return{node:t,offset:n-e};e=o}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Ca(t)}}function Lc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Lc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Uc(){for(var e=window,n=_r();n instanceof e.HTMLIFrameElement;){try{var t=typeof n.contentWindow.location.href=="string"}catch{t=!1}if(t)e=n.contentWindow;else break;n=_r(e.document)}return n}function fl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function hh(e){var n=Uc(),t=e.focusedElem,o=e.selectionRange;if(n!==t&&t&&t.ownerDocument&&Lc(t.ownerDocument.documentElement,t)){if(o!==null&&fl(t)){if(n=o.start,e=o.end,e===void 0&&(e=n),"selectionStart"in t)t.selectionStart=n,t.selectionEnd=Math.min(e,t.value.length);else if(e=(n=t.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var r=t.textContent.length,i=Math.min(o.start,r);o=o.end===void 0?i:Math.min(o.end,r),!e.extend&&i>o&&(r=o,o=i,i=r),r=_a(t,i);var l=_a(t,o);r&&l&&(e.rangeCount!==1||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(n=n.createRange(),n.setStart(r.node,r.offset),e.removeAllRanges(),i>o?(e.addRange(n),e.extend(l.node,l.offset)):(n.setEnd(l.node,l.offset),e.addRange(n)))}}for(n=[],e=t;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<n.length;t++)e=n[t],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gh=Sn&&"documentMode"in document&&11>=document.documentMode,vt=null,us=null,ho=null,ds=!1;function wa(e,n,t){var o=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;ds||vt==null||vt!==_r(o)||(o=vt,"selectionStart"in o&&fl(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ho&&No(ho,o)||(ho=o,o=Pr(us,"onSelect"),0<o.length&&(n=new ul("onSelect","select",null,n,t),e.push({event:n,listeners:o}),n.target=vt)))}function Zo(e,n){var t={};return t[e.toLowerCase()]=n.toLowerCase(),t["Webkit"+e]="webkit"+n,t["Moz"+e]="moz"+n,t}var Et={animationend:Zo("Animation","AnimationEnd"),animationiteration:Zo("Animation","AnimationIteration"),animationstart:Zo("Animation","AnimationStart"),transitionend:Zo("Transition","TransitionEnd")},Ni={},Fc={};Sn&&(Fc=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);function ei(e){if(Ni[e])return Ni[e];if(!Et[e])return e;var n=Et[e],t;for(t in n)if(n.hasOwnProperty(t)&&t in Fc)return Ni[e]=n[t];return e}var Vc=ei("animationend"),Gc=ei("animationiteration"),Hc=ei("animationstart"),qc=ei("transitionend"),Bc=new Map,xa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(e,n){Bc.set(e,n),ct(n,[e])}for(var Ri=0;Ri<xa.length;Ri++){var Pi=xa[Ri],yh=Pi.toLowerCase(),vh=Pi[0].toUpperCase()+Pi.slice(1);Kn(yh,"on"+vh)}Kn(Vc,"onAnimationEnd");Kn(Gc,"onAnimationIteration");Kn(Hc,"onAnimationStart");Kn("dblclick","onDoubleClick");Kn("focusin","onFocus");Kn("focusout","onBlur");Kn(qc,"onTransitionEnd");Vt("onMouseEnter",["mouseout","mouseover"]);Vt("onMouseLeave",["mouseout","mouseover"]);Vt("onPointerEnter",["pointerout","pointerover"]);Vt("onPointerLeave",["pointerout","pointerover"]);ct("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ct("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ct("onBeforeInput",["compositionend","keypress","textInput","paste"]);ct("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ct("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ct("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eh=new Set("cancel close invalid load scroll toggle".split(" ").concat(uo));function Ia(e,n,t){var o=e.type||"unknown-event";e.currentTarget=t,ym(o,n,void 0,e),e.currentTarget=null}function zc(e,n){n=(n&4)!==0;for(var t=0;t<e.length;t++){var o=e[t],r=o.event;o=o.listeners;e:{var i=void 0;if(n)for(var l=o.length-1;0<=l;l--){var u=o[l],d=u.instance,c=u.currentTarget;if(u=u.listener,d!==i&&r.isPropagationStopped())break e;Ia(r,u,c),i=d}else for(l=0;l<o.length;l++){if(u=o[l],d=u.instance,c=u.currentTarget,u=u.listener,d!==i&&r.isPropagationStopped())break e;Ia(r,u,c),i=d}}}if(xr)throw e=is,xr=!1,is=null,e}function Z(e,n){var t=n[hs];t===void 0&&(t=n[hs]=new Set);var o=e+"__bubble";t.has(o)||(Jc(n,e,2,!1),t.add(o))}function ki(e,n,t){var o=0;n&&(o|=4),Jc(t,e,o,n)}var jo="_reactListening"+Math.random().toString(36).slice(2);function Ro(e){if(!e[jo]){e[jo]=!0,Qd.forEach(function(t){t!=="selectionchange"&&(Eh.has(t)||ki(t,!1,e),ki(t,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[jo]||(n[jo]=!0,ki("selectionchange",!1,n))}}function Jc(e,n,t,o){switch(Ic(n)){case 1:var r=Dm;break;case 4:r=Lm;break;default:r=ll}t=r.bind(null,n,t,e),r=void 0,!rs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(r=!0),o?r!==void 0?e.addEventListener(n,t,{capture:!0,passive:r}):e.addEventListener(n,t,!0):r!==void 0?e.addEventListener(n,t,{passive:r}):e.addEventListener(n,t,!1)}function Mi(e,n,t,o,r){var i=o;if(!(n&1)&&!(n&2)&&o!==null)e:for(;;){if(o===null)return;var l=o.tag;if(l===3||l===4){var u=o.stateNode.containerInfo;if(u===r||u.nodeType===8&&u.parentNode===r)break;if(l===4)for(l=o.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===r||d.nodeType===8&&d.parentNode===r))return;l=l.return}for(;u!==null;){if(l=nt(u),l===null)return;if(d=l.tag,d===5||d===6){o=i=l;continue e}u=u.parentNode}}o=o.return}fc(function(){var c=i,f=ol(t),p=[];e:{var m=Bc.get(e);if(m!==void 0){var y=ul,S=e;switch(e){case"keypress":if(pr(t)===0)break e;case"keydown":case"keyup":y=bm;break;case"focusin":S="focus",y=xi;break;case"focusout":S="blur",y=xi;break;case"beforeblur":case"afterblur":y=xi;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ma;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Zm;break;case Vc:case Gc:case Hc:y=qm;break;case qc:y=eh;break;case"scroll":y=Um;break;case"wheel":y=th;break;case"copy":case"cut":case"paste":y=zm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=ga}var C=(n&4)!==0,I=!C&&e==="scroll",v=C?m!==null?m+"Capture":null:m;C=[];for(var h=c,E;h!==null;){E=h;var T=E.stateNode;if(E.tag===5&&T!==null&&(E=T,v!==null&&(T=_o(h,v),T!=null&&C.push(Po(h,T,E)))),I)break;h=h.return}0<C.length&&(m=new y(m,S,null,t,f),p.push({event:m,listeners:C}))}}if(!(n&7)){e:{if(m=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",m&&t!==ts&&(S=t.relatedTarget||t.fromElement)&&(nt(S)||S[Cn]))break e;if((y||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,y?(S=t.relatedTarget||t.toElement,y=c,S=S?nt(S):null,S!==null&&(I=ft(S),S!==I||S.tag!==5&&S.tag!==6)&&(S=null)):(y=null,S=c),y!==S)){if(C=ma,T="onMouseLeave",v="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(C=ga,T="onPointerLeave",v="onPointerEnter",h="pointer"),I=y==null?m:Tt(y),E=S==null?m:Tt(S),m=new C(T,h+"leave",y,t,f),m.target=I,m.relatedTarget=E,T=null,nt(f)===c&&(C=new C(v,h+"enter",S,t,f),C.target=E,C.relatedTarget=I,T=C),I=T,y&&S)n:{for(C=y,v=S,h=0,E=C;E;E=mt(E))h++;for(E=0,T=v;T;T=mt(T))E++;for(;0<h-E;)C=mt(C),h--;for(;0<E-h;)v=mt(v),E--;for(;h--;){if(C===v||v!==null&&C===v.alternate)break n;C=mt(C),v=mt(v)}C=null}else C=null;y!==null&&Aa(p,m,y,C,!1),S!==null&&I!==null&&Aa(p,I,S,C,!0)}}e:{if(m=c?Tt(c):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var _=uh;else if(Ea(m))if(Mc)_=ph;else{_=ch;var x=dh}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(_=fh);if(_&&(_=_(e,c))){kc(p,_,t,f);break e}x&&x(e,m,c),e==="focusout"&&(x=m._wrapperState)&&x.controlled&&m.type==="number"&&Xi(m,"number",m.value)}switch(x=c?Tt(c):window,e){case"focusin":(Ea(x)||x.contentEditable==="true")&&(vt=x,us=c,ho=null);break;case"focusout":ho=us=vt=null;break;case"mousedown":ds=!0;break;case"contextmenu":case"mouseup":case"dragend":ds=!1,wa(p,t,f);break;case"selectionchange":if(gh)break;case"keydown":case"keyup":wa(p,t,f)}var w;if(cl)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else yt?Rc(e,t)&&(R="onCompositionEnd"):e==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&(Nc&&t.locale!=="ko"&&(yt||R!=="onCompositionStart"?R==="onCompositionEnd"&&yt&&(w=Ac()):(Un=f,al="value"in Un?Un.value:Un.textContent,yt=!0)),x=Pr(c,R),0<x.length&&(R=new ha(R,e,null,t,f),p.push({event:R,listeners:x}),w?R.data=w:(w=Pc(t),w!==null&&(R.data=w)))),(w=rh?ih(e,t):sh(e,t))&&(c=Pr(c,"onBeforeInput"),0<c.length&&(f=new ha("onBeforeInput","beforeinput",null,t,f),p.push({event:f,listeners:c}),f.data=w))}zc(p,n)})}function Po(e,n,t){return{instance:e,listener:n,currentTarget:t}}function Pr(e,n){for(var t=n+"Capture",o=[];e!==null;){var r=e,i=r.stateNode;r.tag===5&&i!==null&&(r=i,i=_o(e,t),i!=null&&o.unshift(Po(e,i,r)),i=_o(e,n),i!=null&&o.push(Po(e,i,r))),e=e.return}return o}function mt(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Aa(e,n,t,o,r){for(var i=n._reactName,l=[];t!==null&&t!==o;){var u=t,d=u.alternate,c=u.stateNode;if(d!==null&&d===o)break;u.tag===5&&c!==null&&(u=c,r?(d=_o(t,i),d!=null&&l.unshift(Po(t,d,u))):r||(d=_o(t,i),d!=null&&l.push(Po(t,d,u)))),t=t.return}l.length!==0&&e.push({event:n,listeners:l})}var Th=/\r\n?/g,Sh=/\u0000|\uFFFD/g;function Na(e){return(typeof e=="string"?e:""+e).replace(Th,`
`).replace(Sh,"")}function er(e,n,t){if(n=Na(n),Na(e)!==n&&t)throw Error(P(425))}function kr(){}var cs=null,fs=null;function ps(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ms=typeof setTimeout=="function"?setTimeout:void 0,Ch=typeof clearTimeout=="function"?clearTimeout:void 0,Ra=typeof Promise=="function"?Promise:void 0,_h=typeof queueMicrotask=="function"?queueMicrotask:typeof Ra<"u"?function(e){return Ra.resolve(null).then(e).catch(wh)}:ms;function wh(e){setTimeout(function(){throw e})}function Di(e,n){var t=n,o=0;do{var r=t.nextSibling;if(e.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(o===0){e.removeChild(r),Io(n);return}o--}else t!=="$"&&t!=="$?"&&t!=="$!"||o++;t=r}while(t);Io(n)}function Bn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Pa(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var t=e.data;if(t==="$"||t==="$!"||t==="$?"){if(n===0)return e;n--}else t==="/$"&&n++}e=e.previousSibling}return null}var Yt=Math.random().toString(36).slice(2),fn="__reactFiber$"+Yt,ko="__reactProps$"+Yt,Cn="__reactContainer$"+Yt,hs="__reactEvents$"+Yt,xh="__reactListeners$"+Yt,Ih="__reactHandles$"+Yt;function nt(e){var n=e[fn];if(n)return n;for(var t=e.parentNode;t;){if(n=t[Cn]||t[fn]){if(t=n.alternate,n.child!==null||t!==null&&t.child!==null)for(e=Pa(e);e!==null;){if(t=e[fn])return t;e=Pa(e)}return n}e=t,t=e.parentNode}return null}function zo(e){return e=e[fn]||e[Cn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tt(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function ni(e){return e[ko]||null}var gs=[],St=-1;function bn(e){return{current:e}}function ee(e){0>St||(e.current=gs[St],gs[St]=null,St--)}function K(e,n){St++,gs[St]=e.current,e.current=n}var Yn={},xe=bn(Yn),Me=bn(!1),st=Yn;function Gt(e,n){var t=e.type.contextTypes;if(!t)return Yn;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===n)return o.__reactInternalMemoizedMaskedChildContext;var r={},i;for(i in t)r[i]=n[i];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=r),r}function De(e){return e=e.childContextTypes,e!=null}function Mr(){ee(Me),ee(xe)}function ka(e,n,t){if(xe.current!==Yn)throw Error(P(168));K(xe,n),K(Me,t)}function $c(e,n,t){var o=e.stateNode;if(n=n.childContextTypes,typeof o.getChildContext!="function")return t;o=o.getChildContext();for(var r in o)if(!(r in n))throw Error(P(108,dm(e)||"Unknown",r));return ie({},t,o)}function Dr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yn,st=xe.current,K(xe,e),K(Me,Me.current),!0}function Ma(e,n,t){var o=e.stateNode;if(!o)throw Error(P(169));t?(e=$c(e,n,st),o.__reactInternalMemoizedMergedChildContext=e,ee(Me),ee(xe),K(xe,e)):ee(Me),K(Me,t)}var gn=null,ti=!1,Li=!1;function Wc(e){gn===null?gn=[e]:gn.push(e)}function Ah(e){ti=!0,Wc(e)}function Qn(){if(!Li&&gn!==null){Li=!0;var e=0,n=O;try{var t=gn;for(O=1;e<t.length;e++){var o=t[e];do o=o(!0);while(o!==null)}gn=null,ti=!1}catch(r){throw gn!==null&&(gn=gn.slice(e+1)),gc(rl,Qn),r}finally{O=n,Li=!1}}return null}var Ct=[],_t=0,Lr=null,Ur=0,Je=[],$e=0,lt=null,vn=1,En="";function jn(e,n){Ct[_t++]=Ur,Ct[_t++]=Lr,Lr=e,Ur=n}function Oc(e,n,t){Je[$e++]=vn,Je[$e++]=En,Je[$e++]=lt,lt=e;var o=vn;e=En;var r=32-on(o)-1;o&=~(1<<r),t+=1;var i=32-on(n)+r;if(30<i){var l=r-r%5;i=(o&(1<<l)-1).toString(32),o>>=l,r-=l,vn=1<<32-on(n)+r|t<<r|o,En=i+e}else vn=1<<i|t<<r|o,En=e}function pl(e){e.return!==null&&(jn(e,1),Oc(e,1,0))}function ml(e){for(;e===Lr;)Lr=Ct[--_t],Ct[_t]=null,Ur=Ct[--_t],Ct[_t]=null;for(;e===lt;)lt=Je[--$e],Je[$e]=null,En=Je[--$e],Je[$e]=null,vn=Je[--$e],Je[$e]=null}var Ve=null,Fe=null,te=!1,tn=null;function Yc(e,n){var t=We(5,null,null,0);t.elementType="DELETED",t.stateNode=n,t.return=e,n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)}function Da(e,n){switch(e.tag){case 5:var t=e.type;return n=n.nodeType!==1||t.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Ve=e,Fe=Bn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Ve=e,Fe=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(t=lt!==null?{id:vn,overflow:En}:null,e.memoizedState={dehydrated:n,treeContext:t,retryLane:1073741824},t=We(18,null,null,0),t.stateNode=n,t.return=e,e.child=t,Ve=e,Fe=null,!0):!1;default:return!1}}function ys(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vs(e){if(te){var n=Fe;if(n){var t=n;if(!Da(e,n)){if(ys(e))throw Error(P(418));n=Bn(t.nextSibling);var o=Ve;n&&Da(e,n)?Yc(o,t):(e.flags=e.flags&-4097|2,te=!1,Ve=e)}}else{if(ys(e))throw Error(P(418));e.flags=e.flags&-4097|2,te=!1,Ve=e}}}function La(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ve=e}function nr(e){if(e!==Ve)return!1;if(!te)return La(e),te=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!ps(e.type,e.memoizedProps)),n&&(n=Fe)){if(ys(e))throw Kc(),Error(P(418));for(;n;)Yc(e,n),n=Bn(n.nextSibling)}if(La(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var t=e.data;if(t==="/$"){if(n===0){Fe=Bn(e.nextSibling);break e}n--}else t!=="$"&&t!=="$!"&&t!=="$?"||n++}e=e.nextSibling}Fe=null}}else Fe=Ve?Bn(e.stateNode.nextSibling):null;return!0}function Kc(){for(var e=Fe;e;)e=Bn(e.nextSibling)}function Ht(){Fe=Ve=null,te=!1}function hl(e){tn===null?tn=[e]:tn.push(e)}var Nh=In.ReactCurrentBatchConfig;function to(e,n,t){if(e=t.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(P(309));var o=t.stateNode}if(!o)throw Error(P(147,e));var r=o,i=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===i?n.ref:(n=function(l){var u=r.refs;l===null?delete u[i]:u[i]=l},n._stringRef=i,n)}if(typeof e!="string")throw Error(P(284));if(!t._owner)throw Error(P(290,e))}return e}function tr(e,n){throw e=Object.prototype.toString.call(n),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Ua(e){var n=e._init;return n(e._payload)}function bc(e){function n(v,h){if(e){var E=v.deletions;E===null?(v.deletions=[h],v.flags|=16):E.push(h)}}function t(v,h){if(!e)return null;for(;h!==null;)n(v,h),h=h.sibling;return null}function o(v,h){for(v=new Map;h!==null;)h.key!==null?v.set(h.key,h):v.set(h.index,h),h=h.sibling;return v}function r(v,h){return v=Wn(v,h),v.index=0,v.sibling=null,v}function i(v,h,E){return v.index=E,e?(E=v.alternate,E!==null?(E=E.index,E<h?(v.flags|=2,h):E):(v.flags|=2,h)):(v.flags|=1048576,h)}function l(v){return e&&v.alternate===null&&(v.flags|=2),v}function u(v,h,E,T){return h===null||h.tag!==6?(h=Bi(E,v.mode,T),h.return=v,h):(h=r(h,E),h.return=v,h)}function d(v,h,E,T){var _=E.type;return _===gt?f(v,h,E.props.children,T,E.key):h!==null&&(h.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===kn&&Ua(_)===h.type)?(T=r(h,E.props),T.ref=to(v,h,E),T.return=v,T):(T=Tr(E.type,E.key,E.props,null,v.mode,T),T.ref=to(v,h,E),T.return=v,T)}function c(v,h,E,T){return h===null||h.tag!==4||h.stateNode.containerInfo!==E.containerInfo||h.stateNode.implementation!==E.implementation?(h=zi(E,v.mode,T),h.return=v,h):(h=r(h,E.children||[]),h.return=v,h)}function f(v,h,E,T,_){return h===null||h.tag!==7?(h=it(E,v.mode,T,_),h.return=v,h):(h=r(h,E),h.return=v,h)}function p(v,h,E){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Bi(""+h,v.mode,E),h.return=v,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Wo:return E=Tr(h.type,h.key,h.props,null,v.mode,E),E.ref=to(v,null,h),E.return=v,E;case ht:return h=zi(h,v.mode,E),h.return=v,h;case kn:var T=h._init;return p(v,T(h._payload),E)}if(lo(h)||Xt(h))return h=it(h,v.mode,E,null),h.return=v,h;tr(v,h)}return null}function m(v,h,E,T){var _=h!==null?h.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return _!==null?null:u(v,h,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Wo:return E.key===_?d(v,h,E,T):null;case ht:return E.key===_?c(v,h,E,T):null;case kn:return _=E._init,m(v,h,_(E._payload),T)}if(lo(E)||Xt(E))return _!==null?null:f(v,h,E,T,null);tr(v,E)}return null}function y(v,h,E,T,_){if(typeof T=="string"&&T!==""||typeof T=="number")return v=v.get(E)||null,u(h,v,""+T,_);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Wo:return v=v.get(T.key===null?E:T.key)||null,d(h,v,T,_);case ht:return v=v.get(T.key===null?E:T.key)||null,c(h,v,T,_);case kn:var x=T._init;return y(v,h,E,x(T._payload),_)}if(lo(T)||Xt(T))return v=v.get(E)||null,f(h,v,T,_,null);tr(h,T)}return null}function S(v,h,E,T){for(var _=null,x=null,w=h,R=h=0,A=null;w!==null&&R<E.length;R++){w.index>R?(A=w,w=null):A=w.sibling;var N=m(v,w,E[R],T);if(N===null){w===null&&(w=A);break}e&&w&&N.alternate===null&&n(v,w),h=i(N,h,R),x===null?_=N:x.sibling=N,x=N,w=A}if(R===E.length)return t(v,w),te&&jn(v,R),_;if(w===null){for(;R<E.length;R++)w=p(v,E[R],T),w!==null&&(h=i(w,h,R),x===null?_=w:x.sibling=w,x=w);return te&&jn(v,R),_}for(w=o(v,w);R<E.length;R++)A=y(w,v,R,E[R],T),A!==null&&(e&&A.alternate!==null&&w.delete(A.key===null?R:A.key),h=i(A,h,R),x===null?_=A:x.sibling=A,x=A);return e&&w.forEach(function(F){return n(v,F)}),te&&jn(v,R),_}function C(v,h,E,T){var _=Xt(E);if(typeof _!="function")throw Error(P(150));if(E=_.call(E),E==null)throw Error(P(151));for(var x=_=null,w=h,R=h=0,A=null,N=E.next();w!==null&&!N.done;R++,N=E.next()){w.index>R?(A=w,w=null):A=w.sibling;var F=m(v,w,N.value,T);if(F===null){w===null&&(w=A);break}e&&w&&F.alternate===null&&n(v,w),h=i(F,h,R),x===null?_=F:x.sibling=F,x=F,w=A}if(N.done)return t(v,w),te&&jn(v,R),_;if(w===null){for(;!N.done;R++,N=E.next())N=p(v,N.value,T),N!==null&&(h=i(N,h,R),x===null?_=N:x.sibling=N,x=N);return te&&jn(v,R),_}for(w=o(v,w);!N.done;R++,N=E.next())N=y(w,v,R,N.value,T),N!==null&&(e&&N.alternate!==null&&w.delete(N.key===null?R:N.key),h=i(N,h,R),x===null?_=N:x.sibling=N,x=N);return e&&w.forEach(function(B){return n(v,B)}),te&&jn(v,R),_}function I(v,h,E,T){if(typeof E=="object"&&E!==null&&E.type===gt&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Wo:e:{for(var _=E.key,x=h;x!==null;){if(x.key===_){if(_=E.type,_===gt){if(x.tag===7){t(v,x.sibling),h=r(x,E.props.children),h.return=v,v=h;break e}}else if(x.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===kn&&Ua(_)===x.type){t(v,x.sibling),h=r(x,E.props),h.ref=to(v,x,E),h.return=v,v=h;break e}t(v,x);break}else n(v,x);x=x.sibling}E.type===gt?(h=it(E.props.children,v.mode,T,E.key),h.return=v,v=h):(T=Tr(E.type,E.key,E.props,null,v.mode,T),T.ref=to(v,h,E),T.return=v,v=T)}return l(v);case ht:e:{for(x=E.key;h!==null;){if(h.key===x)if(h.tag===4&&h.stateNode.containerInfo===E.containerInfo&&h.stateNode.implementation===E.implementation){t(v,h.sibling),h=r(h,E.children||[]),h.return=v,v=h;break e}else{t(v,h);break}else n(v,h);h=h.sibling}h=zi(E,v.mode,T),h.return=v,v=h}return l(v);case kn:return x=E._init,I(v,h,x(E._payload),T)}if(lo(E))return S(v,h,E,T);if(Xt(E))return C(v,h,E,T);tr(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,h!==null&&h.tag===6?(t(v,h.sibling),h=r(h,E),h.return=v,v=h):(t(v,h),h=Bi(E,v.mode,T),h.return=v,v=h),l(v)):t(v,h)}return I}var qt=bc(!0),Qc=bc(!1),Fr=bn(null),Vr=null,wt=null,gl=null;function yl(){gl=wt=Vr=null}function vl(e){var n=Fr.current;ee(Fr),e._currentValue=n}function Es(e,n,t){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===t)break;e=e.return}}function Mt(e,n){Vr=e,gl=wt=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(ke=!0),e.firstContext=null)}function Ke(e){var n=e._currentValue;if(gl!==e)if(e={context:e,memoizedValue:n,next:null},wt===null){if(Vr===null)throw Error(P(308));wt=e,Vr.dependencies={lanes:0,firstContext:e}}else wt=wt.next=e;return n}var tt=null;function El(e){tt===null?tt=[e]:tt.push(e)}function Xc(e,n,t,o){var r=n.interleaved;return r===null?(t.next=t,El(n)):(t.next=r.next,r.next=t),n.interleaved=t,_n(e,o)}function _n(e,n){e.lanes|=n;var t=e.alternate;for(t!==null&&(t.lanes|=n),t=e,e=e.return;e!==null;)e.childLanes|=n,t=e.alternate,t!==null&&(t.childLanes|=n),t=e,e=e.return;return t.tag===3?t.stateNode:null}var Mn=!1;function Tl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function zn(e,n,t){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,J&2){var r=o.pending;return r===null?n.next=n:(n.next=r.next,r.next=n),o.pending=n,_n(e,t)}return r=o.interleaved,r===null?(n.next=n,El(o)):(n.next=r.next,r.next=n),o.interleaved=n,_n(e,t)}function mr(e,n,t){if(n=n.updateQueue,n!==null&&(n=n.shared,(t&4194240)!==0)){var o=n.lanes;o&=e.pendingLanes,t|=o,n.lanes=t,il(e,t)}}function Fa(e,n){var t=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,t===o)){var r=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var l={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?r=i=l:i=i.next=l,t=t.next}while(t!==null);i===null?r=i=n:i=i.next=n}else r=i=n;t={baseState:o.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:o.shared,effects:o.effects},e.updateQueue=t;return}e=t.lastBaseUpdate,e===null?t.firstBaseUpdate=n:e.next=n,t.lastBaseUpdate=n}function Gr(e,n,t,o){var r=e.updateQueue;Mn=!1;var i=r.firstBaseUpdate,l=r.lastBaseUpdate,u=r.shared.pending;if(u!==null){r.shared.pending=null;var d=u,c=d.next;d.next=null,l===null?i=c:l.next=c,l=d;var f=e.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==l&&(u===null?f.firstBaseUpdate=c:u.next=c,f.lastBaseUpdate=d))}if(i!==null){var p=r.baseState;l=0,f=c=d=null,u=i;do{var m=u.lane,y=u.eventTime;if((o&m)===m){f!==null&&(f=f.next={eventTime:y,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var S=e,C=u;switch(m=n,y=t,C.tag){case 1:if(S=C.payload,typeof S=="function"){p=S.call(y,p,m);break e}p=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=C.payload,m=typeof S=="function"?S.call(y,p,m):S,m==null)break e;p=ie({},p,m);break e;case 2:Mn=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,m=r.effects,m===null?r.effects=[u]:m.push(u))}else y={eventTime:y,lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(c=f=y,d=p):f=f.next=y,l|=m;if(u=u.next,u===null){if(u=r.shared.pending,u===null)break;m=u,u=m.next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}while(!0);if(f===null&&(d=p),r.baseState=d,r.firstBaseUpdate=c,r.lastBaseUpdate=f,n=r.shared.interleaved,n!==null){r=n;do l|=r.lane,r=r.next;while(r!==n)}else i===null&&(r.shared.lanes=0);ut|=l,e.lanes=l,e.memoizedState=p}}function Va(e,n,t){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var o=e[n],r=o.callback;if(r!==null){if(o.callback=null,o=t,typeof r!="function")throw Error(P(191,r));r.call(o)}}}var Jo={},mn=bn(Jo),Mo=bn(Jo),Do=bn(Jo);function ot(e){if(e===Jo)throw Error(P(174));return e}function Sl(e,n){switch(K(Do,n),K(Mo,e),K(mn,Jo),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:ji(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=ji(n,e)}ee(mn),K(mn,n)}function Bt(){ee(mn),ee(Mo),ee(Do)}function jc(e){ot(Do.current);var n=ot(mn.current),t=ji(n,e.type);n!==t&&(K(Mo,e),K(mn,t))}function Cl(e){Mo.current===e&&(ee(mn),ee(Mo))}var oe=bn(0);function Hr(e){for(var n=e;n!==null;){if(n.tag===13){var t=n.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ui=[];function _l(){for(var e=0;e<Ui.length;e++)Ui[e]._workInProgressVersionPrimary=null;Ui.length=0}var hr=In.ReactCurrentDispatcher,Fi=In.ReactCurrentBatchConfig,at=0,re=null,ce=null,pe=null,qr=!1,go=!1,Lo=0,Rh=0;function Se(){throw Error(P(321))}function wl(e,n){if(n===null)return!1;for(var t=0;t<n.length&&t<e.length;t++)if(!sn(e[t],n[t]))return!1;return!0}function xl(e,n,t,o,r,i){if(at=i,re=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,hr.current=e===null||e.memoizedState===null?Dh:Lh,e=t(o,r),go){i=0;do{if(go=!1,Lo=0,25<=i)throw Error(P(301));i+=1,pe=ce=null,n.updateQueue=null,hr.current=Uh,e=t(o,r)}while(go)}if(hr.current=Br,n=ce!==null&&ce.next!==null,at=0,pe=ce=re=null,qr=!1,n)throw Error(P(300));return e}function Il(){var e=Lo!==0;return Lo=0,e}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?re.memoizedState=pe=e:pe=pe.next=e,pe}function be(){if(ce===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=ce.next;var n=pe===null?re.memoizedState:pe.next;if(n!==null)pe=n,ce=e;else{if(e===null)throw Error(P(310));ce=e,e={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},pe===null?re.memoizedState=pe=e:pe=pe.next=e}return pe}function Uo(e,n){return typeof n=="function"?n(e):n}function Vi(e){var n=be(),t=n.queue;if(t===null)throw Error(P(311));t.lastRenderedReducer=e;var o=ce,r=o.baseQueue,i=t.pending;if(i!==null){if(r!==null){var l=r.next;r.next=i.next,i.next=l}o.baseQueue=r=i,t.pending=null}if(r!==null){i=r.next,o=o.baseState;var u=l=null,d=null,c=i;do{var f=c.lane;if((at&f)===f)d!==null&&(d=d.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),o=c.hasEagerState?c.eagerState:e(o,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};d===null?(u=d=p,l=o):d=d.next=p,re.lanes|=f,ut|=f}c=c.next}while(c!==null&&c!==i);d===null?l=o:d.next=u,sn(o,n.memoizedState)||(ke=!0),n.memoizedState=o,n.baseState=l,n.baseQueue=d,t.lastRenderedState=o}if(e=t.interleaved,e!==null){r=e;do i=r.lane,re.lanes|=i,ut|=i,r=r.next;while(r!==e)}else r===null&&(t.lanes=0);return[n.memoizedState,t.dispatch]}function Gi(e){var n=be(),t=n.queue;if(t===null)throw Error(P(311));t.lastRenderedReducer=e;var o=t.dispatch,r=t.pending,i=n.memoizedState;if(r!==null){t.pending=null;var l=r=r.next;do i=e(i,l.action),l=l.next;while(l!==r);sn(i,n.memoizedState)||(ke=!0),n.memoizedState=i,n.baseQueue===null&&(n.baseState=i),t.lastRenderedState=i}return[i,o]}function ef(){}function nf(e,n){var t=re,o=be(),r=n(),i=!sn(o.memoizedState,r);if(i&&(o.memoizedState=r,ke=!0),o=o.queue,Al(rf.bind(null,t,o,e),[e]),o.getSnapshot!==n||i||pe!==null&&pe.memoizedState.tag&1){if(t.flags|=2048,Fo(9,of.bind(null,t,o,r,n),void 0,null),me===null)throw Error(P(349));at&30||tf(t,n,r)}return r}function tf(e,n,t){e.flags|=16384,e={getSnapshot:n,value:t},n=re.updateQueue,n===null?(n={lastEffect:null,stores:null},re.updateQueue=n,n.stores=[e]):(t=n.stores,t===null?n.stores=[e]:t.push(e))}function of(e,n,t,o){n.value=t,n.getSnapshot=o,sf(n)&&lf(e)}function rf(e,n,t){return t(function(){sf(n)&&lf(e)})}function sf(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!sn(e,t)}catch{return!0}}function lf(e){var n=_n(e,1);n!==null&&rn(n,e,1,-1)}function Ga(e){var n=cn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:e},n.queue=e,e=e.dispatch=Mh.bind(null,re,e),[n.memoizedState,e]}function Fo(e,n,t,o){return e={tag:e,create:n,destroy:t,deps:o,next:null},n=re.updateQueue,n===null?(n={lastEffect:null,stores:null},re.updateQueue=n,n.lastEffect=e.next=e):(t=n.lastEffect,t===null?n.lastEffect=e.next=e:(o=t.next,t.next=e,e.next=o,n.lastEffect=e)),e}function af(){return be().memoizedState}function gr(e,n,t,o){var r=cn();re.flags|=e,r.memoizedState=Fo(1|n,t,void 0,o===void 0?null:o)}function oi(e,n,t,o){var r=be();o=o===void 0?null:o;var i=void 0;if(ce!==null){var l=ce.memoizedState;if(i=l.destroy,o!==null&&wl(o,l.deps)){r.memoizedState=Fo(n,t,i,o);return}}re.flags|=e,r.memoizedState=Fo(1|n,t,i,o)}function Ha(e,n){return gr(8390656,8,e,n)}function Al(e,n){return oi(2048,8,e,n)}function uf(e,n){return oi(4,2,e,n)}function df(e,n){return oi(4,4,e,n)}function cf(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ff(e,n,t){return t=t!=null?t.concat([e]):null,oi(4,4,cf.bind(null,n,e),t)}function Nl(){}function pf(e,n){var t=be();n=n===void 0?null:n;var o=t.memoizedState;return o!==null&&n!==null&&wl(n,o[1])?o[0]:(t.memoizedState=[e,n],e)}function mf(e,n){var t=be();n=n===void 0?null:n;var o=t.memoizedState;return o!==null&&n!==null&&wl(n,o[1])?o[0]:(e=e(),t.memoizedState=[e,n],e)}function hf(e,n,t){return at&21?(sn(t,n)||(t=Ec(),re.lanes|=t,ut|=t,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,ke=!0),e.memoizedState=t)}function Ph(e,n){var t=O;O=t!==0&&4>t?t:4,e(!0);var o=Fi.transition;Fi.transition={};try{e(!1),n()}finally{O=t,Fi.transition=o}}function gf(){return be().memoizedState}function kh(e,n,t){var o=$n(e);if(t={lane:o,action:t,hasEagerState:!1,eagerState:null,next:null},yf(e))vf(n,t);else if(t=Xc(e,n,t,o),t!==null){var r=Ae();rn(t,e,o,r),Ef(t,n,o)}}function Mh(e,n,t){var o=$n(e),r={lane:o,action:t,hasEagerState:!1,eagerState:null,next:null};if(yf(e))vf(n,r);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=n.lastRenderedReducer,i!==null))try{var l=n.lastRenderedState,u=i(l,t);if(r.hasEagerState=!0,r.eagerState=u,sn(u,l)){var d=n.interleaved;d===null?(r.next=r,El(n)):(r.next=d.next,d.next=r),n.interleaved=r;return}}catch{}finally{}t=Xc(e,n,r,o),t!==null&&(r=Ae(),rn(t,e,o,r),Ef(t,n,o))}}function yf(e){var n=e.alternate;return e===re||n!==null&&n===re}function vf(e,n){go=qr=!0;var t=e.pending;t===null?n.next=n:(n.next=t.next,t.next=n),e.pending=n}function Ef(e,n,t){if(t&4194240){var o=n.lanes;o&=e.pendingLanes,t|=o,n.lanes=t,il(e,t)}}var Br={readContext:Ke,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},Dh={readContext:Ke,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:Ke,useEffect:Ha,useImperativeHandle:function(e,n,t){return t=t!=null?t.concat([e]):null,gr(4194308,4,cf.bind(null,n,e),t)},useLayoutEffect:function(e,n){return gr(4194308,4,e,n)},useInsertionEffect:function(e,n){return gr(4,2,e,n)},useMemo:function(e,n){var t=cn();return n=n===void 0?null:n,e=e(),t.memoizedState=[e,n],e},useReducer:function(e,n,t){var o=cn();return n=t!==void 0?t(n):n,o.memoizedState=o.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},o.queue=e,e=e.dispatch=kh.bind(null,re,e),[o.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:Ga,useDebugValue:Nl,useDeferredValue:function(e){return cn().memoizedState=e},useTransition:function(){var e=Ga(!1),n=e[0];return e=Ph.bind(null,e[1]),cn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,t){var o=re,r=cn();if(te){if(t===void 0)throw Error(P(407));t=t()}else{if(t=n(),me===null)throw Error(P(349));at&30||tf(o,n,t)}r.memoizedState=t;var i={value:t,getSnapshot:n};return r.queue=i,Ha(rf.bind(null,o,i,e),[e]),o.flags|=2048,Fo(9,of.bind(null,o,i,t,n),void 0,null),t},useId:function(){var e=cn(),n=me.identifierPrefix;if(te){var t=En,o=vn;t=(o&~(1<<32-on(o)-1)).toString(32)+t,n=":"+n+"R"+t,t=Lo++,0<t&&(n+="H"+t.toString(32)),n+=":"}else t=Rh++,n=":"+n+"r"+t.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Lh={readContext:Ke,useCallback:pf,useContext:Ke,useEffect:Al,useImperativeHandle:ff,useInsertionEffect:uf,useLayoutEffect:df,useMemo:mf,useReducer:Vi,useRef:af,useState:function(){return Vi(Uo)},useDebugValue:Nl,useDeferredValue:function(e){var n=be();return hf(n,ce.memoizedState,e)},useTransition:function(){var e=Vi(Uo)[0],n=be().memoizedState;return[e,n]},useMutableSource:ef,useSyncExternalStore:nf,useId:gf,unstable_isNewReconciler:!1},Uh={readContext:Ke,useCallback:pf,useContext:Ke,useEffect:Al,useImperativeHandle:ff,useInsertionEffect:uf,useLayoutEffect:df,useMemo:mf,useReducer:Gi,useRef:af,useState:function(){return Gi(Uo)},useDebugValue:Nl,useDeferredValue:function(e){var n=be();return ce===null?n.memoizedState=e:hf(n,ce.memoizedState,e)},useTransition:function(){var e=Gi(Uo)[0],n=be().memoizedState;return[e,n]},useMutableSource:ef,useSyncExternalStore:nf,useId:gf,unstable_isNewReconciler:!1};function en(e,n){if(e&&e.defaultProps){n=ie({},n),e=e.defaultProps;for(var t in e)n[t]===void 0&&(n[t]=e[t]);return n}return n}function Ts(e,n,t,o){n=e.memoizedState,t=t(o,n),t=t==null?n:ie({},n,t),e.memoizedState=t,e.lanes===0&&(e.updateQueue.baseState=t)}var ri={isMounted:function(e){return(e=e._reactInternals)?ft(e)===e:!1},enqueueSetState:function(e,n,t){e=e._reactInternals;var o=Ae(),r=$n(e),i=Tn(o,r);i.payload=n,t!=null&&(i.callback=t),n=zn(e,i,r),n!==null&&(rn(n,e,r,o),mr(n,e,r))},enqueueReplaceState:function(e,n,t){e=e._reactInternals;var o=Ae(),r=$n(e),i=Tn(o,r);i.tag=1,i.payload=n,t!=null&&(i.callback=t),n=zn(e,i,r),n!==null&&(rn(n,e,r,o),mr(n,e,r))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var t=Ae(),o=$n(e),r=Tn(t,o);r.tag=2,n!=null&&(r.callback=n),n=zn(e,r,o),n!==null&&(rn(n,e,o,t),mr(n,e,o))}};function qa(e,n,t,o,r,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,i,l):n.prototype&&n.prototype.isPureReactComponent?!No(t,o)||!No(r,i):!0}function Tf(e,n,t){var o=!1,r=Yn,i=n.contextType;return typeof i=="object"&&i!==null?i=Ke(i):(r=De(n)?st:xe.current,o=n.contextTypes,i=(o=o!=null)?Gt(e,r):Yn),n=new n(t,i),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=ri,e.stateNode=n,n._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),n}function Ba(e,n,t,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(t,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(t,o),n.state!==e&&ri.enqueueReplaceState(n,n.state,null)}function Ss(e,n,t,o){var r=e.stateNode;r.props=t,r.state=e.memoizedState,r.refs={},Tl(e);var i=n.contextType;typeof i=="object"&&i!==null?r.context=Ke(i):(i=De(n)?st:xe.current,r.context=Gt(e,i)),r.state=e.memoizedState,i=n.getDerivedStateFromProps,typeof i=="function"&&(Ts(e,n,i,t),r.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(n=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),n!==r.state&&ri.enqueueReplaceState(r,r.state,null),Gr(e,t,r,o),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308)}function zt(e,n){try{var t="",o=n;do t+=um(o),o=o.return;while(o);var r=t}catch(i){r=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:n,stack:r,digest:null}}function Hi(e,n,t){return{value:e,source:null,stack:t??null,digest:n??null}}function Cs(e,n){try{console.error(n.value)}catch(t){setTimeout(function(){throw t})}}var Fh=typeof WeakMap=="function"?WeakMap:Map;function Sf(e,n,t){t=Tn(-1,t),t.tag=3,t.payload={element:null};var o=n.value;return t.callback=function(){Jr||(Jr=!0,Ms=o),Cs(e,n)},t}function Cf(e,n,t){t=Tn(-1,t),t.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var r=n.value;t.payload=function(){return o(r)},t.callback=function(){Cs(e,n)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){Cs(e,n),typeof o!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var l=n.stack;this.componentDidCatch(n.value,{componentStack:l!==null?l:""})}),t}function za(e,n,t){var o=e.pingCache;if(o===null){o=e.pingCache=new Fh;var r=new Set;o.set(n,r)}else r=o.get(n),r===void 0&&(r=new Set,o.set(n,r));r.has(t)||(r.add(t),e=Qh.bind(null,e,n,t),n.then(e,e))}function Ja(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function $a(e,n,t,o,r){return e.mode&1?(e.flags|=65536,e.lanes=r,e):(e===n?e.flags|=65536:(e.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(n=Tn(-1,1),n.tag=2,zn(t,n,1))),t.lanes|=1),e)}var Vh=In.ReactCurrentOwner,ke=!1;function Ie(e,n,t,o){n.child=e===null?Qc(n,null,t,o):qt(n,e.child,t,o)}function Wa(e,n,t,o,r){t=t.render;var i=n.ref;return Mt(n,r),o=xl(e,n,t,o,i,r),t=Il(),e!==null&&!ke?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r,wn(e,n,r)):(te&&t&&pl(n),n.flags|=1,Ie(e,n,o,r),n.child)}function Oa(e,n,t,o,r){if(e===null){var i=t.type;return typeof i=="function"&&!Fl(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(n.tag=15,n.type=i,_f(e,n,i,o,r)):(e=Tr(t.type,null,o,n,n.mode,r),e.ref=n.ref,e.return=n,n.child=e)}if(i=e.child,!(e.lanes&r)){var l=i.memoizedProps;if(t=t.compare,t=t!==null?t:No,t(l,o)&&e.ref===n.ref)return wn(e,n,r)}return n.flags|=1,e=Wn(i,o),e.ref=n.ref,e.return=n,n.child=e}function _f(e,n,t,o,r){if(e!==null){var i=e.memoizedProps;if(No(i,o)&&e.ref===n.ref)if(ke=!1,n.pendingProps=o=i,(e.lanes&r)!==0)e.flags&131072&&(ke=!0);else return n.lanes=e.lanes,wn(e,n,r)}return _s(e,n,t,o,r)}function wf(e,n,t){var o=n.pendingProps,r=o.children,i=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(It,Ue),Ue|=t;else{if(!(t&1073741824))return e=i!==null?i.baseLanes|t:t,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,K(It,Ue),Ue|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=i!==null?i.baseLanes:t,K(It,Ue),Ue|=o}else i!==null?(o=i.baseLanes|t,n.memoizedState=null):o=t,K(It,Ue),Ue|=o;return Ie(e,n,r,t),n.child}function xf(e,n){var t=n.ref;(e===null&&t!==null||e!==null&&e.ref!==t)&&(n.flags|=512,n.flags|=2097152)}function _s(e,n,t,o,r){var i=De(t)?st:xe.current;return i=Gt(n,i),Mt(n,r),t=xl(e,n,t,o,i,r),o=Il(),e!==null&&!ke?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r,wn(e,n,r)):(te&&o&&pl(n),n.flags|=1,Ie(e,n,t,r),n.child)}function Ya(e,n,t,o,r){if(De(t)){var i=!0;Dr(n)}else i=!1;if(Mt(n,r),n.stateNode===null)yr(e,n),Tf(n,t,o),Ss(n,t,o,r),o=!0;else if(e===null){var l=n.stateNode,u=n.memoizedProps;l.props=u;var d=l.context,c=t.contextType;typeof c=="object"&&c!==null?c=Ke(c):(c=De(t)?st:xe.current,c=Gt(n,c));var f=t.getDerivedStateFromProps,p=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==o||d!==c)&&Ba(n,l,o,c),Mn=!1;var m=n.memoizedState;l.state=m,Gr(n,o,l,r),d=n.memoizedState,u!==o||m!==d||Me.current||Mn?(typeof f=="function"&&(Ts(n,t,f,o),d=n.memoizedState),(u=Mn||qa(n,t,u,o,m,d,c))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(n.flags|=4194308)):(typeof l.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=d),l.props=o,l.state=d,l.context=c,o=u):(typeof l.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{l=n.stateNode,Zc(e,n),u=n.memoizedProps,c=n.type===n.elementType?u:en(n.type,u),l.props=c,p=n.pendingProps,m=l.context,d=t.contextType,typeof d=="object"&&d!==null?d=Ke(d):(d=De(t)?st:xe.current,d=Gt(n,d));var y=t.getDerivedStateFromProps;(f=typeof y=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==p||m!==d)&&Ba(n,l,o,d),Mn=!1,m=n.memoizedState,l.state=m,Gr(n,o,l,r);var S=n.memoizedState;u!==p||m!==S||Me.current||Mn?(typeof y=="function"&&(Ts(n,t,y,o),S=n.memoizedState),(c=Mn||qa(n,t,c,o,m,S,d)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(o,S,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(o,S,d)),typeof l.componentDidUpdate=="function"&&(n.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(n.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=S),l.props=o,l.state=S,l.context=d,o=c):(typeof l.componentDidUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(n.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&m===e.memoizedState||(n.flags|=1024),o=!1)}return ws(e,n,t,o,i,r)}function ws(e,n,t,o,r,i){xf(e,n);var l=(n.flags&128)!==0;if(!o&&!l)return r&&Ma(n,t,!1),wn(e,n,i);o=n.stateNode,Vh.current=n;var u=l&&typeof t.getDerivedStateFromError!="function"?null:o.render();return n.flags|=1,e!==null&&l?(n.child=qt(n,e.child,null,i),n.child=qt(n,null,u,i)):Ie(e,n,u,i),n.memoizedState=o.state,r&&Ma(n,t,!0),n.child}function If(e){var n=e.stateNode;n.pendingContext?ka(e,n.pendingContext,n.pendingContext!==n.context):n.context&&ka(e,n.context,!1),Sl(e,n.containerInfo)}function Ka(e,n,t,o,r){return Ht(),hl(r),n.flags|=256,Ie(e,n,t,o),n.child}var xs={dehydrated:null,treeContext:null,retryLane:0};function Is(e){return{baseLanes:e,cachePool:null,transitions:null}}function Af(e,n,t){var o=n.pendingProps,r=oe.current,i=!1,l=(n.flags&128)!==0,u;if((u=l)||(u=e!==null&&e.memoizedState===null?!1:(r&2)!==0),u?(i=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(r|=1),K(oe,r&1),e===null)return vs(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(l=o.children,e=o.fallback,i?(o=n.mode,i=n.child,l={mode:"hidden",children:l},!(o&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=li(l,o,0,null),e=it(e,o,t,null),i.return=n,e.return=n,i.sibling=e,n.child=i,n.child.memoizedState=Is(t),n.memoizedState=xs,e):Rl(n,l));if(r=e.memoizedState,r!==null&&(u=r.dehydrated,u!==null))return Gh(e,n,l,o,u,r,t);if(i){i=o.fallback,l=n.mode,r=e.child,u=r.sibling;var d={mode:"hidden",children:o.children};return!(l&1)&&n.child!==r?(o=n.child,o.childLanes=0,o.pendingProps=d,n.deletions=null):(o=Wn(r,d),o.subtreeFlags=r.subtreeFlags&14680064),u!==null?i=Wn(u,i):(i=it(i,l,t,null),i.flags|=2),i.return=n,o.return=n,o.sibling=i,n.child=o,o=i,i=n.child,l=e.child.memoizedState,l=l===null?Is(t):{baseLanes:l.baseLanes|t,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~t,n.memoizedState=xs,o}return i=e.child,e=i.sibling,o=Wn(i,{mode:"visible",children:o.children}),!(n.mode&1)&&(o.lanes=t),o.return=n,o.sibling=null,e!==null&&(t=n.deletions,t===null?(n.deletions=[e],n.flags|=16):t.push(e)),n.child=o,n.memoizedState=null,o}function Rl(e,n){return n=li({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function or(e,n,t,o){return o!==null&&hl(o),qt(n,e.child,null,t),e=Rl(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Gh(e,n,t,o,r,i,l){if(t)return n.flags&256?(n.flags&=-257,o=Hi(Error(P(422))),or(e,n,l,o)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(i=o.fallback,r=n.mode,o=li({mode:"visible",children:o.children},r,0,null),i=it(i,r,l,null),i.flags|=2,o.return=n,i.return=n,o.sibling=i,n.child=o,n.mode&1&&qt(n,e.child,null,l),n.child.memoizedState=Is(l),n.memoizedState=xs,i);if(!(n.mode&1))return or(e,n,l,null);if(r.data==="$!"){if(o=r.nextSibling&&r.nextSibling.dataset,o)var u=o.dgst;return o=u,i=Error(P(419)),o=Hi(i,o,void 0),or(e,n,l,o)}if(u=(l&e.childLanes)!==0,ke||u){if(o=me,o!==null){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(o.suspendedLanes|l)?0:r,r!==0&&r!==i.retryLane&&(i.retryLane=r,_n(e,r),rn(o,e,r,-1))}return Ul(),o=Hi(Error(P(421))),or(e,n,l,o)}return r.data==="$?"?(n.flags|=128,n.child=e.child,n=Xh.bind(null,e),r._reactRetry=n,null):(e=i.treeContext,Fe=Bn(r.nextSibling),Ve=n,te=!0,tn=null,e!==null&&(Je[$e++]=vn,Je[$e++]=En,Je[$e++]=lt,vn=e.id,En=e.overflow,lt=n),n=Rl(n,o.children),n.flags|=4096,n)}function ba(e,n,t){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Es(e.return,n,t)}function qi(e,n,t,o,r){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:t,tailMode:r}:(i.isBackwards=n,i.rendering=null,i.renderingStartTime=0,i.last=o,i.tail=t,i.tailMode=r)}function Nf(e,n,t){var o=n.pendingProps,r=o.revealOrder,i=o.tail;if(Ie(e,n,o.children,t),o=oe.current,o&2)o=o&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ba(e,t,n);else if(e.tag===19)ba(e,t,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(K(oe,o),!(n.mode&1))n.memoizedState=null;else switch(r){case"forwards":for(t=n.child,r=null;t!==null;)e=t.alternate,e!==null&&Hr(e)===null&&(r=t),t=t.sibling;t=r,t===null?(r=n.child,n.child=null):(r=t.sibling,t.sibling=null),qi(n,!1,r,t,i);break;case"backwards":for(t=null,r=n.child,n.child=null;r!==null;){if(e=r.alternate,e!==null&&Hr(e)===null){n.child=r;break}e=r.sibling,r.sibling=t,t=r,r=e}qi(n,!0,t,null,i);break;case"together":qi(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function yr(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function wn(e,n,t){if(e!==null&&(n.dependencies=e.dependencies),ut|=n.lanes,!(t&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(P(153));if(n.child!==null){for(e=n.child,t=Wn(e,e.pendingProps),n.child=t,t.return=n;e.sibling!==null;)e=e.sibling,t=t.sibling=Wn(e,e.pendingProps),t.return=n;t.sibling=null}return n.child}function Hh(e,n,t){switch(n.tag){case 3:If(n),Ht();break;case 5:jc(n);break;case 1:De(n.type)&&Dr(n);break;case 4:Sl(n,n.stateNode.containerInfo);break;case 10:var o=n.type._context,r=n.memoizedProps.value;K(Fr,o._currentValue),o._currentValue=r;break;case 13:if(o=n.memoizedState,o!==null)return o.dehydrated!==null?(K(oe,oe.current&1),n.flags|=128,null):t&n.child.childLanes?Af(e,n,t):(K(oe,oe.current&1),e=wn(e,n,t),e!==null?e.sibling:null);K(oe,oe.current&1);break;case 19:if(o=(t&n.childLanes)!==0,e.flags&128){if(o)return Nf(e,n,t);n.flags|=128}if(r=n.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),K(oe,oe.current),o)break;return null;case 22:case 23:return n.lanes=0,wf(e,n,t)}return wn(e,n,t)}var Rf,As,Pf,kf;Rf=function(e,n){for(var t=n.child;t!==null;){if(t.tag===5||t.tag===6)e.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};As=function(){};Pf=function(e,n,t,o){var r=e.memoizedProps;if(r!==o){e=n.stateNode,ot(mn.current);var i=null;switch(t){case"input":r=bi(e,r),o=bi(e,o),i=[];break;case"select":r=ie({},r,{value:void 0}),o=ie({},o,{value:void 0}),i=[];break;case"textarea":r=Zi(e,r),o=Zi(e,o),i=[];break;default:typeof r.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=kr)}es(t,o);var l;t=null;for(c in r)if(!o.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var u=r[c];for(l in u)u.hasOwnProperty(l)&&(t||(t={}),t[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(So.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in o){var d=o[c];if(u=r!=null?r[c]:void 0,o.hasOwnProperty(c)&&d!==u&&(d!=null||u!=null))if(c==="style")if(u){for(l in u)!u.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(t||(t={}),t[l]="");for(l in d)d.hasOwnProperty(l)&&u[l]!==d[l]&&(t||(t={}),t[l]=d[l])}else t||(i||(i=[]),i.push(c,t)),t=d;else c==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(i=i||[]).push(c,d)):c==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(c,""+d):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(So.hasOwnProperty(c)?(d!=null&&c==="onScroll"&&Z("scroll",e),i||u===d||(i=[])):(i=i||[]).push(c,d))}t&&(i=i||[]).push("style",t);var c=i;(n.updateQueue=c)&&(n.flags|=4)}};kf=function(e,n,t,o){t!==o&&(n.flags|=4)};function oo(e,n){if(!te)switch(e.tailMode){case"hidden":n=e.tail;for(var t=null;n!==null;)n.alternate!==null&&(t=n),n=n.sibling;t===null?e.tail=null:t.sibling=null;break;case"collapsed":t=e.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Ce(e){var n=e.alternate!==null&&e.alternate.child===e.child,t=0,o=0;if(n)for(var r=e.child;r!==null;)t|=r.lanes|r.childLanes,o|=r.subtreeFlags&14680064,o|=r.flags&14680064,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)t|=r.lanes|r.childLanes,o|=r.subtreeFlags,o|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=o,e.childLanes=t,n}function qh(e,n,t){var o=n.pendingProps;switch(ml(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(n),null;case 1:return De(n.type)&&Mr(),Ce(n),null;case 3:return o=n.stateNode,Bt(),ee(Me),ee(xe),_l(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(nr(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,tn!==null&&(Us(tn),tn=null))),As(e,n),Ce(n),null;case 5:Cl(n);var r=ot(Do.current);if(t=n.type,e!==null&&n.stateNode!=null)Pf(e,n,t,o,r),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!o){if(n.stateNode===null)throw Error(P(166));return Ce(n),null}if(e=ot(mn.current),nr(n)){o=n.stateNode,t=n.type;var i=n.memoizedProps;switch(o[fn]=n,o[ko]=i,e=(n.mode&1)!==0,t){case"dialog":Z("cancel",o),Z("close",o);break;case"iframe":case"object":case"embed":Z("load",o);break;case"video":case"audio":for(r=0;r<uo.length;r++)Z(uo[r],o);break;case"source":Z("error",o);break;case"img":case"image":case"link":Z("error",o),Z("load",o);break;case"details":Z("toggle",o);break;case"input":ra(o,i),Z("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!i.multiple},Z("invalid",o);break;case"textarea":sa(o,i),Z("invalid",o)}es(t,i),r=null;for(var l in i)if(i.hasOwnProperty(l)){var u=i[l];l==="children"?typeof u=="string"?o.textContent!==u&&(i.suppressHydrationWarning!==!0&&er(o.textContent,u,e),r=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&er(o.textContent,u,e),r=["children",""+u]):So.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&Z("scroll",o)}switch(t){case"input":Oo(o),ia(o,i,!0);break;case"textarea":Oo(o),la(o);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(o.onclick=kr)}o=r,n.updateQueue=o,o!==null&&(n.flags|=4)}else{l=r.nodeType===9?r:r.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rc(t)),e==="http://www.w3.org/1999/xhtml"?t==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=l.createElement(t,{is:o.is}):(e=l.createElement(t),t==="select"&&(l=e,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):e=l.createElementNS(e,t),e[fn]=n,e[ko]=o,Rf(e,n,!1,!1),n.stateNode=e;e:{switch(l=ns(t,o),t){case"dialog":Z("cancel",e),Z("close",e),r=o;break;case"iframe":case"object":case"embed":Z("load",e),r=o;break;case"video":case"audio":for(r=0;r<uo.length;r++)Z(uo[r],e);r=o;break;case"source":Z("error",e),r=o;break;case"img":case"image":case"link":Z("error",e),Z("load",e),r=o;break;case"details":Z("toggle",e),r=o;break;case"input":ra(e,o),r=bi(e,o),Z("invalid",e);break;case"option":r=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},r=ie({},o,{value:void 0}),Z("invalid",e);break;case"textarea":sa(e,o),r=Zi(e,o),Z("invalid",e);break;default:r=o}es(t,r),u=r;for(i in u)if(u.hasOwnProperty(i)){var d=u[i];i==="style"?lc(e,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&ic(e,d)):i==="children"?typeof d=="string"?(t!=="textarea"||d!=="")&&Co(e,d):typeof d=="number"&&Co(e,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(So.hasOwnProperty(i)?d!=null&&i==="onScroll"&&Z("scroll",e):d!=null&&js(e,i,d,l))}switch(t){case"input":Oo(e),ia(e,o,!1);break;case"textarea":Oo(e),la(e);break;case"option":o.value!=null&&e.setAttribute("value",""+On(o.value));break;case"select":e.multiple=!!o.multiple,i=o.value,i!=null?Nt(e,!!o.multiple,i,!1):o.defaultValue!=null&&Nt(e,!!o.multiple,o.defaultValue,!0);break;default:typeof r.onClick=="function"&&(e.onclick=kr)}switch(t){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Ce(n),null;case 6:if(e&&n.stateNode!=null)kf(e,n,e.memoizedProps,o);else{if(typeof o!="string"&&n.stateNode===null)throw Error(P(166));if(t=ot(Do.current),ot(mn.current),nr(n)){if(o=n.stateNode,t=n.memoizedProps,o[fn]=n,(i=o.nodeValue!==t)&&(e=Ve,e!==null))switch(e.tag){case 3:er(o.nodeValue,t,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&er(o.nodeValue,t,(e.mode&1)!==0)}i&&(n.flags|=4)}else o=(t.nodeType===9?t:t.ownerDocument).createTextNode(o),o[fn]=n,n.stateNode=o}return Ce(n),null;case 13:if(ee(oe),o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(te&&Fe!==null&&n.mode&1&&!(n.flags&128))Kc(),Ht(),n.flags|=98560,i=!1;else if(i=nr(n),o!==null&&o.dehydrated!==null){if(e===null){if(!i)throw Error(P(318));if(i=n.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[fn]=n}else Ht(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Ce(n),i=!1}else tn!==null&&(Us(tn),tn=null),i=!0;if(!i)return n.flags&65536?n:null}return n.flags&128?(n.lanes=t,n):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(n.child.flags|=8192,n.mode&1&&(e===null||oe.current&1?fe===0&&(fe=3):Ul())),n.updateQueue!==null&&(n.flags|=4),Ce(n),null);case 4:return Bt(),As(e,n),e===null&&Ro(n.stateNode.containerInfo),Ce(n),null;case 10:return vl(n.type._context),Ce(n),null;case 17:return De(n.type)&&Mr(),Ce(n),null;case 19:if(ee(oe),i=n.memoizedState,i===null)return Ce(n),null;if(o=(n.flags&128)!==0,l=i.rendering,l===null)if(o)oo(i,!1);else{if(fe!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(l=Hr(e),l!==null){for(n.flags|=128,oo(i,!1),o=l.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),n.subtreeFlags=0,o=t,t=n.child;t!==null;)i=t,e=o,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t=t.sibling;return K(oe,oe.current&1|2),n.child}e=e.sibling}i.tail!==null&&ae()>Jt&&(n.flags|=128,o=!0,oo(i,!1),n.lanes=4194304)}else{if(!o)if(e=Hr(l),e!==null){if(n.flags|=128,o=!0,t=e.updateQueue,t!==null&&(n.updateQueue=t,n.flags|=4),oo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!te)return Ce(n),null}else 2*ae()-i.renderingStartTime>Jt&&t!==1073741824&&(n.flags|=128,o=!0,oo(i,!1),n.lanes=4194304);i.isBackwards?(l.sibling=n.child,n.child=l):(t=i.last,t!==null?t.sibling=l:n.child=l,i.last=l)}return i.tail!==null?(n=i.tail,i.rendering=n,i.tail=n.sibling,i.renderingStartTime=ae(),n.sibling=null,t=oe.current,K(oe,o?t&1|2:t&1),n):(Ce(n),null);case 22:case 23:return Ll(),o=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(n.flags|=8192),o&&n.mode&1?Ue&1073741824&&(Ce(n),n.subtreeFlags&6&&(n.flags|=8192)):Ce(n),null;case 24:return null;case 25:return null}throw Error(P(156,n.tag))}function Bh(e,n){switch(ml(n),n.tag){case 1:return De(n.type)&&Mr(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Bt(),ee(Me),ee(xe),_l(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Cl(n),null;case 13:if(ee(oe),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(P(340));Ht()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ee(oe),null;case 4:return Bt(),null;case 10:return vl(n.type._context),null;case 22:case 23:return Ll(),null;case 24:return null;default:return null}}var rr=!1,_e=!1,zh=typeof WeakSet=="function"?WeakSet:Set,L=null;function xt(e,n){var t=e.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(o){se(e,n,o)}else t.current=null}function Ns(e,n,t){try{t()}catch(o){se(e,n,o)}}var Qa=!1;function Jh(e,n){if(cs=Nr,e=Uc(),fl(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{t=(t=e.ownerDocument)&&t.defaultView||window;var o=t.getSelection&&t.getSelection();if(o&&o.rangeCount!==0){t=o.anchorNode;var r=o.anchorOffset,i=o.focusNode;o=o.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var l=0,u=-1,d=-1,c=0,f=0,p=e,m=null;n:for(;;){for(var y;p!==t||r!==0&&p.nodeType!==3||(u=l+r),p!==i||o!==0&&p.nodeType!==3||(d=l+o),p.nodeType===3&&(l+=p.nodeValue.length),(y=p.firstChild)!==null;)m=p,p=y;for(;;){if(p===e)break n;if(m===t&&++c===r&&(u=l),m===i&&++f===o&&(d=l),(y=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=y}t=u===-1||d===-1?null:{start:u,end:d}}else t=null}t=t||{start:0,end:0}}else t=null;for(fs={focusedElem:e,selectionRange:t},Nr=!1,L=n;L!==null;)if(n=L,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,L=e;else for(;L!==null;){n=L;try{var S=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var C=S.memoizedProps,I=S.memoizedState,v=n.stateNode,h=v.getSnapshotBeforeUpdate(n.elementType===n.type?C:en(n.type,C),I);v.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var E=n.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(T){se(n,n.return,T)}if(e=n.sibling,e!==null){e.return=n.return,L=e;break}L=n.return}return S=Qa,Qa=!1,S}function yo(e,n,t){var o=n.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var r=o=o.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,i!==void 0&&Ns(n,t,i)}r=r.next}while(r!==o)}}function ii(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var t=n=n.next;do{if((t.tag&e)===e){var o=t.create;t.destroy=o()}t=t.next}while(t!==n)}}function Rs(e){var n=e.ref;if(n!==null){var t=e.stateNode;switch(e.tag){case 5:e=t;break;default:e=t}typeof n=="function"?n(e):n.current=e}}function Mf(e){var n=e.alternate;n!==null&&(e.alternate=null,Mf(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[fn],delete n[ko],delete n[hs],delete n[xh],delete n[Ih])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Df(e){return e.tag===5||e.tag===3||e.tag===4}function Xa(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Df(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ps(e,n,t){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?t.nodeType===8?t.parentNode.insertBefore(e,n):t.insertBefore(e,n):(t.nodeType===8?(n=t.parentNode,n.insertBefore(e,t)):(n=t,n.appendChild(e)),t=t._reactRootContainer,t!=null||n.onclick!==null||(n.onclick=kr));else if(o!==4&&(e=e.child,e!==null))for(Ps(e,n,t),e=e.sibling;e!==null;)Ps(e,n,t),e=e.sibling}function ks(e,n,t){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?t.insertBefore(e,n):t.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(ks(e,n,t),e=e.sibling;e!==null;)ks(e,n,t),e=e.sibling}var ye=null,nn=!1;function Pn(e,n,t){for(t=t.child;t!==null;)Lf(e,n,t),t=t.sibling}function Lf(e,n,t){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Xr,t)}catch{}switch(t.tag){case 5:_e||xt(t,n);case 6:var o=ye,r=nn;ye=null,Pn(e,n,t),ye=o,nn=r,ye!==null&&(nn?(e=ye,t=t.stateNode,e.nodeType===8?e.parentNode.removeChild(t):e.removeChild(t)):ye.removeChild(t.stateNode));break;case 18:ye!==null&&(nn?(e=ye,t=t.stateNode,e.nodeType===8?Di(e.parentNode,t):e.nodeType===1&&Di(e,t),Io(e)):Di(ye,t.stateNode));break;case 4:o=ye,r=nn,ye=t.stateNode.containerInfo,nn=!0,Pn(e,n,t),ye=o,nn=r;break;case 0:case 11:case 14:case 15:if(!_e&&(o=t.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){r=o=o.next;do{var i=r,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Ns(t,n,l),r=r.next}while(r!==o)}Pn(e,n,t);break;case 1:if(!_e&&(xt(t,n),o=t.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=t.memoizedProps,o.state=t.memoizedState,o.componentWillUnmount()}catch(u){se(t,n,u)}Pn(e,n,t);break;case 21:Pn(e,n,t);break;case 22:t.mode&1?(_e=(o=_e)||t.memoizedState!==null,Pn(e,n,t),_e=o):Pn(e,n,t);break;default:Pn(e,n,t)}}function Za(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var t=e.stateNode;t===null&&(t=e.stateNode=new zh),n.forEach(function(o){var r=Zh.bind(null,e,o);t.has(o)||(t.add(o),o.then(r,r))})}}function Ze(e,n){var t=n.deletions;if(t!==null)for(var o=0;o<t.length;o++){var r=t[o];try{var i=e,l=n,u=l;e:for(;u!==null;){switch(u.tag){case 5:ye=u.stateNode,nn=!1;break e;case 3:ye=u.stateNode.containerInfo,nn=!0;break e;case 4:ye=u.stateNode.containerInfo,nn=!0;break e}u=u.return}if(ye===null)throw Error(P(160));Lf(i,l,r),ye=null,nn=!1;var d=r.alternate;d!==null&&(d.return=null),r.return=null}catch(c){se(r,n,c)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Uf(n,e),n=n.sibling}function Uf(e,n){var t=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ze(n,e),dn(e),o&4){try{yo(3,e,e.return),ii(3,e)}catch(C){se(e,e.return,C)}try{yo(5,e,e.return)}catch(C){se(e,e.return,C)}}break;case 1:Ze(n,e),dn(e),o&512&&t!==null&&xt(t,t.return);break;case 5:if(Ze(n,e),dn(e),o&512&&t!==null&&xt(t,t.return),e.flags&32){var r=e.stateNode;try{Co(r,"")}catch(C){se(e,e.return,C)}}if(o&4&&(r=e.stateNode,r!=null)){var i=e.memoizedProps,l=t!==null?t.memoizedProps:i,u=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&tc(r,i),ns(u,l);var c=ns(u,i);for(l=0;l<d.length;l+=2){var f=d[l],p=d[l+1];f==="style"?lc(r,p):f==="dangerouslySetInnerHTML"?ic(r,p):f==="children"?Co(r,p):js(r,f,p,c)}switch(u){case"input":Qi(r,i);break;case"textarea":oc(r,i);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Nt(r,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?Nt(r,!!i.multiple,i.defaultValue,!0):Nt(r,!!i.multiple,i.multiple?[]:"",!1))}r[ko]=i}catch(C){se(e,e.return,C)}}break;case 6:if(Ze(n,e),dn(e),o&4){if(e.stateNode===null)throw Error(P(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(C){se(e,e.return,C)}}break;case 3:if(Ze(n,e),dn(e),o&4&&t!==null&&t.memoizedState.isDehydrated)try{Io(n.containerInfo)}catch(C){se(e,e.return,C)}break;case 4:Ze(n,e),dn(e);break;case 13:Ze(n,e),dn(e),r=e.child,r.flags&8192&&(i=r.memoizedState!==null,r.stateNode.isHidden=i,!i||r.alternate!==null&&r.alternate.memoizedState!==null||(Ml=ae())),o&4&&Za(e);break;case 22:if(f=t!==null&&t.memoizedState!==null,e.mode&1?(_e=(c=_e)||f,Ze(n,e),_e=c):Ze(n,e),dn(e),o&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(L=e,f=e.child;f!==null;){for(p=L=f;L!==null;){switch(m=L,y=m.child,m.tag){case 0:case 11:case 14:case 15:yo(4,m,m.return);break;case 1:xt(m,m.return);var S=m.stateNode;if(typeof S.componentWillUnmount=="function"){o=m,t=m.return;try{n=o,S.props=n.memoizedProps,S.state=n.memoizedState,S.componentWillUnmount()}catch(C){se(o,t,C)}}break;case 5:xt(m,m.return);break;case 22:if(m.memoizedState!==null){eu(p);continue}}y!==null?(y.return=m,L=y):eu(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{r=p.stateNode,c?(i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=p.stateNode,d=p.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=sc("display",l))}catch(C){se(e,e.return,C)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(C){se(e,e.return,C)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ze(n,e),dn(e),o&4&&Za(e);break;case 21:break;default:Ze(n,e),dn(e)}}function dn(e){var n=e.flags;if(n&2){try{e:{for(var t=e.return;t!==null;){if(Df(t)){var o=t;break e}t=t.return}throw Error(P(160))}switch(o.tag){case 5:var r=o.stateNode;o.flags&32&&(Co(r,""),o.flags&=-33);var i=Xa(e);ks(e,i,r);break;case 3:case 4:var l=o.stateNode.containerInfo,u=Xa(e);Ps(e,u,l);break;default:throw Error(P(161))}}catch(d){se(e,e.return,d)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function $h(e,n,t){L=e,Ff(e)}function Ff(e,n,t){for(var o=(e.mode&1)!==0;L!==null;){var r=L,i=r.child;if(r.tag===22&&o){var l=r.memoizedState!==null||rr;if(!l){var u=r.alternate,d=u!==null&&u.memoizedState!==null||_e;u=rr;var c=_e;if(rr=l,(_e=d)&&!c)for(L=r;L!==null;)l=L,d=l.child,l.tag===22&&l.memoizedState!==null?nu(r):d!==null?(d.return=l,L=d):nu(r);for(;i!==null;)L=i,Ff(i),i=i.sibling;L=r,rr=u,_e=c}ja(e)}else r.subtreeFlags&8772&&i!==null?(i.return=r,L=i):ja(e)}}function ja(e){for(;L!==null;){var n=L;if(n.flags&8772){var t=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:_e||ii(5,n);break;case 1:var o=n.stateNode;if(n.flags&4&&!_e)if(t===null)o.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:en(n.type,t.memoizedProps);o.componentDidUpdate(r,t.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var i=n.updateQueue;i!==null&&Va(n,i,o);break;case 3:var l=n.updateQueue;if(l!==null){if(t=null,n.child!==null)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}Va(n,l,t)}break;case 5:var u=n.stateNode;if(t===null&&n.flags&4){t=u;var d=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&t.focus();break;case"img":d.src&&(t.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var c=n.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Io(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}_e||n.flags&512&&Rs(n)}catch(m){se(n,n.return,m)}}if(n===e){L=null;break}if(t=n.sibling,t!==null){t.return=n.return,L=t;break}L=n.return}}function eu(e){for(;L!==null;){var n=L;if(n===e){L=null;break}var t=n.sibling;if(t!==null){t.return=n.return,L=t;break}L=n.return}}function nu(e){for(;L!==null;){var n=L;try{switch(n.tag){case 0:case 11:case 15:var t=n.return;try{ii(4,n)}catch(d){se(n,t,d)}break;case 1:var o=n.stateNode;if(typeof o.componentDidMount=="function"){var r=n.return;try{o.componentDidMount()}catch(d){se(n,r,d)}}var i=n.return;try{Rs(n)}catch(d){se(n,i,d)}break;case 5:var l=n.return;try{Rs(n)}catch(d){se(n,l,d)}}}catch(d){se(n,n.return,d)}if(n===e){L=null;break}var u=n.sibling;if(u!==null){u.return=n.return,L=u;break}L=n.return}}var Wh=Math.ceil,zr=In.ReactCurrentDispatcher,Pl=In.ReactCurrentOwner,Oe=In.ReactCurrentBatchConfig,J=0,me=null,de=null,ve=0,Ue=0,It=bn(0),fe=0,Vo=null,ut=0,si=0,kl=0,vo=null,Pe=null,Ml=0,Jt=1/0,hn=null,Jr=!1,Ms=null,Jn=null,ir=!1,Fn=null,$r=0,Eo=0,Ds=null,vr=-1,Er=0;function Ae(){return J&6?ae():vr!==-1?vr:vr=ae()}function $n(e){return e.mode&1?J&2&&ve!==0?ve&-ve:Nh.transition!==null?(Er===0&&(Er=Ec()),Er):(e=O,e!==0||(e=window.event,e=e===void 0?16:Ic(e.type)),e):1}function rn(e,n,t,o){if(50<Eo)throw Eo=0,Ds=null,Error(P(185));qo(e,t,o),(!(J&2)||e!==me)&&(e===me&&(!(J&2)&&(si|=t),fe===4&&Ln(e,ve)),Le(e,o),t===1&&J===0&&!(n.mode&1)&&(Jt=ae()+500,ti&&Qn()))}function Le(e,n){var t=e.callbackNode;Nm(e,n);var o=Ar(e,e===me?ve:0);if(o===0)t!==null&&da(t),e.callbackNode=null,e.callbackPriority=0;else if(n=o&-o,e.callbackPriority!==n){if(t!=null&&da(t),n===1)e.tag===0?Ah(tu.bind(null,e)):Wc(tu.bind(null,e)),_h(function(){!(J&6)&&Qn()}),t=null;else{switch(Tc(o)){case 1:t=rl;break;case 4:t=yc;break;case 16:t=Ir;break;case 536870912:t=vc;break;default:t=Ir}t=$f(t,Vf.bind(null,e))}e.callbackPriority=n,e.callbackNode=t}}function Vf(e,n){if(vr=-1,Er=0,J&6)throw Error(P(327));var t=e.callbackNode;if(Dt()&&e.callbackNode!==t)return null;var o=Ar(e,e===me?ve:0);if(o===0)return null;if(o&30||o&e.expiredLanes||n)n=Wr(e,o);else{n=o;var r=J;J|=2;var i=Hf();(me!==e||ve!==n)&&(hn=null,Jt=ae()+500,rt(e,n));do try{Kh();break}catch(u){Gf(e,u)}while(!0);yl(),zr.current=i,J=r,de!==null?n=0:(me=null,ve=0,n=fe)}if(n!==0){if(n===2&&(r=ss(e),r!==0&&(o=r,n=Ls(e,r))),n===1)throw t=Vo,rt(e,0),Ln(e,o),Le(e,ae()),t;if(n===6)Ln(e,o);else{if(r=e.current.alternate,!(o&30)&&!Oh(r)&&(n=Wr(e,o),n===2&&(i=ss(e),i!==0&&(o=i,n=Ls(e,i))),n===1))throw t=Vo,rt(e,0),Ln(e,o),Le(e,ae()),t;switch(e.finishedWork=r,e.finishedLanes=o,n){case 0:case 1:throw Error(P(345));case 2:et(e,Pe,hn);break;case 3:if(Ln(e,o),(o&130023424)===o&&(n=Ml+500-ae(),10<n)){if(Ar(e,0)!==0)break;if(r=e.suspendedLanes,(r&o)!==o){Ae(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ms(et.bind(null,e,Pe,hn),n);break}et(e,Pe,hn);break;case 4:if(Ln(e,o),(o&4194240)===o)break;for(n=e.eventTimes,r=-1;0<o;){var l=31-on(o);i=1<<l,l=n[l],l>r&&(r=l),o&=~i}if(o=r,o=ae()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Wh(o/1960))-o,10<o){e.timeoutHandle=ms(et.bind(null,e,Pe,hn),o);break}et(e,Pe,hn);break;case 5:et(e,Pe,hn);break;default:throw Error(P(329))}}}return Le(e,ae()),e.callbackNode===t?Vf.bind(null,e):null}function Ls(e,n){var t=vo;return e.current.memoizedState.isDehydrated&&(rt(e,n).flags|=256),e=Wr(e,n),e!==2&&(n=Pe,Pe=t,n!==null&&Us(n)),e}function Us(e){Pe===null?Pe=e:Pe.push.apply(Pe,e)}function Oh(e){for(var n=e;;){if(n.flags&16384){var t=n.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var o=0;o<t.length;o++){var r=t[o],i=r.getSnapshot;r=r.value;try{if(!sn(i(),r))return!1}catch{return!1}}}if(t=n.child,n.subtreeFlags&16384&&t!==null)t.return=n,n=t;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ln(e,n){for(n&=~kl,n&=~si,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var t=31-on(n),o=1<<t;e[t]=-1,n&=~o}}function tu(e){if(J&6)throw Error(P(327));Dt();var n=Ar(e,0);if(!(n&1))return Le(e,ae()),null;var t=Wr(e,n);if(e.tag!==0&&t===2){var o=ss(e);o!==0&&(n=o,t=Ls(e,o))}if(t===1)throw t=Vo,rt(e,0),Ln(e,n),Le(e,ae()),t;if(t===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,et(e,Pe,hn),Le(e,ae()),null}function Dl(e,n){var t=J;J|=1;try{return e(n)}finally{J=t,J===0&&(Jt=ae()+500,ti&&Qn())}}function dt(e){Fn!==null&&Fn.tag===0&&!(J&6)&&Dt();var n=J;J|=1;var t=Oe.transition,o=O;try{if(Oe.transition=null,O=1,e)return e()}finally{O=o,Oe.transition=t,J=n,!(J&6)&&Qn()}}function Ll(){Ue=It.current,ee(It)}function rt(e,n){e.finishedWork=null,e.finishedLanes=0;var t=e.timeoutHandle;if(t!==-1&&(e.timeoutHandle=-1,Ch(t)),de!==null)for(t=de.return;t!==null;){var o=t;switch(ml(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Mr();break;case 3:Bt(),ee(Me),ee(xe),_l();break;case 5:Cl(o);break;case 4:Bt();break;case 13:ee(oe);break;case 19:ee(oe);break;case 10:vl(o.type._context);break;case 22:case 23:Ll()}t=t.return}if(me=e,de=e=Wn(e.current,null),ve=Ue=n,fe=0,Vo=null,kl=si=ut=0,Pe=vo=null,tt!==null){for(n=0;n<tt.length;n++)if(t=tt[n],o=t.interleaved,o!==null){t.interleaved=null;var r=o.next,i=t.pending;if(i!==null){var l=i.next;i.next=r,o.next=l}t.pending=o}tt=null}return e}function Gf(e,n){do{var t=de;try{if(yl(),hr.current=Br,qr){for(var o=re.memoizedState;o!==null;){var r=o.queue;r!==null&&(r.pending=null),o=o.next}qr=!1}if(at=0,pe=ce=re=null,go=!1,Lo=0,Pl.current=null,t===null||t.return===null){fe=1,Vo=n,de=null;break}e:{var i=e,l=t.return,u=t,d=n;if(n=ve,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var c=d,f=u,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=Ja(l);if(y!==null){y.flags&=-257,$a(y,l,u,i,n),y.mode&1&&za(i,c,n),n=y,d=c;var S=n.updateQueue;if(S===null){var C=new Set;C.add(d),n.updateQueue=C}else S.add(d);break e}else{if(!(n&1)){za(i,c,n),Ul();break e}d=Error(P(426))}}else if(te&&u.mode&1){var I=Ja(l);if(I!==null){!(I.flags&65536)&&(I.flags|=256),$a(I,l,u,i,n),hl(zt(d,u));break e}}i=d=zt(d,u),fe!==4&&(fe=2),vo===null?vo=[i]:vo.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,n&=-n,i.lanes|=n;var v=Sf(i,d,n);Fa(i,v);break e;case 1:u=d;var h=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Jn===null||!Jn.has(E)))){i.flags|=65536,n&=-n,i.lanes|=n;var T=Cf(i,u,n);Fa(i,T);break e}}i=i.return}while(i!==null)}Bf(t)}catch(_){n=_,de===t&&t!==null&&(de=t=t.return);continue}break}while(!0)}function Hf(){var e=zr.current;return zr.current=Br,e===null?Br:e}function Ul(){(fe===0||fe===3||fe===2)&&(fe=4),me===null||!(ut&268435455)&&!(si&268435455)||Ln(me,ve)}function Wr(e,n){var t=J;J|=2;var o=Hf();(me!==e||ve!==n)&&(hn=null,rt(e,n));do try{Yh();break}catch(r){Gf(e,r)}while(!0);if(yl(),J=t,zr.current=o,de!==null)throw Error(P(261));return me=null,ve=0,fe}function Yh(){for(;de!==null;)qf(de)}function Kh(){for(;de!==null&&!Em();)qf(de)}function qf(e){var n=Jf(e.alternate,e,Ue);e.memoizedProps=e.pendingProps,n===null?Bf(e):de=n,Pl.current=null}function Bf(e){var n=e;do{var t=n.alternate;if(e=n.return,n.flags&32768){if(t=Bh(t,n),t!==null){t.flags&=32767,de=t;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{fe=6,de=null;return}}else if(t=qh(t,n,Ue),t!==null){de=t;return}if(n=n.sibling,n!==null){de=n;return}de=n=e}while(n!==null);fe===0&&(fe=5)}function et(e,n,t){var o=O,r=Oe.transition;try{Oe.transition=null,O=1,bh(e,n,t,o)}finally{Oe.transition=r,O=o}return null}function bh(e,n,t,o){do Dt();while(Fn!==null);if(J&6)throw Error(P(327));t=e.finishedWork;var r=e.finishedLanes;if(t===null)return null;if(e.finishedWork=null,e.finishedLanes=0,t===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var i=t.lanes|t.childLanes;if(Rm(e,i),e===me&&(de=me=null,ve=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||ir||(ir=!0,$f(Ir,function(){return Dt(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=Oe.transition,Oe.transition=null;var l=O;O=1;var u=J;J|=4,Pl.current=null,Jh(e,t),Uf(t,e),hh(fs),Nr=!!cs,fs=cs=null,e.current=t,$h(t),Tm(),J=u,O=l,Oe.transition=i}else e.current=t;if(ir&&(ir=!1,Fn=e,$r=r),i=e.pendingLanes,i===0&&(Jn=null),_m(t.stateNode),Le(e,ae()),n!==null)for(o=e.onRecoverableError,t=0;t<n.length;t++)r=n[t],o(r.value,{componentStack:r.stack,digest:r.digest});if(Jr)throw Jr=!1,e=Ms,Ms=null,e;return $r&1&&e.tag!==0&&Dt(),i=e.pendingLanes,i&1?e===Ds?Eo++:(Eo=0,Ds=e):Eo=0,Qn(),null}function Dt(){if(Fn!==null){var e=Tc($r),n=Oe.transition,t=O;try{if(Oe.transition=null,O=16>e?16:e,Fn===null)var o=!1;else{if(e=Fn,Fn=null,$r=0,J&6)throw Error(P(331));var r=J;for(J|=4,L=e.current;L!==null;){var i=L,l=i.child;if(L.flags&16){var u=i.deletions;if(u!==null){for(var d=0;d<u.length;d++){var c=u[d];for(L=c;L!==null;){var f=L;switch(f.tag){case 0:case 11:case 15:yo(8,f,i)}var p=f.child;if(p!==null)p.return=f,L=p;else for(;L!==null;){f=L;var m=f.sibling,y=f.return;if(Mf(f),f===c){L=null;break}if(m!==null){m.return=y,L=m;break}L=y}}}var S=i.alternate;if(S!==null){var C=S.child;if(C!==null){S.child=null;do{var I=C.sibling;C.sibling=null,C=I}while(C!==null)}}L=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,L=l;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:yo(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,L=v;break e}L=i.return}}var h=e.current;for(L=h;L!==null;){l=L;var E=l.child;if(l.subtreeFlags&2064&&E!==null)E.return=l,L=E;else e:for(l=h;L!==null;){if(u=L,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:ii(9,u)}}catch(_){se(u,u.return,_)}if(u===l){L=null;break e}var T=u.sibling;if(T!==null){T.return=u.return,L=T;break e}L=u.return}}if(J=r,Qn(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Xr,e)}catch{}o=!0}return o}finally{O=t,Oe.transition=n}}return!1}function ou(e,n,t){n=zt(t,n),n=Sf(e,n,1),e=zn(e,n,1),n=Ae(),e!==null&&(qo(e,1,n),Le(e,n))}function se(e,n,t){if(e.tag===3)ou(e,e,t);else for(;n!==null;){if(n.tag===3){ou(n,e,t);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Jn===null||!Jn.has(o))){e=zt(t,e),e=Cf(n,e,1),n=zn(n,e,1),e=Ae(),n!==null&&(qo(n,1,e),Le(n,e));break}}n=n.return}}function Qh(e,n,t){var o=e.pingCache;o!==null&&o.delete(n),n=Ae(),e.pingedLanes|=e.suspendedLanes&t,me===e&&(ve&t)===t&&(fe===4||fe===3&&(ve&130023424)===ve&&500>ae()-Ml?rt(e,0):kl|=t),Le(e,n)}function zf(e,n){n===0&&(e.mode&1?(n=bo,bo<<=1,!(bo&130023424)&&(bo=4194304)):n=1);var t=Ae();e=_n(e,n),e!==null&&(qo(e,n,t),Le(e,t))}function Xh(e){var n=e.memoizedState,t=0;n!==null&&(t=n.retryLane),zf(e,t)}function Zh(e,n){var t=0;switch(e.tag){case 13:var o=e.stateNode,r=e.memoizedState;r!==null&&(t=r.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(P(314))}o!==null&&o.delete(n),zf(e,t)}var Jf;Jf=function(e,n,t){if(e!==null)if(e.memoizedProps!==n.pendingProps||Me.current)ke=!0;else{if(!(e.lanes&t)&&!(n.flags&128))return ke=!1,Hh(e,n,t);ke=!!(e.flags&131072)}else ke=!1,te&&n.flags&1048576&&Oc(n,Ur,n.index);switch(n.lanes=0,n.tag){case 2:var o=n.type;yr(e,n),e=n.pendingProps;var r=Gt(n,xe.current);Mt(n,t),r=xl(null,n,o,e,r,t);var i=Il();return n.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,De(o)?(i=!0,Dr(n)):i=!1,n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Tl(n),r.updater=ri,n.stateNode=r,r._reactInternals=n,Ss(n,o,e,t),n=ws(null,n,o,!0,i,t)):(n.tag=0,te&&i&&pl(n),Ie(null,n,r,t),n=n.child),n;case 16:o=n.elementType;e:{switch(yr(e,n),e=n.pendingProps,r=o._init,o=r(o._payload),n.type=o,r=n.tag=eg(o),e=en(o,e),r){case 0:n=_s(null,n,o,e,t);break e;case 1:n=Ya(null,n,o,e,t);break e;case 11:n=Wa(null,n,o,e,t);break e;case 14:n=Oa(null,n,o,en(o.type,e),t);break e}throw Error(P(306,o,""))}return n;case 0:return o=n.type,r=n.pendingProps,r=n.elementType===o?r:en(o,r),_s(e,n,o,r,t);case 1:return o=n.type,r=n.pendingProps,r=n.elementType===o?r:en(o,r),Ya(e,n,o,r,t);case 3:e:{if(If(n),e===null)throw Error(P(387));o=n.pendingProps,i=n.memoizedState,r=i.element,Zc(e,n),Gr(n,o,null,t);var l=n.memoizedState;if(o=l.element,i.isDehydrated)if(i={element:o,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},n.updateQueue.baseState=i,n.memoizedState=i,n.flags&256){r=zt(Error(P(423)),n),n=Ka(e,n,o,t,r);break e}else if(o!==r){r=zt(Error(P(424)),n),n=Ka(e,n,o,t,r);break e}else for(Fe=Bn(n.stateNode.containerInfo.firstChild),Ve=n,te=!0,tn=null,t=Qc(n,null,o,t),n.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Ht(),o===r){n=wn(e,n,t);break e}Ie(e,n,o,t)}n=n.child}return n;case 5:return jc(n),e===null&&vs(n),o=n.type,r=n.pendingProps,i=e!==null?e.memoizedProps:null,l=r.children,ps(o,r)?l=null:i!==null&&ps(o,i)&&(n.flags|=32),xf(e,n),Ie(e,n,l,t),n.child;case 6:return e===null&&vs(n),null;case 13:return Af(e,n,t);case 4:return Sl(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=qt(n,null,o,t):Ie(e,n,o,t),n.child;case 11:return o=n.type,r=n.pendingProps,r=n.elementType===o?r:en(o,r),Wa(e,n,o,r,t);case 7:return Ie(e,n,n.pendingProps,t),n.child;case 8:return Ie(e,n,n.pendingProps.children,t),n.child;case 12:return Ie(e,n,n.pendingProps.children,t),n.child;case 10:e:{if(o=n.type._context,r=n.pendingProps,i=n.memoizedProps,l=r.value,K(Fr,o._currentValue),o._currentValue=l,i!==null)if(sn(i.value,l)){if(i.children===r.children&&!Me.current){n=wn(e,n,t);break e}}else for(i=n.child,i!==null&&(i.return=n);i!==null;){var u=i.dependencies;if(u!==null){l=i.child;for(var d=u.firstContext;d!==null;){if(d.context===o){if(i.tag===1){d=Tn(-1,t&-t),d.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?d.next=d:(d.next=f.next,f.next=d),c.pending=d}}i.lanes|=t,d=i.alternate,d!==null&&(d.lanes|=t),Es(i.return,t,n),u.lanes|=t;break}d=d.next}}else if(i.tag===10)l=i.type===n.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(P(341));l.lanes|=t,u=l.alternate,u!==null&&(u.lanes|=t),Es(l,t,n),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===n){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Ie(e,n,r.children,t),n=n.child}return n;case 9:return r=n.type,o=n.pendingProps.children,Mt(n,t),r=Ke(r),o=o(r),n.flags|=1,Ie(e,n,o,t),n.child;case 14:return o=n.type,r=en(o,n.pendingProps),r=en(o.type,r),Oa(e,n,o,r,t);case 15:return _f(e,n,n.type,n.pendingProps,t);case 17:return o=n.type,r=n.pendingProps,r=n.elementType===o?r:en(o,r),yr(e,n),n.tag=1,De(o)?(e=!0,Dr(n)):e=!1,Mt(n,t),Tf(n,o,r),Ss(n,o,r,t),ws(null,n,o,!0,e,t);case 19:return Nf(e,n,t);case 22:return wf(e,n,t)}throw Error(P(156,n.tag))};function $f(e,n){return gc(e,n)}function jh(e,n,t,o){this.tag=e,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function We(e,n,t,o){return new jh(e,n,t,o)}function Fl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function eg(e){if(typeof e=="function")return Fl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===nl)return 11;if(e===tl)return 14}return 2}function Wn(e,n){var t=e.alternate;return t===null?(t=We(e.tag,n,e.key,e.mode),t.elementType=e.elementType,t.type=e.type,t.stateNode=e.stateNode,t.alternate=e,e.alternate=t):(t.pendingProps=n,t.type=e.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=e.flags&14680064,t.childLanes=e.childLanes,t.lanes=e.lanes,t.child=e.child,t.memoizedProps=e.memoizedProps,t.memoizedState=e.memoizedState,t.updateQueue=e.updateQueue,n=e.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},t.sibling=e.sibling,t.index=e.index,t.ref=e.ref,t}function Tr(e,n,t,o,r,i){var l=2;if(o=e,typeof e=="function")Fl(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case gt:return it(t.children,r,i,n);case el:l=8,r|=8;break;case Wi:return e=We(12,t,n,r|2),e.elementType=Wi,e.lanes=i,e;case Oi:return e=We(13,t,n,r),e.elementType=Oi,e.lanes=i,e;case Yi:return e=We(19,t,n,r),e.elementType=Yi,e.lanes=i,e;case jd:return li(t,r,i,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Xd:l=10;break e;case Zd:l=9;break e;case nl:l=11;break e;case tl:l=14;break e;case kn:l=16,o=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return n=We(l,t,n,r),n.elementType=e,n.type=o,n.lanes=i,n}function it(e,n,t,o){return e=We(7,e,o,n),e.lanes=t,e}function li(e,n,t,o){return e=We(22,e,o,n),e.elementType=jd,e.lanes=t,e.stateNode={isHidden:!1},e}function Bi(e,n,t){return e=We(6,e,null,n),e.lanes=t,e}function zi(e,n,t){return n=We(4,e.children!==null?e.children:[],e.key,n),n.lanes=t,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function ng(e,n,t,o,r){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ci(0),this.expirationTimes=Ci(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.identifierPrefix=o,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Vl(e,n,t,o,r,i,l,u,d){return e=new ng(e,n,t,u,d),n===1?(n=1,i===!0&&(n|=8)):n=0,i=We(3,null,null,n),e.current=i,i.stateNode=e,i.memoizedState={element:o,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tl(i),e}function tg(e,n,t){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ht,key:o==null?null:""+o,children:e,containerInfo:n,implementation:t}}function Wf(e){if(!e)return Yn;e=e._reactInternals;e:{if(ft(e)!==e||e.tag!==1)throw Error(P(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(De(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(P(171))}if(e.tag===1){var t=e.type;if(De(t))return $c(e,t,n)}return n}function Of(e,n,t,o,r,i,l,u,d){return e=Vl(t,o,!0,e,r,i,l,u,d),e.context=Wf(null),t=e.current,o=Ae(),r=$n(t),i=Tn(o,r),i.callback=n??null,zn(t,i,r),e.current.lanes=r,qo(e,r,o),Le(e,o),e}function ai(e,n,t,o){var r=n.current,i=Ae(),l=$n(r);return t=Wf(t),n.context===null?n.context=t:n.pendingContext=t,n=Tn(i,l),n.payload={element:e},o=o===void 0?null:o,o!==null&&(n.callback=o),e=zn(r,n,l),e!==null&&(rn(e,r,l,i),mr(e,r,l)),l}function Or(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ru(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var t=e.retryLane;e.retryLane=t!==0&&t<n?t:n}}function Gl(e,n){ru(e,n),(e=e.alternate)&&ru(e,n)}function og(){return null}var Yf=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hl(e){this._internalRoot=e}ui.prototype.render=Hl.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(P(409));ai(e,n,null,null)};ui.prototype.unmount=Hl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;dt(function(){ai(null,e,null,null)}),n[Cn]=null}};function ui(e){this._internalRoot=e}ui.prototype.unstable_scheduleHydration=function(e){if(e){var n=_c();e={blockedOn:null,target:e,priority:n};for(var t=0;t<Dn.length&&n!==0&&n<Dn[t].priority;t++);Dn.splice(t,0,e),t===0&&xc(e)}};function ql(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function di(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function iu(){}function rg(e,n,t,o,r){if(r){if(typeof o=="function"){var i=o;o=function(){var c=Or(l);i.call(c)}}var l=Of(n,o,e,0,null,!1,!1,"",iu);return e._reactRootContainer=l,e[Cn]=l.current,Ro(e.nodeType===8?e.parentNode:e),dt(),l}for(;r=e.lastChild;)e.removeChild(r);if(typeof o=="function"){var u=o;o=function(){var c=Or(d);u.call(c)}}var d=Vl(e,0,!1,null,null,!1,!1,"",iu);return e._reactRootContainer=d,e[Cn]=d.current,Ro(e.nodeType===8?e.parentNode:e),dt(function(){ai(n,d,t,o)}),d}function ci(e,n,t,o,r){var i=t._reactRootContainer;if(i){var l=i;if(typeof r=="function"){var u=r;r=function(){var d=Or(l);u.call(d)}}ai(n,l,e,r)}else l=rg(t,n,e,r,o);return Or(l)}Sc=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var t=ao(n.pendingLanes);t!==0&&(il(n,t|1),Le(n,ae()),!(J&6)&&(Jt=ae()+500,Qn()))}break;case 13:dt(function(){var o=_n(e,1);if(o!==null){var r=Ae();rn(o,e,1,r)}}),Gl(e,1)}};sl=function(e){if(e.tag===13){var n=_n(e,134217728);if(n!==null){var t=Ae();rn(n,e,134217728,t)}Gl(e,134217728)}};Cc=function(e){if(e.tag===13){var n=$n(e),t=_n(e,n);if(t!==null){var o=Ae();rn(t,e,n,o)}Gl(e,n)}};_c=function(){return O};wc=function(e,n){var t=O;try{return O=e,n()}finally{O=t}};os=function(e,n,t){switch(n){case"input":if(Qi(e,t),n=t.name,t.type==="radio"&&n!=null){for(t=e;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<t.length;n++){var o=t[n];if(o!==e&&o.form===e.form){var r=ni(o);if(!r)throw Error(P(90));nc(o),Qi(o,r)}}}break;case"textarea":oc(e,t);break;case"select":n=t.value,n!=null&&Nt(e,!!t.multiple,n,!1)}};dc=Dl;cc=dt;var ig={usingClientEntryPoint:!1,Events:[zo,Tt,ni,ac,uc,Dl]},ro={findFiberByHostInstance:nt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sg={bundleType:ro.bundleType,version:ro.version,rendererPackageName:ro.rendererPackageName,rendererConfig:ro.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:In.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=mc(e),e===null?null:e.stateNode},findFiberByHostInstance:ro.findFiberByHostInstance||og,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sr.isDisabled&&sr.supportsFiber)try{Xr=sr.inject(sg),pn=sr}catch{}}He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ig;He.createPortal=function(e,n){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ql(n))throw Error(P(200));return tg(e,n,null,t)};He.createRoot=function(e,n){if(!ql(e))throw Error(P(299));var t=!1,o="",r=Yf;return n!=null&&(n.unstable_strictMode===!0&&(t=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(r=n.onRecoverableError)),n=Vl(e,1,!1,null,null,t,!1,o,r),e[Cn]=n.current,Ro(e.nodeType===8?e.parentNode:e),new Hl(n)};He.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=mc(n),e=e===null?null:e.stateNode,e};He.flushSync=function(e){return dt(e)};He.hydrate=function(e,n,t){if(!di(n))throw Error(P(200));return ci(null,e,n,!0,t)};He.hydrateRoot=function(e,n,t){if(!ql(e))throw Error(P(405));var o=t!=null&&t.hydratedSources||null,r=!1,i="",l=Yf;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),n=Of(n,null,e,1,t??null,r,!1,i,l),e[Cn]=n.current,Ro(e),o)for(e=0;e<o.length;e++)t=o[e],r=t._getVersion,r=r(t._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[t,r]:n.mutableSourceEagerHydrationData.push(t,r);return new ui(n)};He.render=function(e,n,t){if(!di(n))throw Error(P(200));return ci(null,e,n,!1,t)};He.unmountComponentAtNode=function(e){if(!di(e))throw Error(P(40));return e._reactRootContainer?(dt(function(){ci(null,null,e,!1,function(){e._reactRootContainer=null,e[Cn]=null})}),!0):!1};He.unstable_batchedUpdates=Dl;He.unstable_renderSubtreeIntoContainer=function(e,n,t,o){if(!di(t))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return ci(e,n,t,!1,o)};He.version="18.3.1-next-f1338f8080-20240426";function Kf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kf)}catch(e){console.error(e)}}Kf(),Yd.exports=He;var lg=Yd.exports,su=lg;Ji.createRoot=su.createRoot,Ji.hydrateRoot=su.hydrateRoot;var le=(e=>(e.IDLE="IDLE",e.LOADING="LOADING",e.PLAYING="PLAYING",e.PAUSED="PAUSED",e.COMPLETED="COMPLETED",e.ERROR="ERROR",e))(le||{}),je=(e=>(e.GEMINI="GEMINI",e.NATIVE="NATIVE",e))(je||{}),yn=(e=>(e.GUEST="GUEST",e.STUDENT="STUDENT",e.ADMIN="ADMIN",e))(yn||{}),he=(e=>(e.LOGIN="LOGIN",e.LIBRARY="LIBRARY",e.ADMIN="ADMIN",e.PLAYER="PLAYER",e))(he||{});const ag=`
https://www.jgschool.in/blog/wp-content/uploads/2024/07/JGS-July-_-Blog-Image-1568x882.jpg .

1.The Cognitive Storm of Reading.

Reading initiates a multilayered cascade in the brain where visual perception, linguistic decoding, emotional interpretation, and conceptual reasoning merge into one integrated cognitive state; with every word your brain processes, millions of neurons fire in synchronized patterns that resemble the oscillations of a finely tuned computational system, transforming simple ink marks into complex networks of meaning; as your eyes travel line by line, you trigger neural circuits that bind phonological sounds to symbolic shapes, link semantic concepts to memories, and layer new insights onto old frameworks, thereby constantly updating your internal mental model of the world; this dynamic act stimulates neuroplasticity, reinforcing synaptic pathways and generating efficiency in cognitive circuits through repeated practice, making reading a powerful force that shapes intelligence, emotional depth, and memory consolidation.

2.The Mathematical Machine Behind Meaning.

Reading behaves like a living algorithm where each word acts as a token, each sentence as a vector transformation, and each paragraph as a high-dimensional update to your mental state; your brain performs operations analogous to gradient descent, where confusion is reduced step by step as meaning becomes clearer, and each new piece of information becomes a weight adjustment in the neural network that defines your understanding; fiction introduces nonlinear imaginative leaps, while non-fiction introduces structured logical updates, together forming a hybrid computation model that optimizes creativity and rationality simultaneously; this continuous optimization strengthens the mental layers responsible for pattern recognition, abstraction, prediction, and deep learning, making the brain sharper, more adaptive, and more capable of complex reasoning.

3.The Sensory Symphony of Language.

Every moment you read, your sensory systems synchronize into a symphony: the eyes capture shapes, the ears simulate internal sound, the motor cortex manages micro-movements of subvocalization, and the limbic system colors the experience with emotion; this sensory integration activates neural pathways that cross domainsvisual to auditory, auditory to emotional, emotional to conceptualcreating a multi-modal fusion of perception and understanding that enriches cognition; reading becomes not just a linguistic act but a full-brain experience where imagination, memory, logic, and emotion merge into a single dynamic mental flow, strengthening the brains capacity to handle complexity and subtlety in everyday life.

4.Fiction as a Simulator, Non-fiction as an Architect.

Fiction operates as an emotional simulator, allowing the mind to inhabit other lives, practice empathy, and expand emotional intelligence by constructing virtual experiences using imagination-driven neural modeling; non-fiction acts as a mental architect, building frameworks, concepts, logical systems, and factual understanding that integrate into a structured worldview; the interplay between these two modes creates a balanced cognitive ecosystem where creativity fuels interpretation, logic stabilizes thought, and emotional resonance deepens memory; reading both forms enhances the brains ability to shift between modesintuitive, analytical, imaginative, and practicalcreating a more flexible, powerful, and adaptable intelligence.

5.The Slow Ritual That Builds Neural Strength.

When you read slowly, line by line, taking time to reflect, your brain enters a deep processing state where comprehension thickens and neural architecture strengthens; slow reading increases the density of synaptic connections, enhances the precision of memory encoding, and expands your attentional capacity by training the brain to focus on subtlety and detail; in a world filled with rapid, fragmented stimuli, slow reading becomes a mental discipline that sharpens cognitive control, reduces mental noise, and builds resilience, allowing the brain to operate with clarity and depth even under pressure or distraction.

6.The Subvocal Engine of Thought.

As you read, the silent voice inside your mindthe subvocalization loopactivates language centers that link sound to meaning and meaning to memory; this internal voice acts like a cognitive engine that drives comprehension, guiding the brain through the architecture of sentences and reinforcing connections between abstract ideas and their linguistic representations; subvocalization engages working memory, enabling the brain to hold multiple ideas at once, compare them, manipulate them, and integrate them into complex reasoning; the continuous practice of holding and processing ideas in this way strengthens executive function and increases the brains capacity for logical and creative thought.

7.The Memory Forge Within the Hippocampus.

Reading triggers the hippocampus to forge memories by binding words to concepts, concepts to emotions, and emotions to lived experiences; as you read more, this system becomes more efficient at encoding, storing, and retrieving information, enhancing both long-term memory and working memory capacity; the hippocampus thrives on novelty and complexity, both of which reading supplies abundantly through new story worlds, new knowledge structures, and new perspectives; over time, regular reading thickens hippocampal networks, strengthens memory pathways, and enhances the brains ability to learn, recall, and apply information across diverse contexts.

8.The Brains Predictive Universe Expands.

Your brain is fundamentally a prediction machine, and reading trains the predictive system by exposing it to endless sequences of linguistic patterns, emotional cues, narrative structures, and logical flows; each sentence becomes a test for the brain: predict what comes next, update based on the result, and refine future predictions; this continuous prediction cycle sharpens cognitive intuition, enhances pattern recognition, and improves decision-making in real life by strengthening the brains ability to anticipate outcomes, analyze possibilities, and respond intelligently to uncertainty.

9.Emotional Intelligence Grows Through Narrative Depth.

When you read stories filled with emotional nuance, your brain practices decoding subtle signals of human behaviormotives, fears, desires, conflictsand simulates these emotions internally using mirror neurons and limbic pathways; this practice deepens emotional granularity, allowing you to differentiate between similar feelings and analyze them with precision; the more emotional scenarios the brain simulates through reading, the richer the emotional vocabulary becomes, enhancing empathy, social understanding, emotional regulation, and the ability to navigate complex interpersonal situations with clarity and compassion.

10.Reading as a Biological Upgrade System.

At the highest level, reading is a self-directed biological upgrade system where every book becomes a training module that strengthens different cognitive domainsmemory, focus, imagination, reasoning, abstraction, creativity, emotional intelligence, and communication; this continuous upgrading creates a compounding effect: the more you read, the more capable your brain becomes at reading, learning, thinking, and understanding; over months and years, reading cultivates a mind that is not only knowledgeable but structurally enhancedmore connected, more resilient, more imaginative, more analytical, and more capable of navigating the complexities of life with intelligence, depth, and clarity.

11.The Day the Pages Began to Breathe.

There comes a moment when the reader first feels something strangethe pages begin to breathe; the words no longer sit quietly like ink arranged in lines, but rise and fall like living organisms, carrying emotions, meanings, and tiny universes inside them; as Aru read, they felt the atmosphere of the room shiftthe light softened, the noise faded, and the sentences wrapped around their mind like gentle wind, whispering promises of adventure, clarity, and inner peace; this moment, unnoticed by most, is the birth of reading happiness, when the heart recognizes that books are not objects, but warm portals that invite the reader into deeper worlds where imagination meets reality, and the brain delights in discovering what lies just beyond the next line.

12.The Forest of Sentences.

As Aru continued reading daily, the experience transformed into wandering through a vast mental forest where each sentence was a path, each paragraph a clearing, and each chapter a new landscape entirely; sometimes the sentences felt like cool shade under ancient trees, offering calm and reflection; other times, they felt like sunlit meadows bursting with new ideas that lifted the spirit; in this forest, the brain grew stronger without realizing itattention sharpened, curiosity bloomed, and emotions found healthier pathways to flow; reading became Arus refuge, a place where the world slowed down and happiness was found in the tiny act of moving from word to word.

13.The Soft Lightning in the Brain.

Every time Aru read, a soft lightning began to dance inside their mindnot violent, but gentle streaks of illumination that lit up memories, ideas, emotions, and hidden corners of thought; the neuroscientists call this neural activation, but to Aru, it simply felt like joy, as if each new sentence switched on a small lightbulb inside the mind; the more they read, the more these lights stayed on, creating a warm internal glow that comforted them even during stressful days; reading became a form of inner weathercalm, glowing, warmand their brain began associating the act with peace, making the reading habit spread effortlessly through their life like a sunrise.

14.The Characters That Became Friends.

Soon, characters from different books started living quietly inside Arus imagination; they stood beside them during lonely evenings, encouraged them during difficult mornings, and smiled at them whenever life felt heavy; fiction became a world of friendships without boundaries, where each friend taught somethingcourage, patience, curiosity, kindness, or resilience; the brain, wired to simulate real emotions during stories, treated these characters as genuine companions, rewarding Aru with oxytocin, empathy, and emotional warmth; thus, reading brought happiness not just from ideas but from relationshipsrelationships formed through ink, but felt through heart.

15.The Floating River of Understanding.

There were days when Aru felt like they were floating on a river of understanding, being gently carried along by the authors voice; the sentences flowed like watersometimes fast and exciting, sometimes slow and reflective, always guiding Aru to places they had never reached before; reading became a soft journey, not a task; the brain loved this gentle rhythm, releasing dopamine whenever clarity dawned or a new insight appeared; reading happiness grew from these little aha moments, each functioning like a small celebration inside the mind, reinforcing curiosity and making Aru crave more journeys down this beautiful river.

16.The Library Inside the Mind.

With every book, Arus inner world expanded into a magnificent librarynot built of stone and wood, but of memories, insights, stories, emotions, and lessons; this library was always open, always quiet, always comforting; shelves filled with knowledge stood side by side with shelves filled with dreams; the brain, delighted by organizing concepts and patterns, strengthened the neural pathways of learning, making Aru smarter without trying; this inner library became a temple of peace, a place Aru could visit anytime to find happiness, perspective, or inspiration simply by remembering something they once read.

17.The Magic of Getting Lost.

Some evenings, Aru sat down to read for five minutes and suddenly found that an hour had passed without notice; time dissolved, worries melted, and they were lost in the storys world; neuroscientists call this state deep flow, but to Aru, it felt like magictrue immersive happiness where the mind forgets chaos and swims freely in imagination; this flow state trained Arus brain to focus deeply, filtering noise and distraction, giving them a calm, steady mental energy that lasted long after the book was closed; the happiness came from the rare joy of being fully present.

18.The Growth No One Saw.

Reading changed Aru in ways no one could see on the outside; their thoughts became clearer, emotions steadier, creativity brighter, and decisions wiser; they began noticing patterns in life the same way they noticed them in storiesrecognizing arcs, conflicts, resolutions, and hidden motivations; this silent growth, invisible to others, made Aru feel a private kind of happinessthe happiness of knowing they were improving not for praise, but for their own inner strength; reading became a gentle mentor, shaping them quietly, kindly, and deeply.

19.The Heartbeat of Curiosity.

Curiosity, once small and shy, grew like a heartbeat inside Aru; each book fed it, each sentence strengthened it, and soon curiosity pulsed through everything Aru didhow they observed the world, how they asked questions, how they dreamed; reading cultivated this heartbeat in a steady rhythm, reminding Aru that life is full of mysteries waiting to be understood; curiosity brought joy, energy, and purpose, turning every day into a treasure hunt for meaning; the world felt bigger, brighter, more alive, simply because Aru had trained their mind to wonder.

20.The Eternal Companion.

In the end, reading became Arus eternal companionsomething that stayed with them through good days, bad days, quiet nights, restless mornings, and uncertain phases of life; books never judged, never hurried, never disappointed; they waited patiently until Aru returned, ready to offer comfort, wisdom, adventure, or laughter; this companionship created a deep sense of happiness because Aru knew they could always open a book and instantly find a world that welcomed them warmly; reading wasnt just a habitit became a lifelong friend, a source of inner strength, joy, imagination, and peace.

Regards.

Gobal Krishan V | 18/06/1995.

Studied School . 

https://dberukkancheryfsm.org/wp-content/uploads/2019/12/7b985a4e-4fd6-43f1-9e9f-ab3a32d5b87e-768x384.jpg   . 

https://dberukkancheryfsm.org/wp-content/uploads/2019/12/IMG_0310-768x576.jpg . 


`,$t="reading_habit_library",lr=[{id:"default-1",title:"Welcome to Reading Habit",author:"Gobal Krishnan V [dob : 18/06/1995 | gobalkrishnan.work@gmail.com]",category:"Welcome/Introduction",text:ag,createdAt:Date.now()}];function An(){try{const e=localStorage.getItem($t);if(!e)return localStorage.setItem($t,JSON.stringify(lr)),lr;const n=JSON.parse(e);return Array.isArray(n)?n:lr}catch(e){return console.error("Failed to load library",e),lr}}function ug(e){const n=An();n.push(e),localStorage.setItem($t,JSON.stringify(n))}function dg(e){const n=An(),t=n.findIndex(o=>o.id===e.id);t!==-1?(n[t]=e,localStorage.setItem($t,JSON.stringify(n)),console.log(`Updated item: ${e.title}`)):console.error(`Item with id ${e.id} not found for update.`)}function cg(e){try{const n=An(),t=n.length,o=n.filter(r=>r.id!==e);o.length===t?console.warn(`Attempted to delete item with id ${e} but it was not found.`):console.log(`Deleted item ${e}. Count: ${t} -> ${o.length}`),localStorage.setItem($t,JSON.stringify(o))}catch(n){console.error("Error deleting item:",n)}}function fg(e){try{const n=An(),t=new Set(n.map(i=>i.id));let o=0;const r=[...n];return e.forEach(i=>{if(!i.id||!i.title||!i.text)return;const l=r.findIndex(u=>u.id===i.id);l>-1?r[l]=i:(r.push(i),o++)}),localStorage.setItem($t,JSON.stringify(r)),o}catch(n){throw console.error("Failed to import library:",n),n}}function pg(e){const n={name:"Root",fullPath:"",children:{},fileCount:0,totalFiles:0};return e.forEach(t=>{const o=t.category?t.category.split("/").filter(l=>l.trim()!==""):["Uncategorized"];let r=n;n.totalFiles++;let i="";o.forEach((l,u)=>{i=i?`${i}/${l}`:l,r.children[l]||(r.children[l]={name:l,fullPath:i,children:{},fileCount:0,totalFiles:0}),r=r.children[l],r.totalFiles++,u===o.length-1&&r.fileCount++})}),n}function mg(){const e=An(),n=new Set;return e.forEach(t=>{t.category&&n.add(t.category)}),Array.from(n).sort()}function hg(){try{console.log("Starting export...");const e=An(),n=JSON.stringify(e,null,2),t=new Blob([n],{type:"application/json"}),o=URL.createObjectURL(t),r=document.createElement("a");r.href=o,r.download=`algo_reader_library_${Date.now()}.json`,document.body.appendChild(r),r.click(),setTimeout(()=>{document.body.removeChild(r),URL.revokeObjectURL(o),console.log("Export complete.")},100)}catch(e){console.error("Failed to export library:",e),alert("An error occurred while exporting the library.")}}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),z=(e,n)=>{const t=U.forwardRef(({color:o="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:l,className:u="",children:d,...c},f)=>U.createElement("svg",{ref:f,...gg,width:r,height:r,stroke:o,strokeWidth:l?Number(i)*24/Number(r):i,className:["lucide",`lucide-${yg(e)}`,u].join(" "),...c},[...n.map(([p,m])=>U.createElement(p,m)),...Array.isArray(d)?d:[d]]));return t.displayName=`${e}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=z("ClipboardCopy",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=z("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=z("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=z("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=z("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=z("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=z("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=z("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=z("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=z("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=z("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=z("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=z("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=z("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ug=z("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=z("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=z("SkipBack",[["polygon",{points:"19 20 9 12 19 4 19 20",key:"o2sva"}],["line",{x1:"5",x2:"5",y1:"19",y2:"5",key:"1ocqjk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=z("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=z("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=z("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=z("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ep=({node:e,level:n,selectedPath:t,onSelect:o})=>{const[r,i]=U.useState(!1),l=Object.keys(e.children).length>0,u=t===e.fullPath;Qs.useEffect(()=>{t&&t.startsWith(e.fullPath+"/")&&i(!0)},[t,e.fullPath]);const d=f=>{f.stopPropagation(),i(!r)},c=()=>{o(e.fullPath),!r&&l&&i(!0)};return g.jsxs("div",{children:[g.jsxs("div",{onClick:c,className:`flex items-center gap-2 px-2 py-1.5 rounded-md cursor-pointer text-sm select-none transition-colors mb-0.5
          ${u?"bg-orange-900/30 text-orange-200":"text-gray-400 hover:bg-[#222] hover:text-gray-200"}
        `,style:{paddingLeft:`${n*12+8}px`},children:[g.jsx("div",{onClick:l?d:void 0,className:`p-0.5 rounded hover:bg-white/10 ${l?"visible":"invisible"}`,children:r?g.jsx(bf,{size:14}):g.jsx(Qf,{size:14})}),r||u?g.jsx(Zf,{size:16,className:u?"fill-orange-500/20 text-orange-400":"text-gray-500"}):g.jsx(xg,{size:16,className:"text-gray-500"}),g.jsx("span",{className:"truncate",children:e.name})]}),r&&l&&g.jsx("div",{children:Object.values(e.children).sort((f,p)=>f.name.localeCompare(p.name)).map(f=>g.jsx(ep,{node:f,level:n+1,selectedPath:t,onSelect:o},f.fullPath))})]})},Og=({onSelect:e,role:n,onRefresh:t,onCreate:o,onEdit:r,libraryVersion:i})=>{const[l,u]=U.useState(null),[d,c]=U.useState(""),f=U.useRef(null),{treeRoot:p,items:m}=U.useMemo(()=>{const T=An();return{treeRoot:pg(T),items:T}},[i]),y=m.filter(T=>{const _=T.category||"Uncategorized";let x=!0;l&&(x=_===l);const w=T.title.toLowerCase().includes(d.toLowerCase())||T.author.toLowerCase().includes(d.toLowerCase());return x&&w}),S=(T,_)=>{T.stopPropagation(),T.nativeEvent.stopImmediatePropagation(),cg(_),t()},C=(T,_)=>{T.stopPropagation(),T.nativeEvent.stopImmediatePropagation(),r&&r(_)},I=()=>{hg()},v=()=>{f.current&&f.current.click()},h=T=>{var w;const _=(w=T.target.files)==null?void 0:w[0];if(!_)return;const x=new FileReader;x.onload=R=>{var A;try{const N=(A=R.target)==null?void 0:A.result,F=JSON.parse(N);Array.isArray(F)?(fg(F),t(),alert("Library imported successfully!")):alert("Invalid JSON format. Expected an array of library items.")}catch(N){console.error("Import error:",N),alert("Failed to parse JSON file.")}f.current&&(f.current.value="")},x.readAsText(_)},E=l?l.split("/"):[];return g.jsxs("div",{className:"flex flex-1 h-full overflow-hidden bg-[#0f0f11]",children:[g.jsxs("div",{className:"w-64 md:w-80 bg-[#161618] border-r border-gray-800 flex flex-col h-full shrink-0",children:[g.jsx("div",{className:"p-4 border-b border-gray-800",children:g.jsx("h2",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-1",children:"Explorer"})}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-2 scrollbar-thin",children:[g.jsxs("button",{onClick:()=>u(null),className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm mb-2 transition-colors ${l===null?"bg-orange-900/20 text-orange-400 font-medium":"text-gray-400 hover:bg-[#222] hover:text-gray-200"}`,children:[g.jsx(Ag,{size:18}),g.jsx("span",{children:"All Files"}),g.jsx("span",{className:"ml-auto text-xs bg-gray-800 px-2 py-0.5 rounded-full text-gray-500",children:p.totalFiles})]}),g.jsx("div",{className:"h-px bg-gray-800 my-2 mx-2"}),Object.values(p.children).sort((T,_)=>T.name.localeCompare(_.name)).map(T=>g.jsx(ep,{node:T,level:0,selectedPath:l,onSelect:u},T.fullPath))]})]}),g.jsxs("div",{className:"flex-1 flex flex-col h-full min-w-0 bg-[#0f0f11]",children:[g.jsxs("div",{className:"h-16 border-b border-gray-800 flex items-center justify-between px-6 bg-[#0f0f11]/80 backdrop-blur-sm sticky top-0 z-10 shrink-0",children:[g.jsxs("div",{className:"flex items-center gap-2 overflow-hidden mr-4",children:[g.jsx("button",{onClick:()=>u(null),className:`text-sm hover:text-white transition ${l?"text-gray-500":"text-white font-bold"}`,children:"Home"}),E.map((T,_)=>{const x=E.slice(0,_+1).join("/"),w=_===E.length-1;return g.jsxs(Qs.Fragment,{children:[g.jsx(Qf,{size:14,className:"text-gray-600 shrink-0"}),g.jsx("button",{onClick:()=>u(x),className:`text-sm whitespace-nowrap hover:text-white transition ${w?"text-white font-bold":"text-gray-500"}`,children:T})]},x)})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"relative hidden lg:block",children:[g.jsx(Vg,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),g.jsx("input",{type:"text",placeholder:"Search in folder...",value:d,onChange:T=>c(T.target.value),className:"w-48 xl:w-64 bg-[#161618] border border-gray-700 rounded-lg py-1.5 pl-9 pr-3 text-sm text-gray-300 focus:border-orange-500 focus:outline-none placeholder-gray-600 transition-all focus:w-72"})]}),n===yn.ADMIN&&g.jsxs(g.Fragment,{children:[g.jsx("input",{type:"file",ref:f,className:"hidden",accept:".json",onChange:h}),g.jsx("button",{onClick:v,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition",title:"Import JSON",children:g.jsx(jf,{size:20})}),g.jsx("button",{onClick:I,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition",title:"Export JSON",children:g.jsx(_g,{size:20})}),g.jsxs("button",{onClick:o,className:"flex items-center gap-2 bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 text-white px-3 py-2 rounded-lg transition text-sm font-medium shadow-lg shadow-orange-900/20 active:scale-95 whitespace-nowrap",children:[g.jsx(Dg,{size:16}),g.jsx("span",{children:"Upload"})]})]})]})]}),g.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8",children:[g.jsx("div",{className:"lg:hidden mb-6",children:g.jsx("input",{type:"text",placeholder:"Search files...",value:d,onChange:T=>c(T.target.value),className:"w-full bg-[#161618] border border-gray-700 rounded-lg py-3 px-4 text-sm text-gray-300 focus:border-orange-500 focus:outline-none"})}),y.length===0?g.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500 select-none",children:[g.jsx("div",{className:"w-16 h-16 bg-gray-800/50 rounded-full flex items-center justify-center mb-4",children:g.jsx(Zf,{size:32,className:"opacity-40"})}),g.jsx("p",{className:"text-lg font-medium text-gray-400",children:"Empty Folder"}),g.jsxs("p",{className:"text-sm opacity-50 mt-1",children:["No files found in ",l?`"${l.split("/").pop()}"`:"root","."]})]}):g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-4",children:y.map(T=>g.jsxs("div",{onClick:()=>e(T),className:"group relative bg-[#161618] hover:bg-[#1e1e20] border border-gray-800 hover:border-gray-600 rounded-xl p-5 cursor-pointer transition-all hover:shadow-xl hover:-translate-y-1 flex flex-col h-full min-h-[12rem]",children:[g.jsxs("div",{className:"flex-1 mb-3",children:[g.jsxs("div",{className:"flex justify-between items-start mb-3",children:[g.jsx("div",{className:"p-2 bg-gray-800/50 rounded-lg group-hover:bg-orange-900/20 group-hover:text-orange-400 transition-colors shrink-0",children:g.jsx(Xf,{size:20})}),n===yn.ADMIN&&g.jsxs("div",{className:"flex flex-col gap-1 z-20 shrink-0 ml-2",children:[g.jsx("button",{type:"button",onClick:_=>S(_,T.id),className:"text-gray-600 hover:text-red-400 p-1.5 hover:bg-red-900/10 rounded-md transition cursor-pointer pointer-events-auto",title:"Delete",children:g.jsx(Bg,{size:16,className:"pointer-events-none"})}),g.jsx("button",{type:"button",onClick:_=>C(_,T),className:"text-gray-600 hover:text-blue-400 p-1.5 hover:bg-blue-900/10 rounded-md transition cursor-pointer pointer-events-auto",title:"Edit",children:g.jsx(Mg,{size:16,className:"pointer-events-none"})})]})]}),g.jsx("h4",{className:"font-semibold text-base text-gray-200 mb-2 group-hover:text-white transition-colors break-words mr-6",children:T.title}),g.jsx("p",{className:"text-sm text-gray-500 font-serif italic break-words mb-2",children:T.author})]}),g.jsxs("div",{className:"mt-auto pt-3 border-t border-gray-800/50",children:[g.jsx("span",{className:"text-[10px] text-gray-600 uppercase tracking-wider mb-1 block",children:"Location"}),g.jsx("div",{className:"text-xs text-gray-400 bg-gray-800/50 px-2 py-1 rounded inline-block break-words max-w-full",children:T.category?T.category.split("/").pop():"Root"})]}),g.jsx("div",{className:"absolute bottom-5 right-5 opacity-0 group-hover:opacity-100 transition-all duration-300 bg-orange-600 text-white rounded-full p-3 shadow-lg transform translate-y-2 group-hover:translate-y-0 z-10 flex items-center justify-center",children:g.jsx(Bl,{size:20,fill:"currentColor",className:"ml-0.5"})})]},T.id))})]})]})]})};let ar;const Yg=new Uint8Array(16);function Kg(){if(!ar&&(ar=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ar))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ar(Yg)}const ge=[];for(let e=0;e<256;++e)ge.push((e+256).toString(16).slice(1));function bg(e,n=0){return ge[e[n+0]]+ge[e[n+1]]+ge[e[n+2]]+ge[e[n+3]]+"-"+ge[e[n+4]]+ge[e[n+5]]+"-"+ge[e[n+6]]+ge[e[n+7]]+"-"+ge[e[n+8]]+ge[e[n+9]]+"-"+ge[e[n+10]]+ge[e[n+11]]+ge[e[n+12]]+ge[e[n+13]]+ge[e[n+14]]+ge[e[n+15]]}const Qg=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),au={randomUUID:Qg};function Xg(e,n,t){if(au.randomUUID&&!e)return au.randomUUID();e=e||{};const o=e.random||(e.rng||Kg)();return o[6]=o[6]&15|64,o[8]=o[8]&63|128,bg(o)}const np="algo_reader_gh_config";function Zg(e){localStorage.setItem(np,JSON.stringify(e))}function zl(){const e=localStorage.getItem(np);return e?JSON.parse(e):null}async function jg(e){const n=`https://api.github.com/repos/${e.owner}/${e.repo}`;try{const t=await fetch(n,{headers:{Authorization:`token ${e.token}`,Accept:"application/vnd.github.v3+json"}});if(t.status===404)throw new Error("Repository not found. Check Owner/Repo Name.");if(t.status===401||t.status===403)throw new Error("Access denied. Check your Personal Access Token.");return t.ok}catch(t){throw new Error(t.message||"Network error verifying repo.")}}async function tp(){const e=zl();if(!e)return!1;if(!e.owner||!e.repo||!e.token)throw new Error("Missing GitHub configuration fields.");try{await jg(e);const n=An(),t=btoa(JSON.stringify(n,null,2));let o;try{const l=`https://api.github.com/repos/${e.owner}/${e.repo}/contents/${e.path}`,u=await fetch(l,{headers:{Authorization:`token ${e.token}`}});u.ok&&(o=(await u.json()).sha)}catch{}const r=`https://api.github.com/repos/${e.owner}/${e.repo}/contents/${e.path}`,i=await fetch(r,{method:"PUT",headers:{Authorization:`token ${e.token}`,Accept:"application/vnd.github.v3+json","Content-Type":"application/json"},body:JSON.stringify({message:`Update library data - ${new Date().toISOString()}`,content:t,sha:o})});if(!i.ok){const l=await i.json();throw new Error(`Failed to upload: ${l.message||i.statusText}`)}return!0}catch(n){throw console.error("GitHub Sync Error:",n),n}}const ey=({onCancel:e,onSuccess:n,editItem:t})=>{const[o,r]=U.useState("EDITOR"),[i,l]=U.useState((t==null?void 0:t.title)||""),[u,d]=U.useState((t==null?void 0:t.author)||""),[c,f]=U.useState((t==null?void 0:t.category)||""),[p,m]=U.useState((t==null?void 0:t.text)||""),[y,S]=U.useState(""),[C,I]=U.useState(""),v=U.useRef(null),[h,E]=U.useState(""),[T,_]=U.useState(""),[x,w]=U.useState(""),[R,A]=U.useState("data/library.json"),[N,F]=U.useState("");U.useEffect(()=>{t&&(l(t.title),d(t.author),f(t.category),m(t.text))},[t]),U.useEffect(()=>{const k=zl();k&&(E(k.token),_(k.owner),w(k.repo),A(k.path))},[]);const B=U.useMemo(()=>mg(),[]),b=k=>{var ue;const H=(ue=k.target.files)==null?void 0:ue[0];if(!H)return;if(!H.name.endsWith(".txt")){I("Please upload a file with .txt extension.");return}S(H.name),I("");const W=new FileReader;W.onload=Y=>{var an;(an=Y.target)!=null&&an.result&&(m(Y.target.result),!i&&!t&&l(H.name.replace(".txt","").replace(/_/g," ")))},W.readAsText(H)},Be=k=>{if(k.preventDefault(),!i||!u||!c||!p){I("All fields are required.");return}if(t){const H={...t,title:i,author:u,category:c,text:p};dg(H)}else{const H={id:Xg(),title:i,author:u,category:c,text:p,createdAt:Date.now()};ug(H)}n()},Qe=async()=>{if(!v.current)return;const k=v.current,H=k.selectionStart,W=k.selectionEnd,ue=p.substring(H,W);if(ue){try{await navigator.clipboard.writeText(ue)}catch(Y){console.error("Failed to copy",Y)}k.focus()}},ne=async()=>{if(!v.current)return;const k=v.current,H=k.selectionStart,W=k.selectionEnd,ue=p.substring(H,W);if(ue)try{await navigator.clipboard.writeText(ue);const Y=p.substring(0,H)+p.substring(W);m(Y),requestAnimationFrame(()=>{k.selectionStart=k.selectionEnd=H,k.focus()})}catch(Y){console.error("Failed to cut",Y)}},Xe=async()=>{if(!v.current)return;const k=v.current,H=k.selectionStart,W=k.selectionEnd;try{const ue=await navigator.clipboard.readText(),Y=p.substring(0,H)+ue+p.substring(W);m(Y),requestAnimationFrame(()=>{const an=H+ue.length;k.selectionStart=k.selectionEnd=an,k.focus()})}catch(ue){console.error("Failed to paste",ue),alert("Please use Ctrl+V / Cmd+V to paste.")}},D=()=>{Zg({token:h.trim(),owner:T.trim(),repo:x.trim(),path:R.trim()}),F("Configuration Saved."),setTimeout(()=>F(""),3e3)},G=async()=>{F("Syncing...");try{await tp()?(F("Sync Successful! Refreshing..."),setTimeout(n,1e3)):F("Sync Failed. Check console.")}catch(k){F(`Sync Failed: ${k.message}`)}};return g.jsx("div",{className:"flex items-center justify-center min-h-full p-6",children:g.jsxs("div",{className:"w-full max-w-4xl bg-[#1a1a1d] rounded-2xl border border-gray-800 shadow-2xl flex flex-col max-h-[90vh] overflow-hidden animate-fadeIn",children:[g.jsxs("div",{className:"flex justify-between items-center px-6 py-4 border-b border-gray-800 shrink-0",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("h2",{className:"text-xl font-bold text-white",children:o==="EDITOR"?t?"Edit Material":"Upload New Material":"Settings"}),g.jsxs("div",{className:"flex bg-gray-800 rounded-lg p-1",children:[g.jsx("button",{onClick:()=>r("EDITOR"),className:`px-3 py-1 rounded-md text-xs font-medium transition-all ${o==="EDITOR"?"bg-orange-600 text-white shadow":"text-gray-400 hover:text-white"}`,children:"Editor"}),g.jsx("button",{onClick:()=>r("SETTINGS"),className:`px-3 py-1 rounded-md text-xs font-medium transition-all ${o==="SETTINGS"?"bg-orange-600 text-white shadow":"text-gray-400 hover:text-white"}`,children:g.jsx(Gg,{size:14})})]})]}),g.jsx("button",{onClick:e,className:"text-gray-400 hover:text-white transition",children:g.jsx(Wg,{size:24})})]}),o==="EDITOR"&&g.jsxs("form",{onSubmit:Be,className:"flex-1 overflow-y-auto p-6 md:p-8 space-y-6 flex flex-col",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5 shrink-0",children:[!t&&g.jsx("div",{className:"md:col-span-2",children:g.jsxs("div",{className:"relative border-2 border-dashed border-gray-700 rounded-xl p-6 text-center hover:bg-gray-800/50 transition-colors group",children:[g.jsx("input",{type:"file",accept:".txt",onChange:b,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),g.jsx("div",{className:"flex flex-col items-center pointer-events-none",children:y?g.jsxs("p",{className:"text-green-400 font-medium flex items-center gap-2",children:[g.jsx(Xf,{size:20})," ",y]}):g.jsxs("p",{className:"text-gray-400 font-medium flex items-center gap-2",children:[g.jsx(jf,{size:20})," Import .txt file (Optional)"]})})]})}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-400 uppercase mb-1",children:"Title"}),g.jsx("input",{type:"text",value:i,onChange:k=>l(k.target.value),className:"w-full bg-[#0f0f11] border border-gray-700 rounded-lg p-2.5 text-white focus:border-orange-500 focus:outline-none placeholder-gray-700",placeholder:"e.g. Educational Story"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-400 uppercase mb-1",children:"Author"}),g.jsx("input",{type:"text",value:u,onChange:k=>d(k.target.value),className:"w-full bg-[#0f0f11] border border-gray-700 rounded-lg p-2.5 text-white focus:border-orange-500 focus:outline-none placeholder-gray-700",placeholder:"e.g. Author name"})]}),g.jsxs("div",{className:"md:col-span-2",children:[g.jsx("label",{className:"block text-xs font-medium text-gray-400 uppercase mb-1",children:"Folder Path"}),g.jsx("input",{list:"folder-paths",type:"text",value:c,onChange:k=>f(k.target.value),className:"w-full bg-[#0f0f11] border border-gray-700 rounded-lg p-2.5 text-white focus:border-orange-500 focus:outline-none placeholder-gray-700",placeholder:"e.g. Education Story/Food Required Money/Correct or Wrong"}),g.jsx("datalist",{id:"folder-paths",children:B.map(k=>g.jsx("option",{value:k},k))})]})]}),g.jsxs("div",{className:"flex-1 flex flex-col min-h-[300px] border border-gray-700 rounded-lg overflow-hidden bg-[#0f0f11]",children:[g.jsxs("div",{className:"flex items-center gap-1 bg-[#1a1a1d] border-b border-gray-700 p-2",children:[g.jsx("button",{type:"button",onClick:ne,className:"p-1.5 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition",title:"Cut",children:g.jsx(Fg,{size:16})}),g.jsx("button",{type:"button",onClick:Qe,className:"p-1.5 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition",title:"Copy",children:g.jsx(Sg,{size:16})}),g.jsx("button",{type:"button",onClick:Xe,className:"p-1.5 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition",title:"Paste",children:g.jsx(Cg,{size:16})}),g.jsx("div",{className:"w-px h-4 bg-gray-700 mx-1"}),g.jsx("span",{className:"text-xs text-gray-500 ml-1",children:"Editor"})]}),g.jsx("textarea",{ref:v,value:p,onChange:k=>m(k.target.value),className:"flex-1 w-full bg-[#0f0f11] p-4 text-gray-200 font-mono text-sm focus:outline-none resize-none",placeholder:"Paste or type content here..."})]}),C&&g.jsx("div",{className:"text-red-400 text-sm bg-red-900/10 p-3 rounded-lg border border-red-900/30 text-center",children:C}),g.jsxs("div",{className:"flex gap-4 pt-2 shrink-0",children:[g.jsx("button",{type:"button",onClick:e,className:"flex-1 bg-gray-800 hover:bg-gray-700 text-gray-300 font-medium py-3 rounded-lg transition-all",children:"Cancel"}),g.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 text-white font-bold py-3 rounded-lg transition-all flex items-center justify-center gap-2 shadow-lg shadow-orange-900/20",children:t?g.jsxs(g.Fragment,{children:[g.jsx(Ug,{size:20})," Update Material"]}):g.jsxs(g.Fragment,{children:[g.jsx(Tg,{size:20})," Publish Material"]})})]})]}),o==="SETTINGS"&&g.jsx("div",{className:"p-8 space-y-6",children:g.jsxs("div",{className:"bg-blue-900/10 border border-blue-900/30 p-4 rounded-lg",children:[g.jsx("h3",{className:"text-blue-300 font-bold mb-2 flex items-center gap-2",children:"GitHub Integration"}),g.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:["Connect a private repository to act as your persistent database. Files will be saved to ",g.jsx("code",{className:"text-orange-400",children:R}),".",g.jsx("br",{}),g.jsx("span",{className:"text-xs text-red-400 mt-1 block",children:"Warning: Your token is saved in browser LocalStorage. Only use on trusted devices."})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-400 uppercase mb-1",children:"Personal Access Token"}),g.jsx("input",{type:"password",value:h,onChange:k=>E(k.target.value),className:"w-full bg-[#0f0f11] border border-gray-700 rounded-lg p-2 text-white",placeholder:"ghp_..."})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-400 uppercase mb-1",children:"Repo Owner"}),g.jsx("input",{type:"text",value:T,onChange:k=>_(k.target.value),className:"w-full bg-[#0f0f11] border border-gray-700 rounded-lg p-2 text-white",placeholder:"username"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-400 uppercase mb-1",children:"Repo Name"}),g.jsx("input",{type:"text",value:x,onChange:k=>w(k.target.value),className:"w-full bg-[#0f0f11] border border-gray-700 rounded-lg p-2 text-white",placeholder:"my-repo"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-400 uppercase mb-1",children:"File Path"}),g.jsx("input",{type:"text",value:R,onChange:k=>A(k.target.value),className:"w-full bg-[#0f0f11] border border-gray-700 rounded-lg p-2 text-white",placeholder:"data/library.json"})]}),g.jsxs("div",{className:"flex gap-4 pt-4",children:[g.jsx("button",{onClick:D,className:"bg-gray-700 hover:bg-gray-600 px-4 py-2 rounded text-white text-sm",children:"Save Config"}),g.jsx("button",{onClick:G,className:"bg-orange-600 hover:bg-orange-500 px-4 py-2 rounded text-white text-sm",children:"Sync Now"})]}),N&&g.jsx("p",{className:"text-sm text-yellow-400 mt-2",children:N})]})]})})]})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ny,ty;function oy(){return{geminiUrl:ny,vertexUrl:ty}}function ry(e,n,t,o){var r,i;if(!(e!=null&&e.baseUrl)){const l=oy();return n?(r=l.vertexUrl)!==null&&r!==void 0?r:t:(i=l.geminiUrl)!==null&&i!==void 0?i:o}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Nn{}function M(e,n){const t=/\{([^}]+)\}/g;return e.replace(t,(o,r)=>{if(Object.prototype.hasOwnProperty.call(n,r)){const i=n[r];return i!=null?String(i):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function a(e,n,t){for(let i=0;i<n.length-1;i++){const l=n[i];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in e))if(Array.isArray(t))e[u]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(e[u])){const d=e[u];if(Array.isArray(t))for(let c=0;c<d.length;c++){const f=d[c];a(f,n.slice(i+1),t[c])}else for(const c of d)a(c,n.slice(i+1),t)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in e||(e[u]=[{}]);const d=e[u];a(d[0],n.slice(i+1),t);return}(!e[l]||typeof e[l]!="object")&&(e[l]={}),e=e[l]}const o=n[n.length-1],r=e[o];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(e,t):e[o]=t}function s(e,n,t=void 0){try{if(n.length===1&&n[0]==="_self")return e;for(let o=0;o<n.length;o++){if(typeof e!="object"||e===null)return t;const r=n[o];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in e){const l=e[i];return Array.isArray(l)?l.map(u=>s(u,n.slice(o+1),t)):t}else return t}else e=e[r]}return e}catch(o){if(o instanceof TypeError)return t;throw o}}function iy(e,n){for(const[t,o]of Object.entries(n)){const r=t.split("."),i=o.split("."),l=new Set;let u=-1;for(let d=0;d<r.length;d++)if(r[d]==="*"){u=d;break}if(u!==-1&&i.length>u)for(let d=u;d<i.length;d++){const c=i[d];c!=="*"&&!c.endsWith("[]")&&!c.endsWith("[0]")&&l.add(c)}Fs(e,r,i,0,l)}}function Fs(e,n,t,o,r){if(o>=n.length||typeof e!="object"||e===null)return;const i=n[o];if(i.endsWith("[]")){const l=i.slice(0,-2),u=e;if(l in u&&Array.isArray(u[l]))for(const d of u[l])Fs(d,n,t,o+1,r)}else if(i==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const l=e,u=Object.keys(l).filter(c=>!c.startsWith("_")&&!r.has(c)),d={};for(const c of u)d[c]=l[c];for(const[c,f]of Object.entries(d)){const p=[];for(const m of t.slice(o))m==="*"?p.push(c):p.push(m);a(l,p,f)}for(const c of u)delete l[c]}}else{const l=e;i in l&&Fs(l[i],n,t,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jl(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sy(e){const n={},t=s(e,["operationName"]);t!=null&&a(n,["operationName"],t);const o=s(e,["resourceName"]);return o!=null&&a(n,["_url","resourceName"],o),n}function ly(e){const n={},t=s(e,["name"]);t!=null&&a(n,["name"],t);const o=s(e,["metadata"]);o!=null&&a(n,["metadata"],o);const r=s(e,["done"]);r!=null&&a(n,["done"],r);const i=s(e,["error"]);i!=null&&a(n,["error"],i);const l=s(e,["response","generateVideoResponse"]);return l!=null&&a(n,["response"],uy(l)),n}function ay(e){const n={},t=s(e,["name"]);t!=null&&a(n,["name"],t);const o=s(e,["metadata"]);o!=null&&a(n,["metadata"],o);const r=s(e,["done"]);r!=null&&a(n,["done"],r);const i=s(e,["error"]);i!=null&&a(n,["error"],i);const l=s(e,["response"]);return l!=null&&a(n,["response"],dy(l)),n}function uy(e){const n={},t=s(e,["generatedSamples"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(l=>cy(l))),a(n,["generatedVideos"],i)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&a(n,["raiMediaFilteredCount"],o);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(n,["raiMediaFilteredReasons"],r),n}function dy(e){const n={},t=s(e,["videos"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(l=>fy(l))),a(n,["generatedVideos"],i)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&a(n,["raiMediaFilteredCount"],o);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(n,["raiMediaFilteredReasons"],r),n}function cy(e){const n={},t=s(e,["video"]);return t!=null&&a(n,["video"],vy(t)),n}function fy(e){const n={},t=s(e,["_self"]);return t!=null&&a(n,["video"],Ey(t)),n}function py(e){const n={},t=s(e,["operationName"]);return t!=null&&a(n,["_url","operationName"],t),n}function my(e){const n={},t=s(e,["operationName"]);return t!=null&&a(n,["_url","operationName"],t),n}function hy(e){const n={},t=s(e,["name"]);t!=null&&a(n,["name"],t);const o=s(e,["metadata"]);o!=null&&a(n,["metadata"],o);const r=s(e,["done"]);r!=null&&a(n,["done"],r);const i=s(e,["error"]);i!=null&&a(n,["error"],i);const l=s(e,["response"]);return l!=null&&a(n,["response"],gy(l)),n}function gy(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const o=s(e,["parent"]);o!=null&&a(n,["parent"],o);const r=s(e,["documentName"]);return r!=null&&a(n,["documentName"],r),n}function op(e){const n={},t=s(e,["name"]);t!=null&&a(n,["name"],t);const o=s(e,["metadata"]);o!=null&&a(n,["metadata"],o);const r=s(e,["done"]);r!=null&&a(n,["done"],r);const i=s(e,["error"]);i!=null&&a(n,["error"],i);const l=s(e,["response"]);return l!=null&&a(n,["response"],yy(l)),n}function yy(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const o=s(e,["parent"]);o!=null&&a(n,["parent"],o);const r=s(e,["documentName"]);return r!=null&&a(n,["documentName"],r),n}function vy(e){const n={},t=s(e,["uri"]);t!=null&&a(n,["uri"],t);const o=s(e,["encodedVideo"]);o!=null&&a(n,["videoBytes"],Jl(o));const r=s(e,["encoding"]);return r!=null&&a(n,["mimeType"],r),n}function Ey(e){const n={},t=s(e,["gcsUri"]);t!=null&&a(n,["uri"],t);const o=s(e,["bytesBase64Encoded"]);o!=null&&a(n,["videoBytes"],Jl(o));const r=s(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var uu;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(uu||(uu={}));var du;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(du||(du={}));var cu;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(cu||(cu={}));var Vn;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(Vn||(Vn={}));var fu;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(fu||(fu={}));var pu;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(pu||(pu={}));var mu;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(mu||(mu={}));var hu;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(hu||(hu={}));var gu;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(gu||(gu={}));var yu;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.HIGH="HIGH"})(yu||(yu={}));var vu;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(vu||(vu={}));var Eu;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Eu||(Eu={}));var Tu;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(Tu||(Tu={}));var Su;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE"})(Su||(Su={}));var Cu;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Cu||(Cu={}));var _u;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(_u||(_u={}));var wu;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(wu||(wu={}));var xu;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(xu||(xu={}));var Iu;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Iu||(Iu={}));var Go;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(Go||(Go={}));var Au;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Au||(Au={}));var Nu;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Nu||(Nu={}));var Ru;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Ru||(Ru={}));var Vs;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Vs||(Vs={}));var Pu;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Pu||(Pu={}));var ku;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ku||(ku={}));var Mu;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Mu||(Mu={}));var Du;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(Du||(Du={}));var Lu;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Lu||(Lu={}));var Uu;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Uu||(Uu={}));var Fu;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(Fu||(Fu={}));var Vu;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(Vu||(Vu={}));var Gu;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(Gu||(Gu={}));var Hu;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(Hu||(Hu={}));var qu;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(qu||(qu={}));var Bu;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Bu||(Bu={}));var zu;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(zu||(zu={}));var Ju;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ju||(Ju={}));var $u;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})($u||($u={}));var Wu;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(Wu||(Wu={}));var Ou;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(Ou||(Ou={}));var Yu;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(Yu||(Yu={}));var Ku;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Ku||(Ku={}));var bu;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(bu||(bu={}));var Qu;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(Qu||(Qu={}));var Xu;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"})(Xu||(Xu={}));var Zu;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Zu||(Zu={}));var ju;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(ju||(ju={}));var ed;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(ed||(ed={}));var nd;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(nd||(nd={}));var td;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(td||(td={}));var od;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(od||(od={}));var rd;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(rd||(rd={}));var id;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(id||(id={}));var At;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(At||(At={}));class Gs{constructor(n){const t={};for(const o of n.headers.entries())t[o[0]]=o[1];this.headers=t,this.responseInternal=n}json(){return this.responseInternal.json()}}class io{get text(){var n,t,o,r,i,l,u,d;if(((r=(o=(t=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let c="",f=!1;const p=[];for(const m of(d=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[y,S]of Object.entries(m))y!=="text"&&y!=="thought"&&y!=="thoughtSignature"&&(S!==null||S!==void 0)&&p.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;f=!0,c+=m.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?c:void 0}get data(){var n,t,o,r,i,l,u,d;if(((r=(o=(t=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let c="";const f=[];for(const p of(d=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&d!==void 0?d:[]){for(const[m,y]of Object.entries(p))m!=="inlineData"&&(y!==null||y!==void 0)&&f.push(m);p.inlineData&&typeof p.inlineData.data=="string"&&(c+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),c.length>0?btoa(c):void 0}get functionCalls(){var n,t,o,r,i,l,u,d;if(((r=(o=(t=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const c=(d=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return c}get executableCode(){var n,t,o,r,i,l,u,d,c;if(((r=(o=(t=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(d=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.code}get codeExecutionResult(){var n,t,o,r,i,l,u,d,c;if(((r=(o=(t=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(d=(u=(l=(i=this.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||d===void 0?void 0:d.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(c=f==null?void 0:f[0])===null||c===void 0?void 0:c.output}}class sd{}class ld{}class Ty{}class Sy{}class Cy{}class _y{}class ad{}class ud{}class dd{}class wy{}class Yr{_fromAPIResponse({apiResponse:n,_isVertexAI:t}){const o=new Yr;let r;const i=n;return t?r=ay(i):r=ly(i),Object.assign(o,r),o}}class cd{}class fd{}class pd{}class xy{}class Iy{}class Ay{}class $l{_fromAPIResponse({apiResponse:n,_isVertexAI:t}){const o=new $l,i=hy(n);return Object.assign(o,i),o}}class Ny{}class Ry{}class Py{}class md{}class ky{get text(){var n,t,o;let r="",i=!1;const l=[];for(const u of(o=(t=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(const[d,c]of Object.entries(u))d!=="text"&&d!=="thought"&&c!==null&&l.push(d);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;i=!0,r+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var n,t,o;let r="";const i=[];for(const l of(o=(t=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(const[u,d]of Object.entries(l))u!=="inlineData"&&d!==null&&i.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(r+=atob(l.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class My{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Wl{_fromAPIResponse({apiResponse:n,_isVertexAI:t}){const o=new Wl,i=op(n);return Object.assign(o,i),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $(e,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(n.includes("..")||n.includes("?")||n.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const t=n.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function rp(e,n){const t=$(e,n);return t?t.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:t.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${t}`:t:""}function ip(e){return Array.isArray(e)?e.map(n=>Kr(n)):[Kr(e)]}function Kr(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function sp(e){const n=Kr(e);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function lp(e){const n=Kr(e);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function hd(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function ap(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(n=>hd(n)):[hd(e)]}function Hs(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function gd(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function yd(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function we(e){if(e==null)throw new Error("ContentUnion is required");return Hs(e)?e:{role:"user",parts:ap(e)}}function Ol(e,n){if(!n)return[];if(e.isVertexAI()&&Array.isArray(n))return n.flatMap(t=>{const o=we(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(e.isVertexAI()){const t=we(n);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(n)?n.map(t=>we(t)):[we(n)]}function Ye(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(gd(e)||yd(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[we(e)]}const n=[],t=[],o=Hs(e[0]);for(const r of e){const i=Hs(r);if(i!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(i)n.push(r);else{if(gd(r)||yd(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(r)}}return o||n.push({role:"user",parts:ap(t)}),n}function Dy(e,n){e.includes("null")&&(n.nullable=!0);const t=e.filter(o=>o!=="null");if(t.length===1)n.type=Object.values(Vn).includes(t[0].toUpperCase())?t[0].toUpperCase():Vn.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const o of t)n.anyOf.push({type:Object.values(Vn).includes(o.toUpperCase())?o.toUpperCase():Vn.TYPE_UNSPECIFIED})}}function Lt(e){const n={},t=["items"],o=["anyOf"],r=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;i!=null&&i.length==2&&(i[0].type==="null"?(n.nullable=!0,e=i[1]):i[1].type==="null"&&(n.nullable=!0,e=i[0])),e.type instanceof Array&&Dy(e.type,n);for(const[l,u]of Object.entries(e))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;n.type=Object.values(Vn).includes(u.toUpperCase())?u.toUpperCase():Vn.TYPE_UNSPECIFIED}else if(t.includes(l))n[l]=Lt(u);else if(o.includes(l)){const d=[];for(const c of u){if(c.type=="null"){n.nullable=!0;continue}d.push(Lt(c))}n[l]=d}else if(r.includes(l)){const d={};for(const[c,f]of Object.entries(u))d[c]=Lt(f);n[l]=d}else{if(l==="additionalProperties")continue;n[l]=u}return n}function Yl(e){return Lt(e)}function Kl(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function bl(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Kt(e){if(e.functionDeclarations)for(const n of e.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=Lt(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=Lt(n.response));return e}function bt(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const n=[];for(const t of e)n.push(t);return n}function Ly(e,n,t,o=1){const r=!n.startsWith(`${t}/`)&&n.split("/").length===o;return e.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${e.getProject()}/${n}`:n.startsWith(`${t}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:r?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}/${n}`:n:r?`${t}/${n}`:n}function Rn(e,n){if(typeof n!="string")throw new Error("name must be a string");return Ly(e,n,"cachedContents")}function up(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function Xn(e){return Jl(e)}function Uy(e){return e!=null&&typeof e=="object"&&"name"in e}function Fy(e){return e!=null&&typeof e=="object"&&"video"in e}function Vy(e){return e!=null&&typeof e=="object"&&"uri"in e}function dp(e){var n;let t;if(Uy(e)&&(t=e.name),!(Vy(e)&&(t=e.uri,t===void 0))&&!(Fy(e)&&(t=(n=e.video)===null||n===void 0?void 0:n.uri,t===void 0))){if(typeof e=="string"&&(t=e),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const r=t.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${t}`);t=r[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function cp(e,n){let t;return e.isVertexAI()?t=n?"publishers/google/models":"models":t=n?"models":"tunedModels",t}function fp(e){for(const n of["models","tunedModels","publisherModels"])if(Gy(e,n))return e[n];return[]}function Gy(e,n){return e!==null&&typeof e=="object"&&n in e}function Hy(e,n={}){const t=e,o={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(o.responseJsonSchema=t.outputSchema),n.behavior&&(o.behavior=n.behavior),{functionDeclarations:[o]}}function qy(e,n={}){const t=[],o=new Set;for(const r of e){const i=r.name;if(o.has(i))throw new Error(`Duplicate function name ${i} found in MCP tools. Please ensure function names are unique.`);o.add(i);const l=Hy(r,n);l.functionDeclarations&&t.push(...l.functionDeclarations)}return{functionDeclarations:t}}function pp(e,n){let t;if(typeof n=="string")if(e.isVertexAI())if(n.startsWith("gs://"))t={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))t={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))t={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:n}}else t=n;const o=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,r=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(e.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function By(e){if(typeof e!="string")return e;const n=e;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function mp(e){if(typeof e!="object"||e===null)return{};const n=e,t=n.inlinedResponses;if(typeof t!="object"||t===null)return e;const r=t.inlinedResponses;if(!Array.isArray(r)||r.length===0)return e;let i=!1;for(const l of r){if(typeof l!="object"||l===null)continue;const d=l.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){i=!0;break}}return i&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),e}function Qt(e,n){const t=n;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function hp(e){const n=e;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zy(e){const n={},t=s(e,["responsesFile"]);t!=null&&a(n,["fileName"],t);const o=s(e,["inlinedResponses","inlinedResponses"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>Cv(l))),a(n,["inlinedResponses"],i)}const r=s(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(n,["inlinedEmbedContentResponses"],i)}return n}function Jy(e){const n={},t=s(e,["predictionsFormat"]);t!=null&&a(n,["format"],t);const o=s(e,["gcsDestination","outputUriPrefix"]);o!=null&&a(n,["gcsUri"],o);const r=s(e,["bigqueryDestination","outputUri"]);return r!=null&&a(n,["bigqueryUri"],r),n}function $y(e){const n={},t=s(e,["format"]);t!=null&&a(n,["predictionsFormat"],t);const o=s(e,["gcsUri"]);o!=null&&a(n,["gcsDestination","outputUriPrefix"],o);const r=s(e,["bigqueryUri"]);if(r!=null&&a(n,["bigqueryDestination","outputUri"],r),s(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function Sr(e){const n={},t=s(e,["name"]);t!=null&&a(n,["name"],t);const o=s(e,["metadata","displayName"]);o!=null&&a(n,["displayName"],o);const r=s(e,["metadata","state"]);r!=null&&a(n,["state"],hp(r));const i=s(e,["metadata","createTime"]);i!=null&&a(n,["createTime"],i);const l=s(e,["metadata","endTime"]);l!=null&&a(n,["endTime"],l);const u=s(e,["metadata","updateTime"]);u!=null&&a(n,["updateTime"],u);const d=s(e,["metadata","model"]);d!=null&&a(n,["model"],d);const c=s(e,["metadata","output"]);return c!=null&&a(n,["dest"],zy(mp(c))),n}function qs(e){const n={},t=s(e,["name"]);t!=null&&a(n,["name"],t);const o=s(e,["displayName"]);o!=null&&a(n,["displayName"],o);const r=s(e,["state"]);r!=null&&a(n,["state"],hp(r));const i=s(e,["error"]);i!=null&&a(n,["error"],i);const l=s(e,["createTime"]);l!=null&&a(n,["createTime"],l);const u=s(e,["startTime"]);u!=null&&a(n,["startTime"],u);const d=s(e,["endTime"]);d!=null&&a(n,["endTime"],d);const c=s(e,["updateTime"]);c!=null&&a(n,["updateTime"],c);const f=s(e,["model"]);f!=null&&a(n,["model"],f);const p=s(e,["inputConfig"]);p!=null&&a(n,["src"],Wy(p));const m=s(e,["outputConfig"]);m!=null&&a(n,["dest"],Jy(mp(m)));const y=s(e,["completionStats"]);return y!=null&&a(n,["completionStats"],y),n}function Wy(e){const n={},t=s(e,["instancesFormat"]);t!=null&&a(n,["format"],t);const o=s(e,["gcsSource","uris"]);o!=null&&a(n,["gcsUri"],o);const r=s(e,["bigquerySource","inputUri"]);return r!=null&&a(n,["bigqueryUri"],r),n}function Oy(e,n){const t={};if(s(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=s(n,["fileName"]);o!=null&&a(t,["fileName"],o);const r=s(n,["inlinedRequests"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Sv(e,l))),a(t,["requests","requests"],i)}return t}function Yy(e){const n={},t=s(e,["format"]);t!=null&&a(n,["instancesFormat"],t);const o=s(e,["gcsUri"]);o!=null&&a(n,["gcsSource","uris"],o);const r=s(e,["bigqueryUri"]);if(r!=null&&a(n,["bigquerySource","inputUri"],r),s(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function Ky(e){const n={},t=s(e,["data"]);if(t!=null&&a(n,["data"],t),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function by(e,n){const t={},o=s(n,["name"]);return o!=null&&a(t,["_url","name"],Qt(e,o)),t}function Qy(e,n){const t={},o=s(n,["name"]);return o!=null&&a(t,["_url","name"],Qt(e,o)),t}function Xy(e){const n={},t=s(e,["content"]);t!=null&&a(n,["content"],t);const o=s(e,["citationMetadata"]);o!=null&&a(n,["citationMetadata"],Zy(o));const r=s(e,["tokenCount"]);r!=null&&a(n,["tokenCount"],r);const i=s(e,["finishReason"]);i!=null&&a(n,["finishReason"],i);const l=s(e,["avgLogprobs"]);l!=null&&a(n,["avgLogprobs"],l);const u=s(e,["groundingMetadata"]);u!=null&&a(n,["groundingMetadata"],u);const d=s(e,["index"]);d!=null&&a(n,["index"],d);const c=s(e,["logprobsResult"]);c!=null&&a(n,["logprobsResult"],c);const f=s(e,["safetyRatings"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>y)),a(n,["safetyRatings"],m)}const p=s(e,["urlContextMetadata"]);return p!=null&&a(n,["urlContextMetadata"],p),n}function Zy(e){const n={},t=s(e,["citationSources"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>r)),a(n,["citations"],o)}return n}function gp(e){const n={},t=s(e,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>Rv(i))),a(n,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(n,["role"],o),n}function jy(e,n){const t={},o=s(e,["displayName"]);if(n!==void 0&&o!=null&&a(n,["batch","displayName"],o),s(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function ev(e,n){const t={},o=s(e,["displayName"]);n!==void 0&&o!=null&&a(n,["displayName"],o);const r=s(e,["dest"]);return n!==void 0&&r!=null&&a(n,["outputConfig"],$y(By(r))),t}function vd(e,n){const t={},o=s(n,["model"]);o!=null&&a(t,["_url","model"],$(e,o));const r=s(n,["src"]);r!=null&&a(t,["batch","inputConfig"],Oy(e,pp(e,r)));const i=s(n,["config"]);return i!=null&&jy(i,t),t}function nv(e,n){const t={},o=s(n,["model"]);o!=null&&a(t,["model"],$(e,o));const r=s(n,["src"]);r!=null&&a(t,["inputConfig"],Yy(pp(e,r)));const i=s(n,["config"]);return i!=null&&ev(i,t),t}function tv(e,n){const t={},o=s(e,["displayName"]);return n!==void 0&&o!=null&&a(n,["batch","displayName"],o),t}function ov(e,n){const t={},o=s(n,["model"]);o!=null&&a(t,["_url","model"],$(e,o));const r=s(n,["src"]);r!=null&&a(t,["batch","inputConfig"],dv(e,r));const i=s(n,["config"]);return i!=null&&tv(i,t),t}function rv(e,n){const t={},o=s(n,["name"]);return o!=null&&a(t,["_url","name"],Qt(e,o)),t}function iv(e,n){const t={},o=s(n,["name"]);return o!=null&&a(t,["_url","name"],Qt(e,o)),t}function sv(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const o=s(e,["name"]);o!=null&&a(n,["name"],o);const r=s(e,["done"]);r!=null&&a(n,["done"],r);const i=s(e,["error"]);return i!=null&&a(n,["error"],i),n}function lv(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const o=s(e,["name"]);o!=null&&a(n,["name"],o);const r=s(e,["done"]);r!=null&&a(n,["done"],r);const i=s(e,["error"]);return i!=null&&a(n,["error"],i),n}function av(e,n){const t={},o=s(n,["contents"]);if(o!=null){let i=Ol(e,o);Array.isArray(i)&&(i=i.map(l=>l)),a(t,["requests[]","request","content"],i)}const r=s(n,["config"]);return r!=null&&(a(t,["_self"],uv(r,t)),iy(t,{"requests[].*":"requests[].request.*"})),t}function uv(e,n){const t={},o=s(e,["taskType"]);n!==void 0&&o!=null&&a(n,["requests[]","taskType"],o);const r=s(e,["title"]);n!==void 0&&r!=null&&a(n,["requests[]","title"],r);const i=s(e,["outputDimensionality"]);if(n!==void 0&&i!=null&&a(n,["requests[]","outputDimensionality"],i),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function dv(e,n){const t={},o=s(n,["fileName"]);o!=null&&a(t,["file_name"],o);const r=s(n,["inlinedRequests"]);return r!=null&&a(t,["requests"],av(e,r)),t}function cv(e){const n={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(e,["fileUri"]);t!=null&&a(n,["fileUri"],t);const o=s(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function fv(e){const n={},t=s(e,["id"]);t!=null&&a(n,["id"],t);const o=s(e,["args"]);o!=null&&a(n,["args"],o);const r=s(e,["name"]);if(r!=null&&a(n,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function pv(e){const n={},t=s(e,["mode"]);t!=null&&a(n,["mode"],t);const o=s(e,["allowedFunctionNames"]);if(o!=null&&a(n,["allowedFunctionNames"],o),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function mv(e,n,t){const o={},r=s(n,["systemInstruction"]);t!==void 0&&r!=null&&a(t,["systemInstruction"],gp(we(r)));const i=s(n,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(n,["topP"]);l!=null&&a(o,["topP"],l);const u=s(n,["topK"]);u!=null&&a(o,["topK"],u);const d=s(n,["candidateCount"]);d!=null&&a(o,["candidateCount"],d);const c=s(n,["maxOutputTokens"]);c!=null&&a(o,["maxOutputTokens"],c);const f=s(n,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const p=s(n,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const m=s(n,["logprobs"]);m!=null&&a(o,["logprobs"],m);const y=s(n,["presencePenalty"]);y!=null&&a(o,["presencePenalty"],y);const S=s(n,["frequencyPenalty"]);S!=null&&a(o,["frequencyPenalty"],S);const C=s(n,["seed"]);C!=null&&a(o,["seed"],C);const I=s(n,["responseMimeType"]);I!=null&&a(o,["responseMimeType"],I);const v=s(n,["responseSchema"]);v!=null&&a(o,["responseSchema"],Yl(v));const h=s(n,["responseJsonSchema"]);if(h!=null&&a(o,["responseJsonSchema"],h),s(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=s(n,["safetySettings"]);if(t!==void 0&&E!=null){let B=E;Array.isArray(B)&&(B=B.map(b=>Pv(b))),a(t,["safetySettings"],B)}const T=s(n,["tools"]);if(t!==void 0&&T!=null){let B=bt(T);Array.isArray(B)&&(B=B.map(b=>Mv(Kt(b)))),a(t,["tools"],B)}const _=s(n,["toolConfig"]);if(t!==void 0&&_!=null&&a(t,["toolConfig"],kv(_)),s(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=s(n,["cachedContent"]);t!==void 0&&x!=null&&a(t,["cachedContent"],Rn(e,x));const w=s(n,["responseModalities"]);w!=null&&a(o,["responseModalities"],w);const R=s(n,["mediaResolution"]);R!=null&&a(o,["mediaResolution"],R);const A=s(n,["speechConfig"]);if(A!=null&&a(o,["speechConfig"],Kl(A)),s(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=s(n,["thinkingConfig"]);N!=null&&a(o,["thinkingConfig"],N);const F=s(n,["imageConfig"]);return F!=null&&a(o,["imageConfig"],Tv(F)),o}function hv(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const o=s(e,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(c=>Xy(c))),a(n,["candidates"],d)}const r=s(e,["modelVersion"]);r!=null&&a(n,["modelVersion"],r);const i=s(e,["promptFeedback"]);i!=null&&a(n,["promptFeedback"],i);const l=s(e,["responseId"]);l!=null&&a(n,["responseId"],l);const u=s(e,["usageMetadata"]);return u!=null&&a(n,["usageMetadata"],u),n}function gv(e,n){const t={},o=s(n,["name"]);return o!=null&&a(t,["_url","name"],Qt(e,o)),t}function yv(e,n){const t={},o=s(n,["name"]);return o!=null&&a(t,["_url","name"],Qt(e,o)),t}function vv(e){const n={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(e,["enableWidget"]);return t!=null&&a(n,["enableWidget"],t),n}function Ev(e){const n={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=s(e,["timeRangeFilter"]);return t!=null&&a(n,["timeRangeFilter"],t),n}function Tv(e){const n={},t=s(e,["aspectRatio"]);t!=null&&a(n,["aspectRatio"],t);const o=s(e,["imageSize"]);if(o!=null&&a(n,["imageSize"],o),s(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function Sv(e,n){const t={},o=s(n,["model"]);o!=null&&a(t,["request","model"],$(e,o));const r=s(n,["contents"]);if(r!=null){let u=Ye(r);Array.isArray(u)&&(u=u.map(d=>gp(d))),a(t,["request","contents"],u)}const i=s(n,["metadata"]);i!=null&&a(t,["metadata"],i);const l=s(n,["config"]);return l!=null&&a(t,["request","generationConfig"],mv(e,l,s(t,["request"],{}))),t}function Cv(e){const n={},t=s(e,["response"]);t!=null&&a(n,["response"],hv(t));const o=s(e,["error"]);return o!=null&&a(n,["error"],o),n}function _v(e,n){const t={},o=s(e,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const r=s(e,["pageToken"]);if(n!==void 0&&r!=null&&a(n,["_query","pageToken"],r),s(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function wv(e,n){const t={},o=s(e,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const r=s(e,["pageToken"]);n!==void 0&&r!=null&&a(n,["_query","pageToken"],r);const i=s(e,["filter"]);return n!==void 0&&i!=null&&a(n,["_query","filter"],i),t}function xv(e){const n={},t=s(e,["config"]);return t!=null&&_v(t,n),n}function Iv(e){const n={},t=s(e,["config"]);return t!=null&&wv(t,n),n}function Av(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const o=s(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const r=s(e,["operations"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>Sr(l))),a(n,["batchJobs"],i)}return n}function Nv(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const o=s(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const r=s(e,["batchPredictionJobs"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>qs(l))),a(n,["batchJobs"],i)}return n}function Rv(e){const n={},t=s(e,["mediaResolution"]);t!=null&&a(n,["mediaResolution"],t);const o=s(e,["codeExecutionResult"]);o!=null&&a(n,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(n,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(n,["fileData"],cv(i));const l=s(e,["functionCall"]);l!=null&&a(n,["functionCall"],fv(l));const u=s(e,["functionResponse"]);u!=null&&a(n,["functionResponse"],u);const d=s(e,["inlineData"]);d!=null&&a(n,["inlineData"],Ky(d));const c=s(e,["text"]);c!=null&&a(n,["text"],c);const f=s(e,["thought"]);f!=null&&a(n,["thought"],f);const p=s(e,["thoughtSignature"]);p!=null&&a(n,["thoughtSignature"],p);const m=s(e,["videoMetadata"]);return m!=null&&a(n,["videoMetadata"],m),n}function Pv(e){const n={},t=s(e,["category"]);if(t!=null&&a(n,["category"],t),s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(e,["threshold"]);return o!=null&&a(n,["threshold"],o),n}function kv(e){const n={},t=s(e,["functionCallingConfig"]);t!=null&&a(n,["functionCallingConfig"],pv(t));const o=s(e,["retrievalConfig"]);return o!=null&&a(n,["retrievalConfig"],o),n}function Mv(e){const n={},t=s(e,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>p)),a(n,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(n,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(n,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(n,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(n,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(n,["googleMaps"],vv(u));const d=s(e,["googleSearch"]);d!=null&&a(n,["googleSearch"],Ev(d));const c=s(e,["urlContext"]);return c!=null&&a(n,["urlContext"],c),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var xn;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(xn||(xn={}));class pt{constructor(n,t,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(n,o,r)}init(n,t,o){var r,i;this.nameInternal=n,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!o||Object.keys(o).length===0?l={config:{}}:typeof o=="object"?l=Object.assign({},o):l=o,l.config&&(l.config.pageToken=t.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(i=(r=l.config)===null||r===void 0?void 0:r.pageSize)!==null&&i!==void 0?i:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dv extends Nn{constructor(n){super(),this.apiClient=n,this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)},this.list=async(t={})=>new pt(xn.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(t),t)}createInlinedGenerateContentRequest(n){const t=vd(this.apiClient,n),o=t._url,r=M("{model}:batchGenerateContent",o),u=t.batch.inputConfig.requests,d=u.requests,c=[];for(const f of d){const p=Object.assign({},f);if(p.systemInstruction){const m=p.systemInstruction;delete p.systemInstruction;const y=p.request;y.systemInstruction=m,p.request=y}c.push(p)}return u.requests=c,delete t.config,delete t._url,delete t._query,{path:r,body:t}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,t){const o=t?Object.assign({},t):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const i=this.getGcsUri(n),l=this.getBigqueryUri(n);if(i)i.endsWith(".jsonl")?o.dest=`${i.slice(0,-6)}/dest`:o.dest=`${i}_dest_${r}`;else if(l)o.dest=`${l}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(n){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=nv(this.apiClient,n);return u=M("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>qs(f))}else{const c=vd(this.apiClient,n);return u=M("{model}:batchGenerateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Sr(f))}}async createEmbeddingsInternal(n){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=ov(this.apiClient,n);return i=M("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>Sr(d))}}async get(n){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=yv(this.apiClient,n);return u=M("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>qs(f))}else{const c=gv(this.apiClient,n);return u=M("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Sr(f))}}async cancel(n){var t,o,r,i;let l="",u={};if(this.apiClient.isVertexAI()){const d=Qy(this.apiClient,n);l=M("batchPredictionJobs/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal})}else{const d=by(this.apiClient,n);l=M("batches/{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(n){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Iv(n);return u=M("batchPredictionJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=Nv(f),m=new md;return Object.assign(m,p),m})}else{const c=xv(n);return u=M("batches",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=Av(f),m=new md;return Object.assign(m,p),m})}}async delete(n){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=iv(this.apiClient,n);return u=M("batchPredictionJobs/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>lv(f))}else{const c=rv(this.apiClient,n);return u=M("batches/{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>sv(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lv(e){const n={},t=s(e,["data"]);if(t!=null&&a(n,["data"],t),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function Ed(e){const n={},t=s(e,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>o0(i))),a(n,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(n,["role"],o),n}function Uv(e,n){const t={},o=s(e,["ttl"]);n!==void 0&&o!=null&&a(n,["ttl"],o);const r=s(e,["expireTime"]);n!==void 0&&r!=null&&a(n,["expireTime"],r);const i=s(e,["displayName"]);n!==void 0&&i!=null&&a(n,["displayName"],i);const l=s(e,["contents"]);if(n!==void 0&&l!=null){let f=Ye(l);Array.isArray(f)&&(f=f.map(p=>Ed(p))),a(n,["contents"],f)}const u=s(e,["systemInstruction"]);n!==void 0&&u!=null&&a(n,["systemInstruction"],Ed(we(u)));const d=s(e,["tools"]);if(n!==void 0&&d!=null){let f=d;Array.isArray(f)&&(f=f.map(p=>i0(p))),a(n,["tools"],f)}const c=s(e,["toolConfig"]);if(n!==void 0&&c!=null&&a(n,["toolConfig"],r0(c)),s(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function Fv(e,n){const t={},o=s(e,["ttl"]);n!==void 0&&o!=null&&a(n,["ttl"],o);const r=s(e,["expireTime"]);n!==void 0&&r!=null&&a(n,["expireTime"],r);const i=s(e,["displayName"]);n!==void 0&&i!=null&&a(n,["displayName"],i);const l=s(e,["contents"]);if(n!==void 0&&l!=null){let p=Ye(l);Array.isArray(p)&&(p=p.map(m=>m)),a(n,["contents"],p)}const u=s(e,["systemInstruction"]);n!==void 0&&u!=null&&a(n,["systemInstruction"],we(u));const d=s(e,["tools"]);if(n!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(m=>s0(m))),a(n,["tools"],p)}const c=s(e,["toolConfig"]);n!==void 0&&c!=null&&a(n,["toolConfig"],c);const f=s(e,["kmsKeyName"]);return n!==void 0&&f!=null&&a(n,["encryption_spec","kmsKeyName"],f),t}function Vv(e,n){const t={},o=s(n,["model"]);o!=null&&a(t,["model"],rp(e,o));const r=s(n,["config"]);return r!=null&&Uv(r,t),t}function Gv(e,n){const t={},o=s(n,["model"]);o!=null&&a(t,["model"],rp(e,o));const r=s(n,["config"]);return r!=null&&Fv(r,t),t}function Hv(e,n){const t={},o=s(n,["name"]);return o!=null&&a(t,["_url","name"],Rn(e,o)),t}function qv(e,n){const t={},o=s(n,["name"]);return o!=null&&a(t,["_url","name"],Rn(e,o)),t}function Bv(e){const n={},t=s(e,["sdkHttpResponse"]);return t!=null&&a(n,["sdkHttpResponse"],t),n}function zv(e){const n={},t=s(e,["sdkHttpResponse"]);return t!=null&&a(n,["sdkHttpResponse"],t),n}function Jv(e){const n={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(e,["fileUri"]);t!=null&&a(n,["fileUri"],t);const o=s(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function $v(e){const n={},t=s(e,["id"]);t!=null&&a(n,["id"],t);const o=s(e,["args"]);o!=null&&a(n,["args"],o);const r=s(e,["name"]);if(r!=null&&a(n,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function Wv(e){const n={},t=s(e,["mode"]);t!=null&&a(n,["mode"],t);const o=s(e,["allowedFunctionNames"]);if(o!=null&&a(n,["allowedFunctionNames"],o),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function Ov(e){const n={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=s(e,["description"]);t!=null&&a(n,["description"],t);const o=s(e,["name"]);o!=null&&a(n,["name"],o);const r=s(e,["parameters"]);r!=null&&a(n,["parameters"],r);const i=s(e,["parametersJsonSchema"]);i!=null&&a(n,["parametersJsonSchema"],i);const l=s(e,["response"]);l!=null&&a(n,["response"],l);const u=s(e,["responseJsonSchema"]);return u!=null&&a(n,["responseJsonSchema"],u),n}function Yv(e,n){const t={},o=s(n,["name"]);return o!=null&&a(t,["_url","name"],Rn(e,o)),t}function Kv(e,n){const t={},o=s(n,["name"]);return o!=null&&a(t,["_url","name"],Rn(e,o)),t}function bv(e){const n={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(e,["enableWidget"]);return t!=null&&a(n,["enableWidget"],t),n}function Qv(e){const n={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=s(e,["timeRangeFilter"]);return t!=null&&a(n,["timeRangeFilter"],t),n}function Xv(e,n){const t={},o=s(e,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const r=s(e,["pageToken"]);return n!==void 0&&r!=null&&a(n,["_query","pageToken"],r),t}function Zv(e,n){const t={},o=s(e,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const r=s(e,["pageToken"]);return n!==void 0&&r!=null&&a(n,["_query","pageToken"],r),t}function jv(e){const n={},t=s(e,["config"]);return t!=null&&Xv(t,n),n}function e0(e){const n={},t=s(e,["config"]);return t!=null&&Zv(t,n),n}function n0(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const o=s(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const r=s(e,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(n,["cachedContents"],i)}return n}function t0(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const o=s(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const r=s(e,["cachedContents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(n,["cachedContents"],i)}return n}function o0(e){const n={},t=s(e,["mediaResolution"]);t!=null&&a(n,["mediaResolution"],t);const o=s(e,["codeExecutionResult"]);o!=null&&a(n,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(n,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(n,["fileData"],Jv(i));const l=s(e,["functionCall"]);l!=null&&a(n,["functionCall"],$v(l));const u=s(e,["functionResponse"]);u!=null&&a(n,["functionResponse"],u);const d=s(e,["inlineData"]);d!=null&&a(n,["inlineData"],Lv(d));const c=s(e,["text"]);c!=null&&a(n,["text"],c);const f=s(e,["thought"]);f!=null&&a(n,["thought"],f);const p=s(e,["thoughtSignature"]);p!=null&&a(n,["thoughtSignature"],p);const m=s(e,["videoMetadata"]);return m!=null&&a(n,["videoMetadata"],m),n}function r0(e){const n={},t=s(e,["functionCallingConfig"]);t!=null&&a(n,["functionCallingConfig"],Wv(t));const o=s(e,["retrievalConfig"]);return o!=null&&a(n,["retrievalConfig"],o),n}function i0(e){const n={},t=s(e,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>p)),a(n,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(n,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(n,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(n,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(n,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(n,["googleMaps"],bv(u));const d=s(e,["googleSearch"]);d!=null&&a(n,["googleSearch"],Qv(d));const c=s(e,["urlContext"]);return c!=null&&a(n,["urlContext"],c),n}function s0(e){const n={},t=s(e,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(m=>Ov(m))),a(n,["functionDeclarations"],p)}const o=s(e,["retrieval"]);o!=null&&a(n,["retrieval"],o);const r=s(e,["googleSearchRetrieval"]);r!=null&&a(n,["googleSearchRetrieval"],r);const i=s(e,["computerUse"]);if(i!=null&&a(n,["computerUse"],i),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(e,["codeExecution"]);l!=null&&a(n,["codeExecution"],l);const u=s(e,["enterpriseWebSearch"]);u!=null&&a(n,["enterpriseWebSearch"],u);const d=s(e,["googleMaps"]);d!=null&&a(n,["googleMaps"],d);const c=s(e,["googleSearch"]);c!=null&&a(n,["googleSearch"],c);const f=s(e,["urlContext"]);return f!=null&&a(n,["urlContext"],f),n}function l0(e,n){const t={},o=s(e,["ttl"]);n!==void 0&&o!=null&&a(n,["ttl"],o);const r=s(e,["expireTime"]);return n!==void 0&&r!=null&&a(n,["expireTime"],r),t}function a0(e,n){const t={},o=s(e,["ttl"]);n!==void 0&&o!=null&&a(n,["ttl"],o);const r=s(e,["expireTime"]);return n!==void 0&&r!=null&&a(n,["expireTime"],r),t}function u0(e,n){const t={},o=s(n,["name"]);o!=null&&a(t,["_url","name"],Rn(e,o));const r=s(n,["config"]);return r!=null&&l0(r,t),t}function d0(e,n){const t={},o=s(n,["name"]);o!=null&&a(t,["_url","name"],Rn(e,o));const r=s(n,["config"]);return r!=null&&a0(r,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class c0 extends Nn{constructor(n){super(),this.apiClient=n,this.list=async(t={})=>new pt(xn.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(t),t)}async create(n){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Gv(this.apiClient,n);return u=M("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=Vv(this.apiClient,n);return u=M("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(n){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=Kv(this.apiClient,n);return u=M("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=Yv(this.apiClient,n);return u=M("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(n){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=qv(this.apiClient,n);return u=M("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=zv(f),m=new fd;return Object.assign(m,p),m})}else{const c=Hv(this.apiClient,n);return u=M("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=Bv(f),m=new fd;return Object.assign(m,p),m})}}async update(n){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=d0(this.apiClient,n);return u=M("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const c=u0(this.apiClient,n);return u=M("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(n){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=e0(n);return u=M("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=t0(f),m=new pd;return Object.assign(m,p),m})}else{const c=jv(n);return u=M("cachedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=n0(f),m=new pd;return Object.assign(m,p),m})}}}function Td(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],o=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function j(e){return this instanceof j?(this.v=e,this):new j(e)}function Ut(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=t.apply(e,n||[]),r,i=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),r[Symbol.asyncIterator]=function(){return this},r;function l(y){return function(S){return Promise.resolve(S).then(y,p)}}function u(y,S){o[y]&&(r[y]=function(C){return new Promise(function(I,v){i.push([y,C,I,v])>1||d(y,C)})},S&&(r[y]=S(r[y])))}function d(y,S){try{c(o[y](S))}catch(C){m(i[0][3],C)}}function c(y){y.value instanceof j?Promise.resolve(y.value.v).then(f,p):m(i[0][2],y)}function f(y){d("next",y)}function p(y){d("throw",y)}function m(y,S){y(S),i.shift(),i.length&&d(i[0][0],i[0][1])}}function To(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof Td=="function"?Td(e):e[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(i){t[i]=e[i]&&function(l){return new Promise(function(u,d){l=e[i](l),r(u,d,l.done,l.value)})}}function r(i,l,u,d){Promise.resolve(d).then(function(c){i({value:c,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function f0(e){var n;if(e.candidates==null||e.candidates.length===0)return!1;const t=(n=e.candidates[0])===null||n===void 0?void 0:n.content;return t===void 0?!1:yp(t)}function yp(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const n of e.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function p0(e){if(e.length!==0){for(const n of e)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function Sd(e){if(e===void 0||e.length===0)return[];const n=[],t=e.length;let o=0;for(;o<t;)if(e[o].role==="user")n.push(e[o]),o++;else{const r=[];let i=!0;for(;o<t&&e[o].role==="model";)r.push(e[o]),i&&!yp(e[o])&&(i=!1),o++;i?n.push(...r):n.pop()}return n}class m0{constructor(n,t){this.modelsModule=n,this.apiClient=t}create(n){return new h0(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class h0{constructor(n,t,o,r={},i=[]){this.apiClient=n,this.modelsModule=t,this.model=o,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),p0(i)}async sendMessage(n){var t;await this.sendPromise;const o=we(n.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=n.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var i,l,u;const d=await r,c=(l=(i=d.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content,f=d.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let m=[];f!=null&&(m=(u=f.slice(p))!==null&&u!==void 0?u:[]);const y=c?[c]:[];this.recordHistory(o,y,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(n){var t;await this.sendPromise;const o=we(n.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=n.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const i=await r;return this.processStreamResponse(i,o)}getHistory(n=!1){const t=n?Sd(this.history):this.history;return structuredClone(t)}processStreamResponse(n,t){var o,r;return Ut(this,arguments,function*(){var l,u,d,c;const f=[];try{for(var p=!0,m=To(n),y;y=yield j(m.next()),l=y.done,!l;p=!0){c=y.value,p=!1;const S=c;if(f0(S)){const C=(r=(o=S.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content;C!==void 0&&f.push(C)}yield yield j(S)}}catch(S){u={error:S}}finally{try{!p&&!l&&(d=m.return)&&(yield j(d.call(m)))}finally{if(u)throw u.error}}this.recordHistory(t,f)})}recordHistory(n,t,o){let r=[];t.length>0&&t.every(i=>i.role!==void 0)?r=t:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Sd(o)):this.history.push(n),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fi extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,fi.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function g0(e){const n={},t=s(e,["file"]);return t!=null&&a(n,["file"],t),n}function y0(e){const n={},t=s(e,["sdkHttpResponse"]);return t!=null&&a(n,["sdkHttpResponse"],t),n}function v0(e){const n={},t=s(e,["name"]);return t!=null&&a(n,["_url","file"],dp(t)),n}function E0(e){const n={},t=s(e,["sdkHttpResponse"]);return t!=null&&a(n,["sdkHttpResponse"],t),n}function T0(e){const n={},t=s(e,["name"]);return t!=null&&a(n,["_url","file"],dp(t)),n}function S0(e,n){const t={},o=s(e,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const r=s(e,["pageToken"]);return n!==void 0&&r!=null&&a(n,["_query","pageToken"],r),t}function C0(e){const n={},t=s(e,["config"]);return t!=null&&S0(t,n),n}function _0(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const o=s(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const r=s(e,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(n,["files"],i)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class w0 extends Nn{constructor(n){super(),this.apiClient=n,this.list=async(t={})=>new pt(xn.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(t),t)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(t=>t)}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=C0(n);return i=M("files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=_0(d),f=new Ny;return Object.assign(f,c),f})}}async createInternal(n){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=g0(n);return i=M("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=y0(d),f=new Ry;return Object.assign(f,c),f})}}async get(n){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=T0(n);return i=M("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(n){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=v0(n);return i=M("files/{file}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=E0(d),f=new Py;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cr(e){const n={},t=s(e,["data"]);if(t!=null&&a(n,["data"],t),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function x0(e){const n={},t=s(e,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>B0(i))),a(n,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(n,["role"],o),n}function I0(e){const n={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(e,["fileUri"]);t!=null&&a(n,["fileUri"],t);const o=s(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function A0(e){const n={},t=s(e,["id"]);t!=null&&a(n,["id"],t);const o=s(e,["args"]);o!=null&&a(n,["args"],o);const r=s(e,["name"]);if(r!=null&&a(n,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function N0(e){const n={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=s(e,["description"]);t!=null&&a(n,["description"],t);const o=s(e,["name"]);o!=null&&a(n,["name"],o);const r=s(e,["parameters"]);r!=null&&a(n,["parameters"],r);const i=s(e,["parametersJsonSchema"]);i!=null&&a(n,["parametersJsonSchema"],i);const l=s(e,["response"]);l!=null&&a(n,["response"],l);const u=s(e,["responseJsonSchema"]);return u!=null&&a(n,["responseJsonSchema"],u),n}function R0(e){const n={},t=s(e,["modelSelectionConfig"]);t!=null&&a(n,["modelConfig"],t);const o=s(e,["responseJsonSchema"]);o!=null&&a(n,["responseJsonSchema"],o);const r=s(e,["audioTimestamp"]);r!=null&&a(n,["audioTimestamp"],r);const i=s(e,["candidateCount"]);i!=null&&a(n,["candidateCount"],i);const l=s(e,["enableAffectiveDialog"]);l!=null&&a(n,["enableAffectiveDialog"],l);const u=s(e,["frequencyPenalty"]);u!=null&&a(n,["frequencyPenalty"],u);const d=s(e,["logprobs"]);d!=null&&a(n,["logprobs"],d);const c=s(e,["maxOutputTokens"]);c!=null&&a(n,["maxOutputTokens"],c);const f=s(e,["mediaResolution"]);f!=null&&a(n,["mediaResolution"],f);const p=s(e,["presencePenalty"]);p!=null&&a(n,["presencePenalty"],p);const m=s(e,["responseLogprobs"]);m!=null&&a(n,["responseLogprobs"],m);const y=s(e,["responseMimeType"]);y!=null&&a(n,["responseMimeType"],y);const S=s(e,["responseModalities"]);S!=null&&a(n,["responseModalities"],S);const C=s(e,["responseSchema"]);C!=null&&a(n,["responseSchema"],C);const I=s(e,["routingConfig"]);I!=null&&a(n,["routingConfig"],I);const v=s(e,["seed"]);v!=null&&a(n,["seed"],v);const h=s(e,["speechConfig"]);h!=null&&a(n,["speechConfig"],vp(h));const E=s(e,["stopSequences"]);E!=null&&a(n,["stopSequences"],E);const T=s(e,["temperature"]);T!=null&&a(n,["temperature"],T);const _=s(e,["thinkingConfig"]);_!=null&&a(n,["thinkingConfig"],_);const x=s(e,["topK"]);x!=null&&a(n,["topK"],x);const w=s(e,["topP"]);if(w!=null&&a(n,["topP"],w),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function P0(e){const n={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(e,["enableWidget"]);return t!=null&&a(n,["enableWidget"],t),n}function k0(e){const n={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=s(e,["timeRangeFilter"]);return t!=null&&a(n,["timeRangeFilter"],t),n}function M0(e,n){const t={},o=s(e,["generationConfig"]);n!==void 0&&o!=null&&a(n,["setup","generationConfig"],o);const r=s(e,["responseModalities"]);n!==void 0&&r!=null&&a(n,["setup","generationConfig","responseModalities"],r);const i=s(e,["temperature"]);n!==void 0&&i!=null&&a(n,["setup","generationConfig","temperature"],i);const l=s(e,["topP"]);n!==void 0&&l!=null&&a(n,["setup","generationConfig","topP"],l);const u=s(e,["topK"]);n!==void 0&&u!=null&&a(n,["setup","generationConfig","topK"],u);const d=s(e,["maxOutputTokens"]);n!==void 0&&d!=null&&a(n,["setup","generationConfig","maxOutputTokens"],d);const c=s(e,["mediaResolution"]);n!==void 0&&c!=null&&a(n,["setup","generationConfig","mediaResolution"],c);const f=s(e,["seed"]);n!==void 0&&f!=null&&a(n,["setup","generationConfig","seed"],f);const p=s(e,["speechConfig"]);n!==void 0&&p!=null&&a(n,["setup","generationConfig","speechConfig"],bl(p));const m=s(e,["thinkingConfig"]);n!==void 0&&m!=null&&a(n,["setup","generationConfig","thinkingConfig"],m);const y=s(e,["enableAffectiveDialog"]);n!==void 0&&y!=null&&a(n,["setup","generationConfig","enableAffectiveDialog"],y);const S=s(e,["systemInstruction"]);n!==void 0&&S!=null&&a(n,["setup","systemInstruction"],x0(we(S)));const C=s(e,["tools"]);if(n!==void 0&&C!=null){let x=bt(C);Array.isArray(x)&&(x=x.map(w=>J0(Kt(w)))),a(n,["setup","tools"],x)}const I=s(e,["sessionResumption"]);n!==void 0&&I!=null&&a(n,["setup","sessionResumption"],z0(I));const v=s(e,["inputAudioTranscription"]);n!==void 0&&v!=null&&a(n,["setup","inputAudioTranscription"],v);const h=s(e,["outputAudioTranscription"]);n!==void 0&&h!=null&&a(n,["setup","outputAudioTranscription"],h);const E=s(e,["realtimeInputConfig"]);n!==void 0&&E!=null&&a(n,["setup","realtimeInputConfig"],E);const T=s(e,["contextWindowCompression"]);n!==void 0&&T!=null&&a(n,["setup","contextWindowCompression"],T);const _=s(e,["proactivity"]);return n!==void 0&&_!=null&&a(n,["setup","proactivity"],_),t}function D0(e,n){const t={},o=s(e,["generationConfig"]);n!==void 0&&o!=null&&a(n,["setup","generationConfig"],R0(o));const r=s(e,["responseModalities"]);n!==void 0&&r!=null&&a(n,["setup","generationConfig","responseModalities"],r);const i=s(e,["temperature"]);n!==void 0&&i!=null&&a(n,["setup","generationConfig","temperature"],i);const l=s(e,["topP"]);n!==void 0&&l!=null&&a(n,["setup","generationConfig","topP"],l);const u=s(e,["topK"]);n!==void 0&&u!=null&&a(n,["setup","generationConfig","topK"],u);const d=s(e,["maxOutputTokens"]);n!==void 0&&d!=null&&a(n,["setup","generationConfig","maxOutputTokens"],d);const c=s(e,["mediaResolution"]);n!==void 0&&c!=null&&a(n,["setup","generationConfig","mediaResolution"],c);const f=s(e,["seed"]);n!==void 0&&f!=null&&a(n,["setup","generationConfig","seed"],f);const p=s(e,["speechConfig"]);n!==void 0&&p!=null&&a(n,["setup","generationConfig","speechConfig"],vp(bl(p)));const m=s(e,["thinkingConfig"]);n!==void 0&&m!=null&&a(n,["setup","generationConfig","thinkingConfig"],m);const y=s(e,["enableAffectiveDialog"]);n!==void 0&&y!=null&&a(n,["setup","generationConfig","enableAffectiveDialog"],y);const S=s(e,["systemInstruction"]);n!==void 0&&S!=null&&a(n,["setup","systemInstruction"],we(S));const C=s(e,["tools"]);if(n!==void 0&&C!=null){let x=bt(C);Array.isArray(x)&&(x=x.map(w=>$0(Kt(w)))),a(n,["setup","tools"],x)}const I=s(e,["sessionResumption"]);n!==void 0&&I!=null&&a(n,["setup","sessionResumption"],I);const v=s(e,["inputAudioTranscription"]);n!==void 0&&v!=null&&a(n,["setup","inputAudioTranscription"],v);const h=s(e,["outputAudioTranscription"]);n!==void 0&&h!=null&&a(n,["setup","outputAudioTranscription"],h);const E=s(e,["realtimeInputConfig"]);n!==void 0&&E!=null&&a(n,["setup","realtimeInputConfig"],E);const T=s(e,["contextWindowCompression"]);n!==void 0&&T!=null&&a(n,["setup","contextWindowCompression"],T);const _=s(e,["proactivity"]);return n!==void 0&&_!=null&&a(n,["setup","proactivity"],_),t}function L0(e,n){const t={},o=s(n,["model"]);o!=null&&a(t,["setup","model"],$(e,o));const r=s(n,["config"]);return r!=null&&a(t,["config"],M0(r,t)),t}function U0(e,n){const t={},o=s(n,["model"]);o!=null&&a(t,["setup","model"],$(e,o));const r=s(n,["config"]);return r!=null&&a(t,["config"],D0(r,t)),t}function F0(e){const n={},t=s(e,["musicGenerationConfig"]);return t!=null&&a(n,["musicGenerationConfig"],t),n}function V0(e){const n={},t=s(e,["weightedPrompts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>r)),a(n,["weightedPrompts"],o)}return n}function G0(e){const n={},t=s(e,["media"]);if(t!=null){let c=ip(t);Array.isArray(c)&&(c=c.map(f=>Cr(f))),a(n,["mediaChunks"],c)}const o=s(e,["audio"]);o!=null&&a(n,["audio"],Cr(lp(o)));const r=s(e,["audioStreamEnd"]);r!=null&&a(n,["audioStreamEnd"],r);const i=s(e,["video"]);i!=null&&a(n,["video"],Cr(sp(i)));const l=s(e,["text"]);l!=null&&a(n,["text"],l);const u=s(e,["activityStart"]);u!=null&&a(n,["activityStart"],u);const d=s(e,["activityEnd"]);return d!=null&&a(n,["activityEnd"],d),n}function H0(e){const n={},t=s(e,["media"]);if(t!=null){let c=ip(t);Array.isArray(c)&&(c=c.map(f=>f)),a(n,["mediaChunks"],c)}const o=s(e,["audio"]);o!=null&&a(n,["audio"],lp(o));const r=s(e,["audioStreamEnd"]);r!=null&&a(n,["audioStreamEnd"],r);const i=s(e,["video"]);i!=null&&a(n,["video"],sp(i));const l=s(e,["text"]);l!=null&&a(n,["text"],l);const u=s(e,["activityStart"]);u!=null&&a(n,["activityStart"],u);const d=s(e,["activityEnd"]);return d!=null&&a(n,["activityEnd"],d),n}function q0(e){const n={},t=s(e,["setupComplete"]);t!=null&&a(n,["setupComplete"],t);const o=s(e,["serverContent"]);o!=null&&a(n,["serverContent"],o);const r=s(e,["toolCall"]);r!=null&&a(n,["toolCall"],r);const i=s(e,["toolCallCancellation"]);i!=null&&a(n,["toolCallCancellation"],i);const l=s(e,["usageMetadata"]);l!=null&&a(n,["usageMetadata"],W0(l));const u=s(e,["goAway"]);u!=null&&a(n,["goAway"],u);const d=s(e,["sessionResumptionUpdate"]);return d!=null&&a(n,["sessionResumptionUpdate"],d),n}function B0(e){const n={},t=s(e,["mediaResolution"]);t!=null&&a(n,["mediaResolution"],t);const o=s(e,["codeExecutionResult"]);o!=null&&a(n,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(n,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(n,["fileData"],I0(i));const l=s(e,["functionCall"]);l!=null&&a(n,["functionCall"],A0(l));const u=s(e,["functionResponse"]);u!=null&&a(n,["functionResponse"],u);const d=s(e,["inlineData"]);d!=null&&a(n,["inlineData"],Cr(d));const c=s(e,["text"]);c!=null&&a(n,["text"],c);const f=s(e,["thought"]);f!=null&&a(n,["thought"],f);const p=s(e,["thoughtSignature"]);p!=null&&a(n,["thoughtSignature"],p);const m=s(e,["videoMetadata"]);return m!=null&&a(n,["videoMetadata"],m),n}function z0(e){const n={},t=s(e,["handle"]);if(t!=null&&a(n,["handle"],t),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function vp(e){const n={},t=s(e,["languageCode"]);t!=null&&a(n,["languageCode"],t);const o=s(e,["voiceConfig"]);if(o!=null&&a(n,["voiceConfig"],o),s(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function J0(e){const n={},t=s(e,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>p)),a(n,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(n,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(n,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(n,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(n,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(n,["googleMaps"],P0(u));const d=s(e,["googleSearch"]);d!=null&&a(n,["googleSearch"],k0(d));const c=s(e,["urlContext"]);return c!=null&&a(n,["urlContext"],c),n}function $0(e){const n={},t=s(e,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(m=>N0(m))),a(n,["functionDeclarations"],p)}const o=s(e,["retrieval"]);o!=null&&a(n,["retrieval"],o);const r=s(e,["googleSearchRetrieval"]);r!=null&&a(n,["googleSearchRetrieval"],r);const i=s(e,["computerUse"]);if(i!=null&&a(n,["computerUse"],i),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(e,["codeExecution"]);l!=null&&a(n,["codeExecution"],l);const u=s(e,["enterpriseWebSearch"]);u!=null&&a(n,["enterpriseWebSearch"],u);const d=s(e,["googleMaps"]);d!=null&&a(n,["googleMaps"],d);const c=s(e,["googleSearch"]);c!=null&&a(n,["googleSearch"],c);const f=s(e,["urlContext"]);return f!=null&&a(n,["urlContext"],f),n}function W0(e){const n={},t=s(e,["promptTokenCount"]);t!=null&&a(n,["promptTokenCount"],t);const o=s(e,["cachedContentTokenCount"]);o!=null&&a(n,["cachedContentTokenCount"],o);const r=s(e,["candidatesTokenCount"]);r!=null&&a(n,["responseTokenCount"],r);const i=s(e,["toolUsePromptTokenCount"]);i!=null&&a(n,["toolUsePromptTokenCount"],i);const l=s(e,["thoughtsTokenCount"]);l!=null&&a(n,["thoughtsTokenCount"],l);const u=s(e,["totalTokenCount"]);u!=null&&a(n,["totalTokenCount"],u);const d=s(e,["promptTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(S=>S)),a(n,["promptTokensDetails"],y)}const c=s(e,["cacheTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(S=>S)),a(n,["cacheTokensDetails"],y)}const f=s(e,["candidatesTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(S=>S)),a(n,["responseTokensDetails"],y)}const p=s(e,["toolUsePromptTokensDetails"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(S=>S)),a(n,["toolUsePromptTokensDetails"],y)}const m=s(e,["trafficType"]);return m!=null&&a(n,["trafficType"],m),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function O0(e){const n={},t=s(e,["data"]);if(t!=null&&a(n,["data"],t),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function Y0(e){const n={},t=s(e,["content"]);t!=null&&a(n,["content"],t);const o=s(e,["citationMetadata"]);o!=null&&a(n,["citationMetadata"],K0(o));const r=s(e,["tokenCount"]);r!=null&&a(n,["tokenCount"],r);const i=s(e,["finishReason"]);i!=null&&a(n,["finishReason"],i);const l=s(e,["avgLogprobs"]);l!=null&&a(n,["avgLogprobs"],l);const u=s(e,["groundingMetadata"]);u!=null&&a(n,["groundingMetadata"],u);const d=s(e,["index"]);d!=null&&a(n,["index"],d);const c=s(e,["logprobsResult"]);c!=null&&a(n,["logprobsResult"],c);const f=s(e,["safetyRatings"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>y)),a(n,["safetyRatings"],m)}const p=s(e,["urlContextMetadata"]);return p!=null&&a(n,["urlContextMetadata"],p),n}function K0(e){const n={},t=s(e,["citationSources"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>r)),a(n,["citations"],o)}return n}function b0(e,n){const t={},o=s(n,["model"]);o!=null&&a(t,["_url","model"],$(e,o));const r=s(n,["contents"]);if(r!=null){let i=Ye(r);Array.isArray(i)&&(i=i.map(l=>l)),a(t,["contents"],i)}return t}function Q0(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const o=s(e,["tokensInfo"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(n,["tokensInfo"],r)}return n}function X0(e){const n={},t=s(e,["values"]);t!=null&&a(n,["values"],t);const o=s(e,["statistics"]);return o!=null&&a(n,["statistics"],Z0(o)),n}function Z0(e){const n={},t=s(e,["truncated"]);t!=null&&a(n,["truncated"],t);const o=s(e,["token_count"]);return o!=null&&a(n,["tokenCount"],o),n}function pi(e){const n={},t=s(e,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>lT(i))),a(n,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(n,["role"],o),n}function j0(e){const n={},t=s(e,["controlType"]);t!=null&&a(n,["controlType"],t);const o=s(e,["enableControlImageComputation"]);return o!=null&&a(n,["computeControl"],o),n}function eE(e){const n={};if(s(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function nE(e,n){const t={},o=s(e,["systemInstruction"]);n!==void 0&&o!=null&&a(n,["systemInstruction"],we(o));const r=s(e,["tools"]);if(n!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>_p(u))),a(n,["tools"],l)}const i=s(e,["generationConfig"]);return n!==void 0&&i!=null&&a(n,["generationConfig"],OE(i)),t}function tE(e,n){const t={},o=s(n,["model"]);o!=null&&a(t,["_url","model"],$(e,o));const r=s(n,["contents"]);if(r!=null){let l=Ye(r);Array.isArray(l)&&(l=l.map(u=>pi(u))),a(t,["contents"],l)}const i=s(n,["config"]);return i!=null&&eE(i),t}function oE(e,n){const t={},o=s(n,["model"]);o!=null&&a(t,["_url","model"],$(e,o));const r=s(n,["contents"]);if(r!=null){let l=Ye(r);Array.isArray(l)&&(l=l.map(u=>u)),a(t,["contents"],l)}const i=s(n,["config"]);return i!=null&&nE(i,t),t}function rE(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const o=s(e,["totalTokens"]);o!=null&&a(n,["totalTokens"],o);const r=s(e,["cachedContentTokenCount"]);return r!=null&&a(n,["cachedContentTokenCount"],r),n}function iE(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const o=s(e,["totalTokens"]);return o!=null&&a(n,["totalTokens"],o),n}function sE(e,n){const t={},o=s(n,["model"]);return o!=null&&a(t,["_url","name"],$(e,o)),t}function lE(e,n){const t={},o=s(n,["model"]);return o!=null&&a(t,["_url","name"],$(e,o)),t}function aE(e){const n={},t=s(e,["sdkHttpResponse"]);return t!=null&&a(n,["sdkHttpResponse"],t),n}function uE(e){const n={},t=s(e,["sdkHttpResponse"]);return t!=null&&a(n,["sdkHttpResponse"],t),n}function dE(e,n){const t={},o=s(e,["outputGcsUri"]);n!==void 0&&o!=null&&a(n,["parameters","storageUri"],o);const r=s(e,["negativePrompt"]);n!==void 0&&r!=null&&a(n,["parameters","negativePrompt"],r);const i=s(e,["numberOfImages"]);n!==void 0&&i!=null&&a(n,["parameters","sampleCount"],i);const l=s(e,["aspectRatio"]);n!==void 0&&l!=null&&a(n,["parameters","aspectRatio"],l);const u=s(e,["guidanceScale"]);n!==void 0&&u!=null&&a(n,["parameters","guidanceScale"],u);const d=s(e,["seed"]);n!==void 0&&d!=null&&a(n,["parameters","seed"],d);const c=s(e,["safetyFilterLevel"]);n!==void 0&&c!=null&&a(n,["parameters","safetySetting"],c);const f=s(e,["personGeneration"]);n!==void 0&&f!=null&&a(n,["parameters","personGeneration"],f);const p=s(e,["includeSafetyAttributes"]);n!==void 0&&p!=null&&a(n,["parameters","includeSafetyAttributes"],p);const m=s(e,["includeRaiReason"]);n!==void 0&&m!=null&&a(n,["parameters","includeRaiReason"],m);const y=s(e,["language"]);n!==void 0&&y!=null&&a(n,["parameters","language"],y);const S=s(e,["outputMimeType"]);n!==void 0&&S!=null&&a(n,["parameters","outputOptions","mimeType"],S);const C=s(e,["outputCompressionQuality"]);n!==void 0&&C!=null&&a(n,["parameters","outputOptions","compressionQuality"],C);const I=s(e,["addWatermark"]);n!==void 0&&I!=null&&a(n,["parameters","addWatermark"],I);const v=s(e,["labels"]);n!==void 0&&v!=null&&a(n,["labels"],v);const h=s(e,["editMode"]);n!==void 0&&h!=null&&a(n,["parameters","editMode"],h);const E=s(e,["baseSteps"]);return n!==void 0&&E!=null&&a(n,["parameters","editConfig","baseSteps"],E),t}function cE(e,n){const t={},o=s(n,["model"]);o!=null&&a(t,["_url","model"],$(e,o));const r=s(n,["prompt"]);r!=null&&a(t,["instances[0]","prompt"],r);const i=s(n,["referenceImages"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>pT(d))),a(t,["instances[0]","referenceImages"],u)}const l=s(n,["config"]);return l!=null&&dE(l,t),t}function fE(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const o=s(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>mi(i))),a(n,["generatedImages"],r)}return n}function pE(e,n){const t={},o=s(e,["taskType"]);n!==void 0&&o!=null&&a(n,["requests[]","taskType"],o);const r=s(e,["title"]);n!==void 0&&r!=null&&a(n,["requests[]","title"],r);const i=s(e,["outputDimensionality"]);if(n!==void 0&&i!=null&&a(n,["requests[]","outputDimensionality"],i),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function mE(e,n){const t={},o=s(e,["taskType"]);n!==void 0&&o!=null&&a(n,["instances[]","task_type"],o);const r=s(e,["title"]);n!==void 0&&r!=null&&a(n,["instances[]","title"],r);const i=s(e,["outputDimensionality"]);n!==void 0&&i!=null&&a(n,["parameters","outputDimensionality"],i);const l=s(e,["mimeType"]);n!==void 0&&l!=null&&a(n,["instances[]","mimeType"],l);const u=s(e,["autoTruncate"]);return n!==void 0&&u!=null&&a(n,["parameters","autoTruncate"],u),t}function hE(e,n){const t={},o=s(n,["model"]);o!=null&&a(t,["_url","model"],$(e,o));const r=s(n,["contents"]);if(r!=null){let u=Ol(e,r);Array.isArray(u)&&(u=u.map(d=>d)),a(t,["requests[]","content"],u)}const i=s(n,["config"]);i!=null&&pE(i,t);const l=s(n,["model"]);return l!==void 0&&a(t,["requests[]","model"],$(e,l)),t}function gE(e,n){const t={},o=s(n,["model"]);o!=null&&a(t,["_url","model"],$(e,o));const r=s(n,["contents"]);if(r!=null){let l=Ol(e,r);Array.isArray(l)&&(l=l.map(u=>u)),a(t,["instances[]","content"],l)}const i=s(n,["config"]);return i!=null&&mE(i,t),t}function yE(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const o=s(e,["embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(n,["embeddings"],i)}const r=s(e,["metadata"]);return r!=null&&a(n,["metadata"],r),n}function vE(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const o=s(e,["predictions[]","embeddings"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>X0(l))),a(n,["embeddings"],i)}const r=s(e,["metadata"]);return r!=null&&a(n,["metadata"],r),n}function EE(e){const n={},t=s(e,["endpoint"]);t!=null&&a(n,["name"],t);const o=s(e,["deployedModelId"]);return o!=null&&a(n,["deployedModelId"],o),n}function TE(e){const n={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(e,["fileUri"]);t!=null&&a(n,["fileUri"],t);const o=s(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function SE(e){const n={},t=s(e,["id"]);t!=null&&a(n,["id"],t);const o=s(e,["args"]);o!=null&&a(n,["args"],o);const r=s(e,["name"]);if(r!=null&&a(n,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function CE(e){const n={},t=s(e,["mode"]);t!=null&&a(n,["mode"],t);const o=s(e,["allowedFunctionNames"]);if(o!=null&&a(n,["allowedFunctionNames"],o),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function _E(e){const n={};if(s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=s(e,["description"]);t!=null&&a(n,["description"],t);const o=s(e,["name"]);o!=null&&a(n,["name"],o);const r=s(e,["parameters"]);r!=null&&a(n,["parameters"],r);const i=s(e,["parametersJsonSchema"]);i!=null&&a(n,["parametersJsonSchema"],i);const l=s(e,["response"]);l!=null&&a(n,["response"],l);const u=s(e,["responseJsonSchema"]);return u!=null&&a(n,["responseJsonSchema"],u),n}function wE(e,n,t){const o={},r=s(n,["systemInstruction"]);t!==void 0&&r!=null&&a(t,["systemInstruction"],pi(we(r)));const i=s(n,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(n,["topP"]);l!=null&&a(o,["topP"],l);const u=s(n,["topK"]);u!=null&&a(o,["topK"],u);const d=s(n,["candidateCount"]);d!=null&&a(o,["candidateCount"],d);const c=s(n,["maxOutputTokens"]);c!=null&&a(o,["maxOutputTokens"],c);const f=s(n,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const p=s(n,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const m=s(n,["logprobs"]);m!=null&&a(o,["logprobs"],m);const y=s(n,["presencePenalty"]);y!=null&&a(o,["presencePenalty"],y);const S=s(n,["frequencyPenalty"]);S!=null&&a(o,["frequencyPenalty"],S);const C=s(n,["seed"]);C!=null&&a(o,["seed"],C);const I=s(n,["responseMimeType"]);I!=null&&a(o,["responseMimeType"],I);const v=s(n,["responseSchema"]);v!=null&&a(o,["responseSchema"],Yl(v));const h=s(n,["responseJsonSchema"]);if(h!=null&&a(o,["responseJsonSchema"],h),s(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const E=s(n,["safetySettings"]);if(t!==void 0&&E!=null){let B=E;Array.isArray(B)&&(B=B.map(b=>mT(b))),a(t,["safetySettings"],B)}const T=s(n,["tools"]);if(t!==void 0&&T!=null){let B=bt(T);Array.isArray(B)&&(B=B.map(b=>ST(Kt(b)))),a(t,["tools"],B)}const _=s(n,["toolConfig"]);if(t!==void 0&&_!=null&&a(t,["toolConfig"],TT(_)),s(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=s(n,["cachedContent"]);t!==void 0&&x!=null&&a(t,["cachedContent"],Rn(e,x));const w=s(n,["responseModalities"]);w!=null&&a(o,["responseModalities"],w);const R=s(n,["mediaResolution"]);R!=null&&a(o,["mediaResolution"],R);const A=s(n,["speechConfig"]);if(A!=null&&a(o,["speechConfig"],Kl(A)),s(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const N=s(n,["thinkingConfig"]);N!=null&&a(o,["thinkingConfig"],N);const F=s(n,["imageConfig"]);return F!=null&&a(o,["imageConfig"],XE(F)),o}function xE(e,n,t){const o={},r=s(n,["systemInstruction"]);t!==void 0&&r!=null&&a(t,["systemInstruction"],we(r));const i=s(n,["temperature"]);i!=null&&a(o,["temperature"],i);const l=s(n,["topP"]);l!=null&&a(o,["topP"],l);const u=s(n,["topK"]);u!=null&&a(o,["topK"],u);const d=s(n,["candidateCount"]);d!=null&&a(o,["candidateCount"],d);const c=s(n,["maxOutputTokens"]);c!=null&&a(o,["maxOutputTokens"],c);const f=s(n,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const p=s(n,["responseLogprobs"]);p!=null&&a(o,["responseLogprobs"],p);const m=s(n,["logprobs"]);m!=null&&a(o,["logprobs"],m);const y=s(n,["presencePenalty"]);y!=null&&a(o,["presencePenalty"],y);const S=s(n,["frequencyPenalty"]);S!=null&&a(o,["frequencyPenalty"],S);const C=s(n,["seed"]);C!=null&&a(o,["seed"],C);const I=s(n,["responseMimeType"]);I!=null&&a(o,["responseMimeType"],I);const v=s(n,["responseSchema"]);v!=null&&a(o,["responseSchema"],Yl(v));const h=s(n,["responseJsonSchema"]);h!=null&&a(o,["responseJsonSchema"],h);const E=s(n,["routingConfig"]);E!=null&&a(o,["routingConfig"],E);const T=s(n,["modelSelectionConfig"]);T!=null&&a(o,["modelConfig"],T);const _=s(n,["safetySettings"]);if(t!==void 0&&_!=null){let ne=_;Array.isArray(ne)&&(ne=ne.map(Xe=>Xe)),a(t,["safetySettings"],ne)}const x=s(n,["tools"]);if(t!==void 0&&x!=null){let ne=bt(x);Array.isArray(ne)&&(ne=ne.map(Xe=>_p(Kt(Xe)))),a(t,["tools"],ne)}const w=s(n,["toolConfig"]);t!==void 0&&w!=null&&a(t,["toolConfig"],w);const R=s(n,["labels"]);t!==void 0&&R!=null&&a(t,["labels"],R);const A=s(n,["cachedContent"]);t!==void 0&&A!=null&&a(t,["cachedContent"],Rn(e,A));const N=s(n,["responseModalities"]);N!=null&&a(o,["responseModalities"],N);const F=s(n,["mediaResolution"]);F!=null&&a(o,["mediaResolution"],F);const B=s(n,["speechConfig"]);B!=null&&a(o,["speechConfig"],Cp(Kl(B)));const b=s(n,["audioTimestamp"]);b!=null&&a(o,["audioTimestamp"],b);const Be=s(n,["thinkingConfig"]);Be!=null&&a(o,["thinkingConfig"],Be);const Qe=s(n,["imageConfig"]);return Qe!=null&&a(o,["imageConfig"],ZE(Qe)),o}function Cd(e,n){const t={},o=s(n,["model"]);o!=null&&a(t,["_url","model"],$(e,o));const r=s(n,["contents"]);if(r!=null){let l=Ye(r);Array.isArray(l)&&(l=l.map(u=>pi(u))),a(t,["contents"],l)}const i=s(n,["config"]);return i!=null&&a(t,["generationConfig"],wE(e,i,t)),t}function _d(e,n){const t={},o=s(n,["model"]);o!=null&&a(t,["_url","model"],$(e,o));const r=s(n,["contents"]);if(r!=null){let l=Ye(r);Array.isArray(l)&&(l=l.map(u=>u)),a(t,["contents"],l)}const i=s(n,["config"]);return i!=null&&a(t,["generationConfig"],xE(e,i,t)),t}function wd(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const o=s(e,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(c=>Y0(c))),a(n,["candidates"],d)}const r=s(e,["modelVersion"]);r!=null&&a(n,["modelVersion"],r);const i=s(e,["promptFeedback"]);i!=null&&a(n,["promptFeedback"],i);const l=s(e,["responseId"]);l!=null&&a(n,["responseId"],l);const u=s(e,["usageMetadata"]);return u!=null&&a(n,["usageMetadata"],u),n}function xd(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const o=s(e,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>f)),a(n,["candidates"],c)}const r=s(e,["createTime"]);r!=null&&a(n,["createTime"],r);const i=s(e,["modelVersion"]);i!=null&&a(n,["modelVersion"],i);const l=s(e,["promptFeedback"]);l!=null&&a(n,["promptFeedback"],l);const u=s(e,["responseId"]);u!=null&&a(n,["responseId"],u);const d=s(e,["usageMetadata"]);return d!=null&&a(n,["usageMetadata"],d),n}function IE(e,n){const t={};if(s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=s(e,["numberOfImages"]);n!==void 0&&o!=null&&a(n,["parameters","sampleCount"],o);const r=s(e,["aspectRatio"]);n!==void 0&&r!=null&&a(n,["parameters","aspectRatio"],r);const i=s(e,["guidanceScale"]);if(n!==void 0&&i!=null&&a(n,["parameters","guidanceScale"],i),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(e,["safetyFilterLevel"]);n!==void 0&&l!=null&&a(n,["parameters","safetySetting"],l);const u=s(e,["personGeneration"]);n!==void 0&&u!=null&&a(n,["parameters","personGeneration"],u);const d=s(e,["includeSafetyAttributes"]);n!==void 0&&d!=null&&a(n,["parameters","includeSafetyAttributes"],d);const c=s(e,["includeRaiReason"]);n!==void 0&&c!=null&&a(n,["parameters","includeRaiReason"],c);const f=s(e,["language"]);n!==void 0&&f!=null&&a(n,["parameters","language"],f);const p=s(e,["outputMimeType"]);n!==void 0&&p!=null&&a(n,["parameters","outputOptions","mimeType"],p);const m=s(e,["outputCompressionQuality"]);if(n!==void 0&&m!=null&&a(n,["parameters","outputOptions","compressionQuality"],m),s(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const y=s(e,["imageSize"]);if(n!==void 0&&y!=null&&a(n,["parameters","sampleImageSize"],y),s(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function AE(e,n){const t={},o=s(e,["outputGcsUri"]);n!==void 0&&o!=null&&a(n,["parameters","storageUri"],o);const r=s(e,["negativePrompt"]);n!==void 0&&r!=null&&a(n,["parameters","negativePrompt"],r);const i=s(e,["numberOfImages"]);n!==void 0&&i!=null&&a(n,["parameters","sampleCount"],i);const l=s(e,["aspectRatio"]);n!==void 0&&l!=null&&a(n,["parameters","aspectRatio"],l);const u=s(e,["guidanceScale"]);n!==void 0&&u!=null&&a(n,["parameters","guidanceScale"],u);const d=s(e,["seed"]);n!==void 0&&d!=null&&a(n,["parameters","seed"],d);const c=s(e,["safetyFilterLevel"]);n!==void 0&&c!=null&&a(n,["parameters","safetySetting"],c);const f=s(e,["personGeneration"]);n!==void 0&&f!=null&&a(n,["parameters","personGeneration"],f);const p=s(e,["includeSafetyAttributes"]);n!==void 0&&p!=null&&a(n,["parameters","includeSafetyAttributes"],p);const m=s(e,["includeRaiReason"]);n!==void 0&&m!=null&&a(n,["parameters","includeRaiReason"],m);const y=s(e,["language"]);n!==void 0&&y!=null&&a(n,["parameters","language"],y);const S=s(e,["outputMimeType"]);n!==void 0&&S!=null&&a(n,["parameters","outputOptions","mimeType"],S);const C=s(e,["outputCompressionQuality"]);n!==void 0&&C!=null&&a(n,["parameters","outputOptions","compressionQuality"],C);const I=s(e,["addWatermark"]);n!==void 0&&I!=null&&a(n,["parameters","addWatermark"],I);const v=s(e,["labels"]);n!==void 0&&v!=null&&a(n,["labels"],v);const h=s(e,["imageSize"]);n!==void 0&&h!=null&&a(n,["parameters","sampleImageSize"],h);const E=s(e,["enhancePrompt"]);return n!==void 0&&E!=null&&a(n,["parameters","enhancePrompt"],E),t}function NE(e,n){const t={},o=s(n,["model"]);o!=null&&a(t,["_url","model"],$(e,o));const r=s(n,["prompt"]);r!=null&&a(t,["instances[0]","prompt"],r);const i=s(n,["config"]);return i!=null&&IE(i,t),t}function RE(e,n){const t={},o=s(n,["model"]);o!=null&&a(t,["_url","model"],$(e,o));const r=s(n,["prompt"]);r!=null&&a(t,["instances[0]","prompt"],r);const i=s(n,["config"]);return i!=null&&AE(i,t),t}function PE(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const o=s(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>zE(l))),a(n,["generatedImages"],i)}const r=s(e,["positivePromptSafetyAttributes"]);return r!=null&&a(n,["positivePromptSafetyAttributes"],Tp(r)),n}function kE(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const o=s(e,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>mi(l))),a(n,["generatedImages"],i)}const r=s(e,["positivePromptSafetyAttributes"]);return r!=null&&a(n,["positivePromptSafetyAttributes"],Sp(r)),n}function ME(e,n){const t={},o=s(e,["numberOfVideos"]);if(n!==void 0&&o!=null&&a(n,["parameters","sampleCount"],o),s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=s(e,["durationSeconds"]);if(n!==void 0&&r!=null&&a(n,["parameters","durationSeconds"],r),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const i=s(e,["aspectRatio"]);n!==void 0&&i!=null&&a(n,["parameters","aspectRatio"],i);const l=s(e,["resolution"]);n!==void 0&&l!=null&&a(n,["parameters","resolution"],l);const u=s(e,["personGeneration"]);if(n!==void 0&&u!=null&&a(n,["parameters","personGeneration"],u),s(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=s(e,["negativePrompt"]);n!==void 0&&d!=null&&a(n,["parameters","negativePrompt"],d);const c=s(e,["enhancePrompt"]);if(n!==void 0&&c!=null&&a(n,["parameters","enhancePrompt"],c),s(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=s(e,["lastFrame"]);n!==void 0&&f!=null&&a(n,["instances[0]","lastFrame"],hi(f));const p=s(e,["referenceImages"]);if(n!==void 0&&p!=null){let m=p;Array.isArray(m)&&(m=m.map(y=>LT(y))),a(n,["instances[0]","referenceImages"],m)}if(s(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function DE(e,n){const t={},o=s(e,["numberOfVideos"]);n!==void 0&&o!=null&&a(n,["parameters","sampleCount"],o);const r=s(e,["outputGcsUri"]);n!==void 0&&r!=null&&a(n,["parameters","storageUri"],r);const i=s(e,["fps"]);n!==void 0&&i!=null&&a(n,["parameters","fps"],i);const l=s(e,["durationSeconds"]);n!==void 0&&l!=null&&a(n,["parameters","durationSeconds"],l);const u=s(e,["seed"]);n!==void 0&&u!=null&&a(n,["parameters","seed"],u);const d=s(e,["aspectRatio"]);n!==void 0&&d!=null&&a(n,["parameters","aspectRatio"],d);const c=s(e,["resolution"]);n!==void 0&&c!=null&&a(n,["parameters","resolution"],c);const f=s(e,["personGeneration"]);n!==void 0&&f!=null&&a(n,["parameters","personGeneration"],f);const p=s(e,["pubsubTopic"]);n!==void 0&&p!=null&&a(n,["parameters","pubsubTopic"],p);const m=s(e,["negativePrompt"]);n!==void 0&&m!=null&&a(n,["parameters","negativePrompt"],m);const y=s(e,["enhancePrompt"]);n!==void 0&&y!=null&&a(n,["parameters","enhancePrompt"],y);const S=s(e,["generateAudio"]);n!==void 0&&S!=null&&a(n,["parameters","generateAudio"],S);const C=s(e,["lastFrame"]);n!==void 0&&C!=null&&a(n,["instances[0]","lastFrame"],ln(C));const I=s(e,["referenceImages"]);if(n!==void 0&&I!=null){let E=I;Array.isArray(E)&&(E=E.map(T=>UT(T))),a(n,["instances[0]","referenceImages"],E)}const v=s(e,["mask"]);n!==void 0&&v!=null&&a(n,["instances[0]","mask"],DT(v));const h=s(e,["compressionQuality"]);return n!==void 0&&h!=null&&a(n,["parameters","compressionQuality"],h),t}function LE(e){const n={},t=s(e,["name"]);t!=null&&a(n,["name"],t);const o=s(e,["metadata"]);o!=null&&a(n,["metadata"],o);const r=s(e,["done"]);r!=null&&a(n,["done"],r);const i=s(e,["error"]);i!=null&&a(n,["error"],i);const l=s(e,["response","generateVideoResponse"]);return l!=null&&a(n,["response"],GE(l)),n}function UE(e){const n={},t=s(e,["name"]);t!=null&&a(n,["name"],t);const o=s(e,["metadata"]);o!=null&&a(n,["metadata"],o);const r=s(e,["done"]);r!=null&&a(n,["done"],r);const i=s(e,["error"]);i!=null&&a(n,["error"],i);const l=s(e,["response"]);return l!=null&&a(n,["response"],HE(l)),n}function FE(e,n){const t={},o=s(n,["model"]);o!=null&&a(t,["_url","model"],$(e,o));const r=s(n,["prompt"]);r!=null&&a(t,["instances[0]","prompt"],r);const i=s(n,["image"]);i!=null&&a(t,["instances[0]","image"],hi(i));const l=s(n,["video"]);l!=null&&a(t,["instances[0]","video"],wp(l));const u=s(n,["source"]);u!=null&&qE(u,t);const d=s(n,["config"]);return d!=null&&ME(d,t),t}function VE(e,n){const t={},o=s(n,["model"]);o!=null&&a(t,["_url","model"],$(e,o));const r=s(n,["prompt"]);r!=null&&a(t,["instances[0]","prompt"],r);const i=s(n,["image"]);i!=null&&a(t,["instances[0]","image"],ln(i));const l=s(n,["video"]);l!=null&&a(t,["instances[0]","video"],xp(l));const u=s(n,["source"]);u!=null&&BE(u,t);const d=s(n,["config"]);return d!=null&&DE(d,t),t}function GE(e){const n={},t=s(e,["generatedSamples"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(l=>$E(l))),a(n,["generatedVideos"],i)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&a(n,["raiMediaFilteredCount"],o);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(n,["raiMediaFilteredReasons"],r),n}function HE(e){const n={},t=s(e,["videos"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(l=>WE(l))),a(n,["generatedVideos"],i)}const o=s(e,["raiMediaFilteredCount"]);o!=null&&a(n,["raiMediaFilteredCount"],o);const r=s(e,["raiMediaFilteredReasons"]);return r!=null&&a(n,["raiMediaFilteredReasons"],r),n}function qE(e,n){const t={},o=s(e,["prompt"]);n!==void 0&&o!=null&&a(n,["instances[0]","prompt"],o);const r=s(e,["image"]);n!==void 0&&r!=null&&a(n,["instances[0]","image"],hi(r));const i=s(e,["video"]);return n!==void 0&&i!=null&&a(n,["instances[0]","video"],wp(i)),t}function BE(e,n){const t={},o=s(e,["prompt"]);n!==void 0&&o!=null&&a(n,["instances[0]","prompt"],o);const r=s(e,["image"]);n!==void 0&&r!=null&&a(n,["instances[0]","image"],ln(r));const i=s(e,["video"]);return n!==void 0&&i!=null&&a(n,["instances[0]","video"],xp(i)),t}function zE(e){const n={},t=s(e,["_self"]);t!=null&&a(n,["image"],jE(t));const o=s(e,["raiFilteredReason"]);o!=null&&a(n,["raiFilteredReason"],o);const r=s(e,["_self"]);return r!=null&&a(n,["safetyAttributes"],Tp(r)),n}function mi(e){const n={},t=s(e,["_self"]);t!=null&&a(n,["image"],Ep(t));const o=s(e,["raiFilteredReason"]);o!=null&&a(n,["raiFilteredReason"],o);const r=s(e,["_self"]);r!=null&&a(n,["safetyAttributes"],Sp(r));const i=s(e,["prompt"]);return i!=null&&a(n,["enhancedPrompt"],i),n}function JE(e){const n={},t=s(e,["_self"]);t!=null&&a(n,["mask"],Ep(t));const o=s(e,["labels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(n,["labels"],r)}return n}function $E(e){const n={},t=s(e,["video"]);return t!=null&&a(n,["video"],kT(t)),n}function WE(e){const n={},t=s(e,["_self"]);return t!=null&&a(n,["video"],MT(t)),n}function OE(e){const n={},t=s(e,["modelSelectionConfig"]);t!=null&&a(n,["modelConfig"],t);const o=s(e,["responseJsonSchema"]);o!=null&&a(n,["responseJsonSchema"],o);const r=s(e,["audioTimestamp"]);r!=null&&a(n,["audioTimestamp"],r);const i=s(e,["candidateCount"]);i!=null&&a(n,["candidateCount"],i);const l=s(e,["enableAffectiveDialog"]);l!=null&&a(n,["enableAffectiveDialog"],l);const u=s(e,["frequencyPenalty"]);u!=null&&a(n,["frequencyPenalty"],u);const d=s(e,["logprobs"]);d!=null&&a(n,["logprobs"],d);const c=s(e,["maxOutputTokens"]);c!=null&&a(n,["maxOutputTokens"],c);const f=s(e,["mediaResolution"]);f!=null&&a(n,["mediaResolution"],f);const p=s(e,["presencePenalty"]);p!=null&&a(n,["presencePenalty"],p);const m=s(e,["responseLogprobs"]);m!=null&&a(n,["responseLogprobs"],m);const y=s(e,["responseMimeType"]);y!=null&&a(n,["responseMimeType"],y);const S=s(e,["responseModalities"]);S!=null&&a(n,["responseModalities"],S);const C=s(e,["responseSchema"]);C!=null&&a(n,["responseSchema"],C);const I=s(e,["routingConfig"]);I!=null&&a(n,["routingConfig"],I);const v=s(e,["seed"]);v!=null&&a(n,["seed"],v);const h=s(e,["speechConfig"]);h!=null&&a(n,["speechConfig"],Cp(h));const E=s(e,["stopSequences"]);E!=null&&a(n,["stopSequences"],E);const T=s(e,["temperature"]);T!=null&&a(n,["temperature"],T);const _=s(e,["thinkingConfig"]);_!=null&&a(n,["thinkingConfig"],_);const x=s(e,["topK"]);x!=null&&a(n,["topK"],x);const w=s(e,["topP"]);if(w!=null&&a(n,["topP"],w),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function YE(e,n){const t={},o=s(n,["model"]);return o!=null&&a(t,["_url","name"],$(e,o)),t}function KE(e,n){const t={},o=s(n,["model"]);return o!=null&&a(t,["_url","name"],$(e,o)),t}function bE(e){const n={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(e,["enableWidget"]);return t!=null&&a(n,["enableWidget"],t),n}function QE(e){const n={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=s(e,["timeRangeFilter"]);return t!=null&&a(n,["timeRangeFilter"],t),n}function XE(e){const n={},t=s(e,["aspectRatio"]);t!=null&&a(n,["aspectRatio"],t);const o=s(e,["imageSize"]);if(o!=null&&a(n,["imageSize"],o),s(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function ZE(e){const n={},t=s(e,["aspectRatio"]);t!=null&&a(n,["aspectRatio"],t);const o=s(e,["imageSize"]);o!=null&&a(n,["imageSize"],o);const r=s(e,["outputMimeType"]);r!=null&&a(n,["imageOutputOptions","mimeType"],r);const i=s(e,["outputCompressionQuality"]);return i!=null&&a(n,["imageOutputOptions","compressionQuality"],i),n}function jE(e){const n={},t=s(e,["bytesBase64Encoded"]);t!=null&&a(n,["imageBytes"],Xn(t));const o=s(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function Ep(e){const n={},t=s(e,["gcsUri"]);t!=null&&a(n,["gcsUri"],t);const o=s(e,["bytesBase64Encoded"]);o!=null&&a(n,["imageBytes"],Xn(o));const r=s(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function hi(e){const n={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=s(e,["imageBytes"]);t!=null&&a(n,["bytesBase64Encoded"],Xn(t));const o=s(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function ln(e){const n={},t=s(e,["gcsUri"]);t!=null&&a(n,["gcsUri"],t);const o=s(e,["imageBytes"]);o!=null&&a(n,["bytesBase64Encoded"],Xn(o));const r=s(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function eT(e,n,t){const o={},r=s(n,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const i=s(n,["pageToken"]);t!==void 0&&i!=null&&a(t,["_query","pageToken"],i);const l=s(n,["filter"]);t!==void 0&&l!=null&&a(t,["_query","filter"],l);const u=s(n,["queryBase"]);return t!==void 0&&u!=null&&a(t,["_url","models_url"],cp(e,u)),o}function nT(e,n,t){const o={},r=s(n,["pageSize"]);t!==void 0&&r!=null&&a(t,["_query","pageSize"],r);const i=s(n,["pageToken"]);t!==void 0&&i!=null&&a(t,["_query","pageToken"],i);const l=s(n,["filter"]);t!==void 0&&l!=null&&a(t,["_query","filter"],l);const u=s(n,["queryBase"]);return t!==void 0&&u!=null&&a(t,["_url","models_url"],cp(e,u)),o}function tT(e,n){const t={},o=s(n,["config"]);return o!=null&&eT(e,o,t),t}function oT(e,n){const t={},o=s(n,["config"]);return o!=null&&nT(e,o,t),t}function rT(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const o=s(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const r=s(e,["_self"]);if(r!=null){let i=fp(r);Array.isArray(i)&&(i=i.map(l=>Bs(l))),a(n,["models"],i)}return n}function iT(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const o=s(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const r=s(e,["_self"]);if(r!=null){let i=fp(r);Array.isArray(i)&&(i=i.map(l=>zs(l))),a(n,["models"],i)}return n}function sT(e){const n={},t=s(e,["maskMode"]);t!=null&&a(n,["maskMode"],t);const o=s(e,["segmentationClasses"]);o!=null&&a(n,["maskClasses"],o);const r=s(e,["maskDilation"]);return r!=null&&a(n,["dilation"],r),n}function Bs(e){const n={},t=s(e,["name"]);t!=null&&a(n,["name"],t);const o=s(e,["displayName"]);o!=null&&a(n,["displayName"],o);const r=s(e,["description"]);r!=null&&a(n,["description"],r);const i=s(e,["version"]);i!=null&&a(n,["version"],i);const l=s(e,["_self"]);l!=null&&a(n,["tunedModelInfo"],CT(l));const u=s(e,["inputTokenLimit"]);u!=null&&a(n,["inputTokenLimit"],u);const d=s(e,["outputTokenLimit"]);d!=null&&a(n,["outputTokenLimit"],d);const c=s(e,["supportedGenerationMethods"]);c!=null&&a(n,["supportedActions"],c);const f=s(e,["temperature"]);f!=null&&a(n,["temperature"],f);const p=s(e,["maxTemperature"]);p!=null&&a(n,["maxTemperature"],p);const m=s(e,["topP"]);m!=null&&a(n,["topP"],m);const y=s(e,["topK"]);y!=null&&a(n,["topK"],y);const S=s(e,["thinking"]);return S!=null&&a(n,["thinking"],S),n}function zs(e){const n={},t=s(e,["name"]);t!=null&&a(n,["name"],t);const o=s(e,["displayName"]);o!=null&&a(n,["displayName"],o);const r=s(e,["description"]);r!=null&&a(n,["description"],r);const i=s(e,["versionId"]);i!=null&&a(n,["version"],i);const l=s(e,["deployedModels"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(m=>EE(m))),a(n,["endpoints"],p)}const u=s(e,["labels"]);u!=null&&a(n,["labels"],u);const d=s(e,["_self"]);d!=null&&a(n,["tunedModelInfo"],_T(d));const c=s(e,["defaultCheckpointId"]);c!=null&&a(n,["defaultCheckpointId"],c);const f=s(e,["checkpoints"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>m)),a(n,["checkpoints"],p)}return n}function lT(e){const n={},t=s(e,["mediaResolution"]);t!=null&&a(n,["mediaResolution"],t);const o=s(e,["codeExecutionResult"]);o!=null&&a(n,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(n,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(n,["fileData"],TE(i));const l=s(e,["functionCall"]);l!=null&&a(n,["functionCall"],SE(l));const u=s(e,["functionResponse"]);u!=null&&a(n,["functionResponse"],u);const d=s(e,["inlineData"]);d!=null&&a(n,["inlineData"],O0(d));const c=s(e,["text"]);c!=null&&a(n,["text"],c);const f=s(e,["thought"]);f!=null&&a(n,["thought"],f);const p=s(e,["thoughtSignature"]);p!=null&&a(n,["thoughtSignature"],p);const m=s(e,["videoMetadata"]);return m!=null&&a(n,["videoMetadata"],m),n}function aT(e){const n={},t=s(e,["productImage"]);return t!=null&&a(n,["image"],ln(t)),n}function uT(e,n){const t={},o=s(e,["numberOfImages"]);n!==void 0&&o!=null&&a(n,["parameters","sampleCount"],o);const r=s(e,["baseSteps"]);n!==void 0&&r!=null&&a(n,["parameters","baseSteps"],r);const i=s(e,["outputGcsUri"]);n!==void 0&&i!=null&&a(n,["parameters","storageUri"],i);const l=s(e,["seed"]);n!==void 0&&l!=null&&a(n,["parameters","seed"],l);const u=s(e,["safetyFilterLevel"]);n!==void 0&&u!=null&&a(n,["parameters","safetySetting"],u);const d=s(e,["personGeneration"]);n!==void 0&&d!=null&&a(n,["parameters","personGeneration"],d);const c=s(e,["addWatermark"]);n!==void 0&&c!=null&&a(n,["parameters","addWatermark"],c);const f=s(e,["outputMimeType"]);n!==void 0&&f!=null&&a(n,["parameters","outputOptions","mimeType"],f);const p=s(e,["outputCompressionQuality"]);n!==void 0&&p!=null&&a(n,["parameters","outputOptions","compressionQuality"],p);const m=s(e,["enhancePrompt"]);n!==void 0&&m!=null&&a(n,["parameters","enhancePrompt"],m);const y=s(e,["labels"]);return n!==void 0&&y!=null&&a(n,["labels"],y),t}function dT(e,n){const t={},o=s(n,["model"]);o!=null&&a(t,["_url","model"],$(e,o));const r=s(n,["source"]);r!=null&&fT(r,t);const i=s(n,["config"]);return i!=null&&uT(i,t),t}function cT(e){const n={},t=s(e,["predictions"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>mi(r))),a(n,["generatedImages"],o)}return n}function fT(e,n){const t={},o=s(e,["prompt"]);n!==void 0&&o!=null&&a(n,["instances[0]","prompt"],o);const r=s(e,["personImage"]);n!==void 0&&r!=null&&a(n,["instances[0]","personImage","image"],ln(r));const i=s(e,["productImages"]);if(n!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>aT(u))),a(n,["instances[0]","productImages"],l)}return t}function pT(e){const n={},t=s(e,["referenceImage"]);t!=null&&a(n,["referenceImage"],ln(t));const o=s(e,["referenceId"]);o!=null&&a(n,["referenceId"],o);const r=s(e,["referenceType"]);r!=null&&a(n,["referenceType"],r);const i=s(e,["maskImageConfig"]);i!=null&&a(n,["maskImageConfig"],sT(i));const l=s(e,["controlImageConfig"]);l!=null&&a(n,["controlImageConfig"],j0(l));const u=s(e,["styleImageConfig"]);u!=null&&a(n,["styleImageConfig"],u);const d=s(e,["subjectImageConfig"]);return d!=null&&a(n,["subjectImageConfig"],d),n}function Tp(e){const n={},t=s(e,["safetyAttributes","categories"]);t!=null&&a(n,["categories"],t);const o=s(e,["safetyAttributes","scores"]);o!=null&&a(n,["scores"],o);const r=s(e,["contentType"]);return r!=null&&a(n,["contentType"],r),n}function Sp(e){const n={},t=s(e,["safetyAttributes","categories"]);t!=null&&a(n,["categories"],t);const o=s(e,["safetyAttributes","scores"]);o!=null&&a(n,["scores"],o);const r=s(e,["contentType"]);return r!=null&&a(n,["contentType"],r),n}function mT(e){const n={},t=s(e,["category"]);if(t!=null&&a(n,["category"],t),s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(e,["threshold"]);return o!=null&&a(n,["threshold"],o),n}function hT(e){const n={},t=s(e,["image"]);return t!=null&&a(n,["image"],ln(t)),n}function gT(e,n){const t={},o=s(e,["mode"]);n!==void 0&&o!=null&&a(n,["parameters","mode"],o);const r=s(e,["maxPredictions"]);n!==void 0&&r!=null&&a(n,["parameters","maxPredictions"],r);const i=s(e,["confidenceThreshold"]);n!==void 0&&i!=null&&a(n,["parameters","confidenceThreshold"],i);const l=s(e,["maskDilation"]);n!==void 0&&l!=null&&a(n,["parameters","maskDilation"],l);const u=s(e,["binaryColorThreshold"]);n!==void 0&&u!=null&&a(n,["parameters","binaryColorThreshold"],u);const d=s(e,["labels"]);return n!==void 0&&d!=null&&a(n,["labels"],d),t}function yT(e,n){const t={},o=s(n,["model"]);o!=null&&a(t,["_url","model"],$(e,o));const r=s(n,["source"]);r!=null&&ET(r,t);const i=s(n,["config"]);return i!=null&&gT(i,t),t}function vT(e){const n={},t=s(e,["predictions"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(r=>JE(r))),a(n,["generatedMasks"],o)}return n}function ET(e,n){const t={},o=s(e,["prompt"]);n!==void 0&&o!=null&&a(n,["instances[0]","prompt"],o);const r=s(e,["image"]);n!==void 0&&r!=null&&a(n,["instances[0]","image"],ln(r));const i=s(e,["scribbleImage"]);return n!==void 0&&i!=null&&a(n,["instances[0]","scribble"],hT(i)),t}function Cp(e){const n={},t=s(e,["languageCode"]);t!=null&&a(n,["languageCode"],t);const o=s(e,["voiceConfig"]);if(o!=null&&a(n,["voiceConfig"],o),s(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function TT(e){const n={},t=s(e,["functionCallingConfig"]);t!=null&&a(n,["functionCallingConfig"],CE(t));const o=s(e,["retrievalConfig"]);return o!=null&&a(n,["retrievalConfig"],o),n}function ST(e){const n={},t=s(e,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>p)),a(n,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(n,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(n,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(n,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(n,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(n,["googleMaps"],bE(u));const d=s(e,["googleSearch"]);d!=null&&a(n,["googleSearch"],QE(d));const c=s(e,["urlContext"]);return c!=null&&a(n,["urlContext"],c),n}function _p(e){const n={},t=s(e,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(m=>_E(m))),a(n,["functionDeclarations"],p)}const o=s(e,["retrieval"]);o!=null&&a(n,["retrieval"],o);const r=s(e,["googleSearchRetrieval"]);r!=null&&a(n,["googleSearchRetrieval"],r);const i=s(e,["computerUse"]);if(i!=null&&a(n,["computerUse"],i),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(e,["codeExecution"]);l!=null&&a(n,["codeExecution"],l);const u=s(e,["enterpriseWebSearch"]);u!=null&&a(n,["enterpriseWebSearch"],u);const d=s(e,["googleMaps"]);d!=null&&a(n,["googleMaps"],d);const c=s(e,["googleSearch"]);c!=null&&a(n,["googleSearch"],c);const f=s(e,["urlContext"]);return f!=null&&a(n,["urlContext"],f),n}function CT(e){const n={},t=s(e,["baseModel"]);t!=null&&a(n,["baseModel"],t);const o=s(e,["createTime"]);o!=null&&a(n,["createTime"],o);const r=s(e,["updateTime"]);return r!=null&&a(n,["updateTime"],r),n}function _T(e){const n={},t=s(e,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&a(n,["baseModel"],t);const o=s(e,["createTime"]);o!=null&&a(n,["createTime"],o);const r=s(e,["updateTime"]);return r!=null&&a(n,["updateTime"],r),n}function wT(e,n){const t={},o=s(e,["displayName"]);n!==void 0&&o!=null&&a(n,["displayName"],o);const r=s(e,["description"]);n!==void 0&&r!=null&&a(n,["description"],r);const i=s(e,["defaultCheckpointId"]);return n!==void 0&&i!=null&&a(n,["defaultCheckpointId"],i),t}function xT(e,n){const t={},o=s(e,["displayName"]);n!==void 0&&o!=null&&a(n,["displayName"],o);const r=s(e,["description"]);n!==void 0&&r!=null&&a(n,["description"],r);const i=s(e,["defaultCheckpointId"]);return n!==void 0&&i!=null&&a(n,["defaultCheckpointId"],i),t}function IT(e,n){const t={},o=s(n,["model"]);o!=null&&a(t,["_url","name"],$(e,o));const r=s(n,["config"]);return r!=null&&wT(r,t),t}function AT(e,n){const t={},o=s(n,["model"]);o!=null&&a(t,["_url","model"],$(e,o));const r=s(n,["config"]);return r!=null&&xT(r,t),t}function NT(e,n){const t={},o=s(e,["outputGcsUri"]);n!==void 0&&o!=null&&a(n,["parameters","storageUri"],o);const r=s(e,["safetyFilterLevel"]);n!==void 0&&r!=null&&a(n,["parameters","safetySetting"],r);const i=s(e,["personGeneration"]);n!==void 0&&i!=null&&a(n,["parameters","personGeneration"],i);const l=s(e,["includeRaiReason"]);n!==void 0&&l!=null&&a(n,["parameters","includeRaiReason"],l);const u=s(e,["outputMimeType"]);n!==void 0&&u!=null&&a(n,["parameters","outputOptions","mimeType"],u);const d=s(e,["outputCompressionQuality"]);n!==void 0&&d!=null&&a(n,["parameters","outputOptions","compressionQuality"],d);const c=s(e,["enhanceInputImage"]);n!==void 0&&c!=null&&a(n,["parameters","upscaleConfig","enhanceInputImage"],c);const f=s(e,["imagePreservationFactor"]);n!==void 0&&f!=null&&a(n,["parameters","upscaleConfig","imagePreservationFactor"],f);const p=s(e,["labels"]);n!==void 0&&p!=null&&a(n,["labels"],p);const m=s(e,["numberOfImages"]);n!==void 0&&m!=null&&a(n,["parameters","sampleCount"],m);const y=s(e,["mode"]);return n!==void 0&&y!=null&&a(n,["parameters","mode"],y),t}function RT(e,n){const t={},o=s(n,["model"]);o!=null&&a(t,["_url","model"],$(e,o));const r=s(n,["image"]);r!=null&&a(t,["instances[0]","image"],ln(r));const i=s(n,["upscaleFactor"]);i!=null&&a(t,["parameters","upscaleConfig","upscaleFactor"],i);const l=s(n,["config"]);return l!=null&&NT(l,t),t}function PT(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const o=s(e,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>mi(i))),a(n,["generatedImages"],r)}return n}function kT(e){const n={},t=s(e,["uri"]);t!=null&&a(n,["uri"],t);const o=s(e,["encodedVideo"]);o!=null&&a(n,["videoBytes"],Xn(o));const r=s(e,["encoding"]);return r!=null&&a(n,["mimeType"],r),n}function MT(e){const n={},t=s(e,["gcsUri"]);t!=null&&a(n,["uri"],t);const o=s(e,["bytesBase64Encoded"]);o!=null&&a(n,["videoBytes"],Xn(o));const r=s(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}function DT(e){const n={},t=s(e,["image"]);t!=null&&a(n,["_self"],ln(t));const o=s(e,["maskMode"]);return o!=null&&a(n,["maskMode"],o),n}function LT(e){const n={},t=s(e,["image"]);t!=null&&a(n,["image"],hi(t));const o=s(e,["referenceType"]);return o!=null&&a(n,["referenceType"],o),n}function UT(e){const n={},t=s(e,["image"]);t!=null&&a(n,["image"],ln(t));const o=s(e,["referenceType"]);return o!=null&&a(n,["referenceType"],o),n}function wp(e){const n={},t=s(e,["uri"]);t!=null&&a(n,["uri"],t);const o=s(e,["videoBytes"]);o!=null&&a(n,["encodedVideo"],Xn(o));const r=s(e,["mimeType"]);return r!=null&&a(n,["encoding"],r),n}function xp(e){const n={},t=s(e,["uri"]);t!=null&&a(n,["gcsUri"],t);const o=s(e,["videoBytes"]);o!=null&&a(n,["bytesBase64Encoded"],Xn(o));const r=s(e,["mimeType"]);return r!=null&&a(n,["mimeType"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FT="Content-Type",VT="X-Server-Timeout",GT="User-Agent",Js="x-goog-api-client",HT="1.30.0",qT=`google-genai-sdk/${HT}`,BT="v1beta1",zT="v1beta",Id=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class JT{constructor(n){var t,o;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:BT,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:zT,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&o.push(n.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),t=new URL(n);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,t,o){const r=[this.getRequestUrlInternal(t)];return o&&r.push(this.getBaseResourcePath()),n!==""&&r.push(n),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let t=this.clientOptions.httpOptions;n.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const o=this.shouldPrependVertexProjectPath(n),r=this.constructUrl(n.path,t,o);if(n.queryParams)for(const[l,u]of Object.entries(n.queryParams))r.searchParams.append(l,String(u));let i={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=n.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,t,r.toString(),n.abortSignal),this.unaryApiCall(r,i,n.httpMethod)}patchHttpOptions(n,t){const o=JSON.parse(JSON.stringify(n));for(const[r,i]of Object.entries(t))typeof i=="object"?o[r]=Object.assign(Object.assign({},o[r]),i):i!==void 0&&(o[r]=i);return o}async requestStream(n){let t=this.clientOptions.httpOptions;n.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const o=this.shouldPrependVertexProjectPath(n),r=this.constructUrl(n.path,t,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let i={};return i.body=n.body,i=await this.includeExtraHttpOptionsToRequestInit(i,t,r.toString(),n.abortSignal),this.streamApiCall(r,i,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,t,o,r){if(t&&t.timeout||r){const i=new AbortController,l=i.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const u=setTimeout(()=>i.abort(),t.timeout);u&&typeof u.unref=="function"&&u.unref()}r&&r.addEventListener("abort",()=>{i.abort()}),n.signal=l}return t&&t.extraBody!==null&&$T(n,t.extraBody),n.headers=await this.getHeadersInternal(t,o),n}async unaryApiCall(n,t,o){return this.apiCall(n.toString(),Object.assign(Object.assign({},t),{method:o})).then(async r=>(await Ad(r),new Gs(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(n,t,o){return this.apiCall(n.toString(),Object.assign(Object.assign({},t),{method:o})).then(async r=>(await Ad(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(n){var t;return Ut(this,arguments,function*(){const r=(t=n==null?void 0:n.body)===null||t===void 0?void 0:t.getReader(),i=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let l="";for(;;){const{done:u,value:d}=yield j(r.read());if(u){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const c=i.decode(d,{stream:!0});try{const p=JSON.parse(c);if("error"in p){const m=JSON.parse(JSON.stringify(p.error)),y=m.status,S=m.code,C=`got status: ${y}. ${JSON.stringify(p)}`;if(S>=400&&S<600)throw new fi({message:C,status:S})}}catch(p){if(p.name==="ApiError")throw p}l+=c;let f=l.match(Id);for(;f;){const p=f[1];try{const m=new Response(p,{headers:n==null?void 0:n.headers,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText});yield yield j(new Gs(m)),l=l.slice(f[0].length),f=l.match(Id)}catch(m){throw new Error(`exception parsing stream chunk ${p}. ${m}`)}}}}finally{r.releaseLock()}})}async apiCall(n,t){return fetch(n,t).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const n={},t=qT+" "+this.clientOptions.userAgentExtra;return n[GT]=t,n[Js]=t,n[FT]="application/json",n}async getHeadersInternal(n,t){const o=new Headers;if(n&&n.headers){for(const[r,i]of Object.entries(n.headers))o.append(r,i);n.timeout&&n.timeout>0&&o.append(VT,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,t),o}getFileName(n){var t;let o="";return typeof n=="string"&&(o=n.replace(/[/\\]+$/,""),o=(t=o.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),o}async uploadFile(n,t){var o;const r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const i=this.clientOptions.uploader,l=await i.stat(n);r.sizeBytes=String(l.size);const u=(o=t==null?void 0:t.mimeType)!==null&&o!==void 0?o:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=u;const d={file:r},c=this.getFileName(n),f=M("upload/v1beta/files",d._url),p=await this.fetchUploadUrl(f,r.sizeBytes,r.mimeType,c,d,t==null?void 0:t.httpOptions);return i.upload(n,p,this)}async uploadFileToFileSearchStore(n,t,o){var r;const i=this.clientOptions.uploader,l=await i.stat(t),u=String(l.size),d=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:l.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const c=`upload/v1beta/${n}:uploadToFileSearchStore`,f=this.getFileName(t),p={};o!=null&&o.customMetadata&&(p.customMetadata=o.customMetadata),o!=null&&o.chunkingConfig&&(p.chunkingConfig=o.chunkingConfig);const m=await this.fetchUploadUrl(c,u,d,f,p,o==null?void 0:o.httpOptions);return i.uploadToFileSearchStore(t,m,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,t,o,r,i,l){var u;let d={};l?d=l:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const c=await this.request({path:n,body:JSON.stringify(i),httpMethod:"POST",httpOptions:d});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(u=c==null?void 0:c.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function Ad(e){var n;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const t=e.status;let o;!((n=e.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?o=await e.json():o={error:{message:await e.text(),code:e.status,status:e.statusText}};const r=JSON.stringify(o);throw t>=400&&t<600?new fi({message:r,status:t}):new Error(r)}}function $T(e,n){if(!n||Object.keys(n).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof e.body=="string"&&e.body.length>0)try{const i=JSON.parse(e.body);if(typeof i=="object"&&i!==null&&!Array.isArray(i))t=i;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(i,l){const u=Object.assign({},i);for(const d in l)if(Object.prototype.hasOwnProperty.call(l,d)){const c=l[d],f=u[d];c&&typeof c=="object"&&!Array.isArray(c)&&f&&typeof f=="object"&&!Array.isArray(f)?u[d]=o(f,c):(f&&c&&typeof f!=typeof c&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof f}, New type: ${typeof c}. Overwriting.`),u[d]=c)}return u}const r=o(t,n);e.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WT="mcp_used/unknown";let OT=!1;function Ip(e){for(const n of e)if(YT(n)||typeof n=="object"&&"inputSchema"in n)return!0;return OT}function Ap(e){var n;const t=(n=e[Js])!==null&&n!==void 0?n:"";e[Js]=(t+` ${WT}`).trimStart()}function YT(e){return e!==null&&typeof e=="object"&&e instanceof Ql}function KT(e,n=100){return Ut(this,arguments,function*(){let o,r=0;for(;r<n;){const i=yield j(e.listTools({cursor:o}));for(const l of i.tools)yield yield j(l),r++;if(!i.nextCursor)break;o=i.nextCursor}})}class Ql{constructor(n=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=t}static create(n,t){return new Ql(n,t)}async initialize(){var n,t,o,r;if(this.mcpTools.length>0)return;const i={},l=[];for(const f of this.mcpClients)try{for(var u=!0,d=(t=void 0,To(KT(f))),c;c=await d.next(),n=c.done,!n;u=!0){r=c.value,u=!1;const p=r;l.push(p);const m=p.name;if(i[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);i[m]=f}}catch(p){t={error:p}}finally{try{!u&&!n&&(o=d.return)&&await o.call(d)}finally{if(t)throw t.error}}this.mcpTools=l,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),qy(this.mcpTools,this.config)}async callTool(n){await this.initialize();const t=[];for(const o of n)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let i;this.config.timeout&&(i={timeout:this.config.timeout});const l=await r.callTool({name:o.name,arguments:o.args},void 0,i);t.push({functionResponse:{name:o.name,response:l.isError?{error:l}:l}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function bT(e,n,t){const o=new My;let r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data),Object.assign(o,r),n(o)}class QT{constructor(n,t,o){this.apiClient=n,this.auth=t,this.webSocketFactory=o}async connect(n){var t,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),l=jT(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),d=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${u}`;let c=()=>{};const f=new Promise(E=>{c=E}),p=n.callbacks,m=function(){c({})},y=this.apiClient,S={onopen:m,onmessage:E=>{bT(y,p.onmessage,E)},onerror:(t=p==null?void 0:p.onerror)!==null&&t!==void 0?t:function(E){},onclose:(o=p==null?void 0:p.onclose)!==null&&o!==void 0?o:function(E){}},C=this.webSocketFactory.create(d,ZT(l),S);C.connect(),await f;const h={setup:{model:$(this.apiClient,n.model)}};return C.send(JSON.stringify(h)),new XT(C,this.apiClient)}}class XT{constructor(n,t){this.conn=n,this.apiClient=t}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=V0(n);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const t=F0(n);this.conn.send(JSON.stringify(t))}sendPlaybackControl(n){const t={playbackControl:n};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(At.PLAY)}pause(){this.sendPlaybackControl(At.PAUSE)}stop(){this.sendPlaybackControl(At.STOP)}resetContext(){this.sendPlaybackControl(At.RESET_CONTEXT)}close(){this.conn.close()}}function ZT(e){const n={};return e.forEach((t,o)=>{n[o]=t}),n}function jT(e){const n=new Headers;for(const[t,o]of Object.entries(e))n.append(t,o);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eS="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function nS(e,n,t){const o=new ky;let r;t.data instanceof Blob?r=await t.data.text():t.data instanceof ArrayBuffer?r=new TextDecoder().decode(t.data):r=t.data;const i=JSON.parse(r);if(e.isVertexAI()){const l=q0(i);Object.assign(o,l)}else Object.assign(o,i);n(o)}class tS{constructor(n,t,o){this.apiClient=n,this.auth=t,this.webSocketFactory=o,this.music=new QT(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var t,o,r,i,l,u;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion();let f;const p=this.apiClient.getHeaders();n.config&&n.config.tools&&Ip(n.config.tools)&&Ap(p);const m=sS(p);if(this.apiClient.isVertexAI())f=`${d}/ws/google.cloud.aiplatform.${c}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m,f);else{const A=this.apiClient.getApiKey();let N="BidiGenerateContent",F="key";A!=null&&A.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),c!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),N="BidiGenerateContentConstrained",F="access_token"),f=`${d}/ws/google.ai.generativelanguage.${c}.GenerativeService.${N}?${F}=${A}`}let y=()=>{};const S=new Promise(A=>{y=A}),C=n.callbacks,I=function(){var A;(A=C==null?void 0:C.onopen)===null||A===void 0||A.call(C),y({})},v=this.apiClient,h={onopen:I,onmessage:A=>{nS(v,C.onmessage,A)},onerror:(t=C==null?void 0:C.onerror)!==null&&t!==void 0?t:function(A){},onclose:(o=C==null?void 0:C.onclose)!==null&&o!==void 0?o:function(A){}},E=this.webSocketFactory.create(f,iS(m),h);E.connect(),await S;let T=$(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const A=this.apiClient.getProject(),N=this.apiClient.getLocation();T=`projects/${A}/locations/${N}/`+T}let _={};this.apiClient.isVertexAI()&&((r=n.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[Go.AUDIO]}:n.config.responseModalities=[Go.AUDIO]),!((i=n.config)===null||i===void 0)&&i.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const x=(u=(l=n.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],w=[];for(const A of x)if(this.isCallableTool(A)){const N=A;w.push(await N.tool())}else w.push(A);w.length>0&&(n.config.tools=w);const R={model:T,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?_=U0(this.apiClient,R):_=L0(this.apiClient,R),delete _.config,E.send(JSON.stringify(_)),new rS(E,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const oS={turnComplete:!0};class rS{constructor(n,t){this.conn=n,this.apiClient=t}tLiveClientContent(n,t){if(t.turns!==null&&t.turns!==void 0){let o=[];try{o=Ye(t.turns),n.isVertexAI()||(o=o.map(r=>pi(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:o,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(n,t){let o=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?o=t.functionResponses:o=[t.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const i of o){if(typeof i!="object"||i===null||!("name"in i)||!("response"in i))throw new Error(`Could not parse function response, type '${typeof i}'.`);if(!n.isVertexAI()&&!("id"in i))throw new Error(eS)}return{toolResponse:{functionResponses:o}}}sendClientContent(n){n=Object.assign(Object.assign({},oS),n);const t=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(t))}sendRealtimeInput(n){let t={};this.apiClient.isVertexAI()?t={realtimeInput:H0(n)}:t={realtimeInput:G0(n)},this.conn.send(JSON.stringify(t))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function iS(e){const n={};return e.forEach((t,o)=>{n[o]=t}),n}function sS(e){const n=new Headers;for(const[t,o]of Object.entries(e))n.append(t,o);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nd=10;function Rd(e){var n,t,o;if(!((n=e==null?void 0:e.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let r=!1;for(const l of(t=e==null?void 0:e.tools)!==null&&t!==void 0?t:[])if(Ft(l)){r=!0;break}if(!r)return!0;const i=(o=e==null?void 0:e.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return i&&(i<0||!Number.isInteger(i))||i==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0):!1}function Ft(e){return"callTool"in e&&typeof e.callTool=="function"}function lS(e){var n,t,o;return(o=(t=(n=e.config)===null||n===void 0?void 0:n.tools)===null||t===void 0?void 0:t.some(r=>Ft(r)))!==null&&o!==void 0?o:!1}function Pd(e){var n;const t=[];return!((n=e==null?void 0:e.config)===null||n===void 0)&&n.tools&&e.config.tools.forEach((o,r)=>{if(Ft(o))return;const i=o;i.functionDeclarations&&i.functionDeclarations.length>0&&t.push(r)}),t}function kd(e){var n;return!(!((n=e==null?void 0:e.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aS extends Nn{constructor(n){super(),this.apiClient=n,this.generateContent=async t=>{var o,r,i,l,u;const d=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!lS(t)||Rd(t.config))return await this.generateContentInternal(d);const c=Pd(t);if(c.length>0){const C=c.map(I=>`tools[${I}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let f,p;const m=Ye(d.contents),y=(i=(r=(o=d.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:Nd;let S=0;for(;S<y&&(f=await this.generateContentInternal(d),!(!f.functionCalls||f.functionCalls.length===0));){const C=f.candidates[0].content,I=[];for(const v of(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Ft(v)){const E=await v.callTool(f.functionCalls);I.push(...E)}S++,p={role:"user",parts:I},d.contents=Ye(d.contents),d.contents.push(C),d.contents.push(p),kd(d.config)&&(m.push(C),m.push(p))}return kd(d.config)&&(f.automaticFunctionCallingHistory=m),f},this.generateContentStream=async t=>{var o,r,i,l,u;if(this.maybeMoveToResponseJsonSchem(t),Rd(t.config)){const p=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(p)}const d=Pd(t);if(d.length>0){const p=d.map(m=>`tools[${m}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const c=(i=(r=(o=t==null?void 0:t.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||i===void 0?void 0:i.streamFunctionCallArguments,f=(u=(l=t==null?void 0:t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(c&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(o=>{var r;let i;const l=[];if(o!=null&&o.generatedImages)for(const d of o.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((r=d==null?void 0:d.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?i=d==null?void 0:d.safetyAttributes:l.push(d);let u;return i?u={generatedImages:l,positivePromptSafetyAttributes:i,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async t=>{var o;const l={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((o=l.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new pt(xn.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async t=>{const o={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(o.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async t=>{let o={numberOfImages:1,mode:"upscale"};t.config&&(o=Object.assign(Object.assign({},o),t.config));const r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async t=>{var o,r,i,l,u,d;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=t.video)===null||o===void 0)&&o.uri&&(!((r=t.video)===null||r===void 0)&&r.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((l=(i=t.source)===null||i===void 0?void 0:i.video)===null||l===void 0)&&l.uri&&(!((d=(u=t.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var t,o,r;const i=(t=n.config)===null||t===void 0?void 0:t.tools;if(!i)return n;const l=await Promise.all(i.map(async d=>Ft(d)?await d.tool():d)),u={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:l})};if(u.config.tools=l,n.config&&n.config.tools&&Ip(n.config.tools)){const d=(r=(o=n.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let c=Object.assign({},d);Object.keys(c).length===0&&(c=this.apiClient.getDefaultHeaders()),Ap(c),u.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:c})}return u}async initAfcToolsMap(n){var t,o,r;const i=new Map;for(const l of(o=(t=n.config)===null||t===void 0?void 0:t.tools)!==null&&o!==void 0?o:[])if(Ft(l)){const u=l,d=await u.tool();for(const c of(r=d.functionDeclarations)!==null&&r!==void 0?r:[]){if(!c.name)throw new Error("Function declaration name is required.");if(i.has(c.name))throw new Error(`Duplicate tool declaration name: ${c.name}`);i.set(c.name,u)}}return i}async processAfcStream(n){var t,o,r;const i=(r=(o=(t=n.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:Nd;let l=!1,u=0;const d=await this.initAfcToolsMap(n);return function(c,f,p){var m,y;return Ut(this,arguments,function*(){for(var S,C,I,v;u<i;){l&&(u++,l=!1);const _=yield j(c.processParamsMaybeAddMcpUsage(p)),x=yield j(c.generateContentStreamInternal(_)),w=[],R=[];try{for(var h=!0,E=(C=void 0,To(x)),T;T=yield j(E.next()),S=T.done,!S;h=!0){v=T.value,h=!1;const A=v;if(yield yield j(A),A.candidates&&(!((m=A.candidates[0])===null||m===void 0)&&m.content)){R.push(A.candidates[0].content);for(const N of(y=A.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(u<i&&N.functionCall){if(!N.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(N.functionCall.name)){const F=yield j(f.get(N.functionCall.name).callTool([N.functionCall]));w.push(...F)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${N.functionCall.name}`)}}}}catch(A){C={error:A}}finally{try{!h&&!S&&(I=E.return)&&(yield j(I.call(E)))}finally{if(C)throw C.error}}if(w.length>0){l=!0;const A=new io;A.candidates=[{content:{role:"user",parts:w}}],yield yield j(A);const N=[];N.push(...R),N.push({role:"user",parts:w});const F=Ye(p.contents).concat(N);p.contents=F}else break}})}(this,d,n)}async generateContentInternal(n){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=_d(this.apiClient,n);return u=M("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=xd(f),m=new io;return Object.assign(m,p),m})}else{const c=Cd(this.apiClient,n);return u=M("{model}:generateContent",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=wd(f),m=new io;return Object.assign(m,p),m})}}async generateContentStreamInternal(n){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=_d(this.apiClient,n);return u=M("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(p){return Ut(this,arguments,function*(){var m,y,S,C;try{for(var I=!0,v=To(p),h;h=yield j(v.next()),m=h.done,!m;I=!0){C=h.value,I=!1;const E=C,T=xd(yield j(E.json()));T.sdkHttpResponse={headers:E.headers};const _=new io;Object.assign(_,T),yield yield j(_)}}catch(E){y={error:E}}finally{try{!I&&!m&&(S=v.return)&&(yield j(S.call(v)))}finally{if(y)throw y.error}}})})}else{const c=Cd(this.apiClient,n);return u=M("{model}:streamGenerateContent?alt=sse",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.requestStream({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}),l.then(function(p){return Ut(this,arguments,function*(){var m,y,S,C;try{for(var I=!0,v=To(p),h;h=yield j(v.next()),m=h.done,!m;I=!0){C=h.value,I=!1;const E=C,T=wd(yield j(E.json()));T.sdkHttpResponse={headers:E.headers};const _=new io;Object.assign(_,T),yield yield j(_)}}catch(E){y={error:E}}finally{try{!I&&!m&&(S=v.return)&&(yield j(S.call(v)))}finally{if(y)throw y.error}}})})}}async embedContent(n){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=gE(this.apiClient,n);return u=M("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=vE(f),m=new sd;return Object.assign(m,p),m})}else{const c=hE(this.apiClient,n);return u=M("{model}:batchEmbedContents",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=yE(f),m=new sd;return Object.assign(m,p),m})}}async generateImagesInternal(n){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=RE(this.apiClient,n);return u=M("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=kE(f),m=new ld;return Object.assign(m,p),m})}else{const c=NE(this.apiClient,n);return u=M("{model}:predict",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=PE(f),m=new ld;return Object.assign(m,p),m})}}async editImageInternal(n){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=cE(this.apiClient,n);return i=M("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=fE(d),f=new Ty;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=RT(this.apiClient,n);return i=M("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=PT(d),f=new Sy;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=dT(this.apiClient,n);return i=M("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=cT(d),f=new Cy;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=yT(this.apiClient,n);return i=M("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=vT(d),f=new _y;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=KE(this.apiClient,n);return u=M("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>zs(f))}else{const c=YE(this.apiClient,n);return u=M("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Bs(f))}}async listInternal(n){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=oT(this.apiClient,n);return u=M("{models_url}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=iT(f),m=new ad;return Object.assign(m,p),m})}else{const c=tT(this.apiClient,n);return u=M("{models_url}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=rT(f),m=new ad;return Object.assign(m,p),m})}}async update(n){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=AT(this.apiClient,n);return u=M("{model}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>zs(f))}else{const c=IT(this.apiClient,n);return u=M("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"PATCH",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>Bs(f))}}async delete(n){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=lE(this.apiClient,n);return u=M("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=uE(f),m=new ud;return Object.assign(m,p),m})}else{const c=sE(this.apiClient,n);return u=M("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=aE(f),m=new ud;return Object.assign(m,p),m})}}async countTokens(n){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=oE(this.apiClient,n);return u=M("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=iE(f),m=new dd;return Object.assign(m,p),m})}else{const c=tE(this.apiClient,n);return u=M("{model}:countTokens",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=rE(f),m=new dd;return Object.assign(m,p),m})}}async computeTokens(n){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=b0(this.apiClient,n);return i=M("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>{const c=Q0(d),f=new wy;return Object.assign(f,c),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=VE(this.apiClient,n);return u=M("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>{const p=UE(f),m=new Yr;return Object.assign(m,p),m})}else{const c=FE(this.apiClient,n);return u=M("{model}:predictLongRunning",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>{const p=LE(f),m=new Yr;return Object.assign(m,p),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uS extends Nn{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const t=n.operation,o=n.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:i}});return t._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:o});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(n){const t=n.operation,o=n.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let i;o&&"httpOptions"in o&&(i=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:i}});return t._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:o});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(n){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=my(n);return u=M("{operationName}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l}else{const c=py(n);return u=M("{operationName}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(n){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=sy(n);return i=M("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dS(e){const n={},t=s(e,["data"]);if(t!=null&&a(n,["data"],t),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function cS(e){const n={},t=s(e,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(i=>TS(i))),a(n,["parts"],r)}const o=s(e,["role"]);return o!=null&&a(n,["role"],o),n}function fS(e,n,t){const o={},r=s(n,["expireTime"]);t!==void 0&&r!=null&&a(t,["expireTime"],r);const i=s(n,["newSessionExpireTime"]);t!==void 0&&i!=null&&a(t,["newSessionExpireTime"],i);const l=s(n,["uses"]);t!==void 0&&l!=null&&a(t,["uses"],l);const u=s(n,["liveConnectConstraints"]);t!==void 0&&u!=null&&a(t,["bidiGenerateContentSetup"],ES(e,u));const d=s(n,["lockAdditionalFields"]);return t!==void 0&&d!=null&&a(t,["fieldMask"],d),o}function pS(e,n){const t={},o=s(n,["config"]);return o!=null&&a(t,["config"],fS(e,o,t)),t}function mS(e){const n={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(e,["fileUri"]);t!=null&&a(n,["fileUri"],t);const o=s(e,["mimeType"]);return o!=null&&a(n,["mimeType"],o),n}function hS(e){const n={},t=s(e,["id"]);t!=null&&a(n,["id"],t);const o=s(e,["args"]);o!=null&&a(n,["args"],o);const r=s(e,["name"]);if(r!=null&&a(n,["name"],r),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function gS(e){const n={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(e,["enableWidget"]);return t!=null&&a(n,["enableWidget"],t),n}function yS(e){const n={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=s(e,["timeRangeFilter"]);return t!=null&&a(n,["timeRangeFilter"],t),n}function vS(e,n){const t={},o=s(e,["generationConfig"]);n!==void 0&&o!=null&&a(n,["setup","generationConfig"],o);const r=s(e,["responseModalities"]);n!==void 0&&r!=null&&a(n,["setup","generationConfig","responseModalities"],r);const i=s(e,["temperature"]);n!==void 0&&i!=null&&a(n,["setup","generationConfig","temperature"],i);const l=s(e,["topP"]);n!==void 0&&l!=null&&a(n,["setup","generationConfig","topP"],l);const u=s(e,["topK"]);n!==void 0&&u!=null&&a(n,["setup","generationConfig","topK"],u);const d=s(e,["maxOutputTokens"]);n!==void 0&&d!=null&&a(n,["setup","generationConfig","maxOutputTokens"],d);const c=s(e,["mediaResolution"]);n!==void 0&&c!=null&&a(n,["setup","generationConfig","mediaResolution"],c);const f=s(e,["seed"]);n!==void 0&&f!=null&&a(n,["setup","generationConfig","seed"],f);const p=s(e,["speechConfig"]);n!==void 0&&p!=null&&a(n,["setup","generationConfig","speechConfig"],bl(p));const m=s(e,["thinkingConfig"]);n!==void 0&&m!=null&&a(n,["setup","generationConfig","thinkingConfig"],m);const y=s(e,["enableAffectiveDialog"]);n!==void 0&&y!=null&&a(n,["setup","generationConfig","enableAffectiveDialog"],y);const S=s(e,["systemInstruction"]);n!==void 0&&S!=null&&a(n,["setup","systemInstruction"],cS(we(S)));const C=s(e,["tools"]);if(n!==void 0&&C!=null){let x=bt(C);Array.isArray(x)&&(x=x.map(w=>CS(Kt(w)))),a(n,["setup","tools"],x)}const I=s(e,["sessionResumption"]);n!==void 0&&I!=null&&a(n,["setup","sessionResumption"],SS(I));const v=s(e,["inputAudioTranscription"]);n!==void 0&&v!=null&&a(n,["setup","inputAudioTranscription"],v);const h=s(e,["outputAudioTranscription"]);n!==void 0&&h!=null&&a(n,["setup","outputAudioTranscription"],h);const E=s(e,["realtimeInputConfig"]);n!==void 0&&E!=null&&a(n,["setup","realtimeInputConfig"],E);const T=s(e,["contextWindowCompression"]);n!==void 0&&T!=null&&a(n,["setup","contextWindowCompression"],T);const _=s(e,["proactivity"]);return n!==void 0&&_!=null&&a(n,["setup","proactivity"],_),t}function ES(e,n){const t={},o=s(n,["model"]);o!=null&&a(t,["setup","model"],$(e,o));const r=s(n,["config"]);return r!=null&&a(t,["config"],vS(r,t)),t}function TS(e){const n={},t=s(e,["mediaResolution"]);t!=null&&a(n,["mediaResolution"],t);const o=s(e,["codeExecutionResult"]);o!=null&&a(n,["codeExecutionResult"],o);const r=s(e,["executableCode"]);r!=null&&a(n,["executableCode"],r);const i=s(e,["fileData"]);i!=null&&a(n,["fileData"],mS(i));const l=s(e,["functionCall"]);l!=null&&a(n,["functionCall"],hS(l));const u=s(e,["functionResponse"]);u!=null&&a(n,["functionResponse"],u);const d=s(e,["inlineData"]);d!=null&&a(n,["inlineData"],dS(d));const c=s(e,["text"]);c!=null&&a(n,["text"],c);const f=s(e,["thought"]);f!=null&&a(n,["thought"],f);const p=s(e,["thoughtSignature"]);p!=null&&a(n,["thoughtSignature"],p);const m=s(e,["videoMetadata"]);return m!=null&&a(n,["videoMetadata"],m),n}function SS(e){const n={},t=s(e,["handle"]);if(t!=null&&a(n,["handle"],t),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function CS(e){const n={},t=s(e,["functionDeclarations"]);if(t!=null){let f=t;Array.isArray(f)&&(f=f.map(p=>p)),a(n,["functionDeclarations"],f)}if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(e,["googleSearchRetrieval"]);o!=null&&a(n,["googleSearchRetrieval"],o);const r=s(e,["computerUse"]);r!=null&&a(n,["computerUse"],r);const i=s(e,["fileSearch"]);i!=null&&a(n,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&a(n,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=s(e,["googleMaps"]);u!=null&&a(n,["googleMaps"],gS(u));const d=s(e,["googleSearch"]);d!=null&&a(n,["googleSearch"],yS(d));const c=s(e,["urlContext"]);return c!=null&&a(n,["urlContext"],c),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _S(e){const n=[];for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const o=e[t];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(i=>`${t}.${i}`);n.push(...r)}else n.push(t)}return n.join(",")}function wS(e,n){let t=null;const o=e.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const i=o.setup;typeof i=="object"&&i!==null?(e.bidiGenerateContentSetup=i,t=i):delete e.bidiGenerateContentSetup}else o!==void 0&&delete e.bidiGenerateContentSetup;const r=e.fieldMask;if(t){const i=_S(t);if(Array.isArray(n==null?void 0:n.lockAdditionalFields)&&(n==null?void 0:n.lockAdditionalFields.length)===0)i?e.fieldMask=i:delete e.fieldMask;else if(n!=null&&n.lockAdditionalFields&&n.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];r.length>0&&(u=r.map(c=>l.includes(c)?`generationConfig.${c}`:c));const d=[];i&&d.push(i),u.length>0&&d.push(...u),d.length>0?e.fieldMask=d.join(","):delete e.fieldMask}else delete e.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?e.fieldMask=r.join(","):delete e.fieldMask;return e}class xS extends Nn{constructor(n){super(),this.apiClient=n}async create(n){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=pS(this.apiClient,n);i=M("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const d=wS(u,n.config);return r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),r.then(c=>c)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IS(e,n){const t={},o=s(e,["displayName"]);return n!==void 0&&o!=null&&a(n,["displayName"],o),t}function AS(e){const n={},t=s(e,["config"]);return t!=null&&IS(t,n),n}function NS(e,n){const t={},o=s(e,["force"]);return n!==void 0&&o!=null&&a(n,["_query","force"],o),t}function RS(e){const n={},t=s(e,["name"]);t!=null&&a(n,["_url","name"],t);const o=s(e,["config"]);return o!=null&&NS(o,n),n}function PS(e){const n={},t=s(e,["name"]);return t!=null&&a(n,["_url","name"],t),n}function kS(e,n){const t={},o=s(e,["customMetadata"]);if(n!==void 0&&o!=null){let i=o;Array.isArray(i)&&(i=i.map(l=>l)),a(n,["customMetadata"],i)}const r=s(e,["chunkingConfig"]);return n!==void 0&&r!=null&&a(n,["chunkingConfig"],r),t}function MS(e){const n={},t=s(e,["name"]);t!=null&&a(n,["name"],t);const o=s(e,["metadata"]);o!=null&&a(n,["metadata"],o);const r=s(e,["done"]);r!=null&&a(n,["done"],r);const i=s(e,["error"]);i!=null&&a(n,["error"],i);const l=s(e,["response"]);return l!=null&&a(n,["response"],LS(l)),n}function DS(e){const n={},t=s(e,["fileSearchStoreName"]);t!=null&&a(n,["_url","file_search_store_name"],t);const o=s(e,["fileName"]);o!=null&&a(n,["fileName"],o);const r=s(e,["config"]);return r!=null&&kS(r,n),n}function LS(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const o=s(e,["parent"]);o!=null&&a(n,["parent"],o);const r=s(e,["documentName"]);return r!=null&&a(n,["documentName"],r),n}function US(e,n){const t={},o=s(e,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const r=s(e,["pageToken"]);return n!==void 0&&r!=null&&a(n,["_query","pageToken"],r),t}function FS(e){const n={},t=s(e,["config"]);return t!=null&&US(t,n),n}function VS(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const o=s(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const r=s(e,["fileSearchStores"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(n,["fileSearchStores"],i)}return n}function GS(e,n){const t={},o=s(e,["mimeType"]);n!==void 0&&o!=null&&a(n,["mimeType"],o);const r=s(e,["displayName"]);n!==void 0&&r!=null&&a(n,["displayName"],r);const i=s(e,["customMetadata"]);if(n!==void 0&&i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>d)),a(n,["customMetadata"],u)}const l=s(e,["chunkingConfig"]);return n!==void 0&&l!=null&&a(n,["chunkingConfig"],l),t}function HS(e){const n={},t=s(e,["fileSearchStoreName"]);t!=null&&a(n,["_url","file_search_store_name"],t);const o=s(e,["config"]);return o!=null&&GS(o,n),n}function qS(e){const n={},t=s(e,["sdkHttpResponse"]);return t!=null&&a(n,["sdkHttpResponse"],t),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BS(e,n){const t={},o=s(e,["force"]);return n!==void 0&&o!=null&&a(n,["_query","force"],o),t}function zS(e){const n={},t=s(e,["name"]);t!=null&&a(n,["_url","name"],t);const o=s(e,["config"]);return o!=null&&BS(o,n),n}function JS(e){const n={},t=s(e,["name"]);return t!=null&&a(n,["_url","name"],t),n}function $S(e,n){const t={},o=s(e,["pageSize"]);n!==void 0&&o!=null&&a(n,["_query","pageSize"],o);const r=s(e,["pageToken"]);return n!==void 0&&r!=null&&a(n,["_query","pageToken"],r),t}function WS(e){const n={},t=s(e,["parent"]);t!=null&&a(n,["_url","parent"],t);const o=s(e,["config"]);return o!=null&&$S(o,n),n}function OS(e){const n={},t=s(e,["sdkHttpResponse"]);t!=null&&a(n,["sdkHttpResponse"],t);const o=s(e,["nextPageToken"]);o!=null&&a(n,["nextPageToken"],o);const r=s(e,["documents"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(l=>l)),a(n,["documents"],i)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YS extends Nn{constructor(n){super(),this.apiClient=n,this.list=async t=>new pt(xn.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:t.parent,config:o.config}),await this.listInternal(t),t)}async get(n){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=JS(n);return i=M("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(n){var t,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=zS(n);r=M("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(n){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=WS(n);return i=M("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=OS(d),f=new xy;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KS extends Nn{constructor(n,t=new YS(n)){super(),this.apiClient=n,this.documents=t,this.list=async(o={})=>new pt(xn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(n.fileSearchStoreName,n.file,n.config)}async create(n){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=AS(n);return i=M("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async get(n){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=PS(n);return i=M("{name}",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>d)}}async delete(n){var t,o;let r="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=RS(n);r=M("{name}",l._url),i=l._query,delete l._url,delete l._query,await this.apiClient.request({path:r,queryParams:i,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(n){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=FS(n);return i=M("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=VS(d),f=new Iy;return Object.assign(f,c),f})}}async uploadToFileSearchStoreInternal(n){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=HS(n);return i=M("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=qS(d),f=new Ay;return Object.assign(f,c),f})}}async importFile(n){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=DS(n);return i=M("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const c=MS(d),f=new $l;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bS(e,n){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],o),t}function QS(e,n){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],o),t}function XS(e,n,t){const o={};if(s(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=s(e,["tunedModelDisplayName"]);if(n!==void 0&&r!=null&&a(n,["displayName"],r),s(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=s(e,["epochCount"]);n!==void 0&&i!=null&&a(n,["tuningTask","hyperparameters","epochCount"],i);const l=s(e,["learningRateMultiplier"]);if(l!=null&&a(o,["tuningTask","hyperparameters","learningRateMultiplier"],l),s(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=s(e,["batchSize"]);n!==void 0&&u!=null&&a(n,["tuningTask","hyperparameters","batchSize"],u);const d=s(e,["learningRate"]);if(n!==void 0&&d!=null&&a(n,["tuningTask","hyperparameters","learningRate"],d),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(s(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function ZS(e,n,t){const o={};let r=s(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const y=s(e,["validationDataset"]);n!==void 0&&y!=null&&a(n,["supervisedTuningSpec"],Md(y))}else if(r==="PREFERENCE_TUNING"){const y=s(e,["validationDataset"]);n!==void 0&&y!=null&&a(n,["preferenceOptimizationSpec"],Md(y))}const i=s(e,["tunedModelDisplayName"]);n!==void 0&&i!=null&&a(n,["tunedModelDisplayName"],i);const l=s(e,["description"]);n!==void 0&&l!=null&&a(n,["description"],l);let u=s(t,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const y=s(e,["epochCount"]);n!==void 0&&y!=null&&a(n,["supervisedTuningSpec","hyperParameters","epochCount"],y)}else if(u==="PREFERENCE_TUNING"){const y=s(e,["epochCount"]);n!==void 0&&y!=null&&a(n,["preferenceOptimizationSpec","hyperParameters","epochCount"],y)}let d=s(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const y=s(e,["learningRateMultiplier"]);n!==void 0&&y!=null&&a(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y)}else if(d==="PREFERENCE_TUNING"){const y=s(e,["learningRateMultiplier"]);n!==void 0&&y!=null&&a(n,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],y)}let c=s(t,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const y=s(e,["exportLastCheckpointOnly"]);n!==void 0&&y!=null&&a(n,["supervisedTuningSpec","exportLastCheckpointOnly"],y)}else if(c==="PREFERENCE_TUNING"){const y=s(e,["exportLastCheckpointOnly"]);n!==void 0&&y!=null&&a(n,["preferenceOptimizationSpec","exportLastCheckpointOnly"],y)}let f=s(t,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const y=s(e,["adapterSize"]);n!==void 0&&y!=null&&a(n,["supervisedTuningSpec","hyperParameters","adapterSize"],y)}else if(f==="PREFERENCE_TUNING"){const y=s(e,["adapterSize"]);n!==void 0&&y!=null&&a(n,["preferenceOptimizationSpec","hyperParameters","adapterSize"],y)}if(s(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=s(e,["labels"]);n!==void 0&&p!=null&&a(n,["labels"],p);const m=s(e,["beta"]);return n!==void 0&&m!=null&&a(n,["preferenceOptimizationSpec","hyperParameters","beta"],m),o}function jS(e,n){const t={},o=s(e,["baseModel"]);o!=null&&a(t,["baseModel"],o);const r=s(e,["preTunedModel"]);r!=null&&a(t,["preTunedModel"],r);const i=s(e,["trainingDataset"]);i!=null&&dC(i);const l=s(e,["config"]);return l!=null&&XS(l,t),t}function eC(e,n){const t={},o=s(e,["baseModel"]);o!=null&&a(t,["baseModel"],o);const r=s(e,["preTunedModel"]);r!=null&&a(t,["preTunedModel"],r);const i=s(e,["trainingDataset"]);i!=null&&cC(i,t,n);const l=s(e,["config"]);return l!=null&&ZS(l,t,n),t}function nC(e,n){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],o),t}function tC(e,n){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],o),t}function oC(e,n,t){const o={},r=s(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=s(e,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const l=s(e,["filter"]);return n!==void 0&&l!=null&&a(n,["_query","filter"],l),o}function rC(e,n,t){const o={},r=s(e,["pageSize"]);n!==void 0&&r!=null&&a(n,["_query","pageSize"],r);const i=s(e,["pageToken"]);n!==void 0&&i!=null&&a(n,["_query","pageToken"],i);const l=s(e,["filter"]);return n!==void 0&&l!=null&&a(n,["_query","filter"],l),o}function iC(e,n){const t={},o=s(e,["config"]);return o!=null&&oC(o,t),t}function sC(e,n){const t={},o=s(e,["config"]);return o!=null&&rC(o,t),t}function lC(e,n){const t={},o=s(e,["sdkHttpResponse"]);o!=null&&a(t,["sdkHttpResponse"],o);const r=s(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const i=s(e,["tunedModels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>Np(u))),a(t,["tuningJobs"],l)}return t}function aC(e,n){const t={},o=s(e,["sdkHttpResponse"]);o!=null&&a(t,["sdkHttpResponse"],o);const r=s(e,["nextPageToken"]);r!=null&&a(t,["nextPageToken"],r);const i=s(e,["tuningJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>$s(u))),a(t,["tuningJobs"],l)}return t}function uC(e,n){const t={},o=s(e,["name"]);o!=null&&a(t,["model"],o);const r=s(e,["name"]);return r!=null&&a(t,["endpoint"],r),t}function dC(e,n){const t={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(e,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(i=>i)),a(t,["examples","examples"],r)}return t}function cC(e,n,t){const o={};let r=s(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const l=s(e,["gcsUri"]);n!==void 0&&l!=null&&a(n,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(r==="PREFERENCE_TUNING"){const l=s(e,["gcsUri"]);n!==void 0&&l!=null&&a(n,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let i=s(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=s(e,["vertexDatasetResource"]);n!==void 0&&l!=null&&a(n,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=s(e,["vertexDatasetResource"]);n!==void 0&&l!=null&&a(n,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(s(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Np(e,n){const t={},o=s(e,["sdkHttpResponse"]);o!=null&&a(t,["sdkHttpResponse"],o);const r=s(e,["name"]);r!=null&&a(t,["name"],r);const i=s(e,["state"]);i!=null&&a(t,["state"],up(i));const l=s(e,["createTime"]);l!=null&&a(t,["createTime"],l);const u=s(e,["tuningTask","startTime"]);u!=null&&a(t,["startTime"],u);const d=s(e,["tuningTask","completeTime"]);d!=null&&a(t,["endTime"],d);const c=s(e,["updateTime"]);c!=null&&a(t,["updateTime"],c);const f=s(e,["description"]);f!=null&&a(t,["description"],f);const p=s(e,["baseModel"]);p!=null&&a(t,["baseModel"],p);const m=s(e,["_self"]);return m!=null&&a(t,["tunedModel"],uC(m)),t}function $s(e,n){const t={},o=s(e,["sdkHttpResponse"]);o!=null&&a(t,["sdkHttpResponse"],o);const r=s(e,["name"]);r!=null&&a(t,["name"],r);const i=s(e,["state"]);i!=null&&a(t,["state"],up(i));const l=s(e,["createTime"]);l!=null&&a(t,["createTime"],l);const u=s(e,["startTime"]);u!=null&&a(t,["startTime"],u);const d=s(e,["endTime"]);d!=null&&a(t,["endTime"],d);const c=s(e,["updateTime"]);c!=null&&a(t,["updateTime"],c);const f=s(e,["error"]);f!=null&&a(t,["error"],f);const p=s(e,["description"]);p!=null&&a(t,["description"],p);const m=s(e,["baseModel"]);m!=null&&a(t,["baseModel"],m);const y=s(e,["tunedModel"]);y!=null&&a(t,["tunedModel"],y);const S=s(e,["preTunedModel"]);S!=null&&a(t,["preTunedModel"],S);const C=s(e,["supervisedTuningSpec"]);C!=null&&a(t,["supervisedTuningSpec"],C);const I=s(e,["preferenceOptimizationSpec"]);I!=null&&a(t,["preferenceOptimizationSpec"],I);const v=s(e,["tuningDataStats"]);v!=null&&a(t,["tuningDataStats"],v);const h=s(e,["encryptionSpec"]);h!=null&&a(t,["encryptionSpec"],h);const E=s(e,["partnerModelTuningSpec"]);E!=null&&a(t,["partnerModelTuningSpec"],E);const T=s(e,["customBaseModel"]);T!=null&&a(t,["customBaseModel"],T);const _=s(e,["experiment"]);_!=null&&a(t,["experiment"],_);const x=s(e,["labels"]);x!=null&&a(t,["labels"],x);const w=s(e,["outputUri"]);w!=null&&a(t,["outputUri"],w);const R=s(e,["pipelineJob"]);R!=null&&a(t,["pipelineJob"],R);const A=s(e,["serviceAccount"]);A!=null&&a(t,["serviceAccount"],A);const N=s(e,["tunedModelDisplayName"]);N!=null&&a(t,["tunedModelDisplayName"],N);const F=s(e,["veoTuningSpec"]);return F!=null&&a(t,["veoTuningSpec"],F),t}function fC(e,n){const t={},o=s(e,["sdkHttpResponse"]);o!=null&&a(t,["sdkHttpResponse"],o);const r=s(e,["name"]);r!=null&&a(t,["name"],r);const i=s(e,["metadata"]);i!=null&&a(t,["metadata"],i);const l=s(e,["done"]);l!=null&&a(t,["done"],l);const u=s(e,["error"]);return u!=null&&a(t,["error"],u),t}function Md(e,n){const t={},o=s(e,["gcsUri"]);o!=null&&a(t,["validationDatasetUri"],o);const r=s(e,["vertexDatasetResource"]);return r!=null&&a(t,["validationDatasetUri"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pC extends Nn{constructor(n){super(),this.apiClient=n,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new pt(xn.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(t),t),this.tune=async t=>{var o;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const r={tunedModelName:t.baseModel};!((o=t.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=t.config.preTunedModelCheckpointId);const i=Object.assign(Object.assign({},t),{preTunedModel:r});return i.baseModel=void 0,await this.tuneInternal(i)}else{const r=Object.assign({},t);return await this.tuneInternal(r)}else{const r=Object.assign({},t),i=await this.tuneMldevInternal(r);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:Vs.JOB_STATE_QUEUED}}}}async getInternal(n){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=tC(n);return u=M("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>$s(f))}else{const c=nC(n);return u=M("{name}",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>Np(f))}}async listInternal(n){var t,o,r,i;let l,u="",d={};if(this.apiClient.isVertexAI()){const c=sC(n);return u=M("tuningJobs",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=aC(f),m=new cd;return Object.assign(m,p),m})}else{const c=iC(n);return u=M("tunedModels",c._url),d=c._query,delete c._url,delete c._query,l=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(c),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),l.then(f=>{const p=lC(f),m=new cd;return Object.assign(m,p),m})}}async cancel(n){var t,o,r,i;let l="",u={};if(this.apiClient.isVertexAI()){const d=QS(n);l=M("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal})}else{const d=bS(n);l=M("{name}:cancel",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(i=n.config)===null||i===void 0?void 0:i.abortSignal})}}async tuneInternal(n){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI()){const u=eC(n,n);return i=M("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>$s(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var t,o;let r,i="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=jS(n);return i=M("tunedModels",u._url),l=u._query,delete u._url,delete u._query,r=this.apiClient.request({path:i,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=n.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=n.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json().then(c=>{const f=c;return f.sdkHttpResponse={headers:d.headers},f})),r.then(d=>fC(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mC{async download(n,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const hC=1024*1024*8,gC=3,yC=1e3,vC=2,br="x-goog-upload-status";async function EC(e,n,t){var o;const r=await Rp(e,n,t),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[br])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return i.file}async function TC(e,n,t){var o;const r=await Rp(e,n,t),i=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[br])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=op(i),u=new Wl;return Object.assign(u,l),u}async function Rp(e,n,t){var o,r;let i=0,l=0,u=new Gs(new Response),d="upload";for(i=e.size;l<i;){const c=Math.min(hC,i-l),f=e.slice(l,l+c);l+c>=i&&(d+=", finalize");let p=0,m=yC;for(;p<gC&&(u=await t.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(l),"Content-Length":String(c)}}}),!(!((o=u==null?void 0:u.headers)===null||o===void 0)&&o[br]));)p++,await CC(m),m=m*vC;if(l+=c,((r=u==null?void 0:u.headers)===null||r===void 0?void 0:r[br])!=="active")break;if(i<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function SC(e){return{size:e.size,type:e.type}}function CC(e){return new Promise(n=>setTimeout(n,e))}class _C{async upload(n,t,o){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await EC(n,t,o)}async uploadToFileSearchStore(n,t,o){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await TC(n,t,o)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await SC(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wC{create(n,t,o){return new xC(n,t,o)}}class xC{constructor(n,t,o){this.url=n,this.headers=t,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Dd="x-goog-api-key";class IC{constructor(n){this.apiKey=n}async addAuthHeaders(n,t){if(n.get(Dd)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(Dd,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AC="gl-node/";class NC{constructor(n){var t;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=n.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=n.apiKey;const o=ry(n.httpOptions,n.vertexai,void 0,void 0);o&&(n.httpOptions?n.httpOptions.baseUrl=o:n.httpOptions={baseUrl:o}),this.apiVersion=n.apiVersion;const r=new IC(this.apiKey);this.apiClient=new JT({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:n.httpOptions,userAgentExtra:AC+"web",uploader:new _C,downloader:new mC}),this.models=new aS(this.apiClient),this.live=new tS(this.apiClient,r,new wC),this.batches=new Dv(this.apiClient),this.chats=new m0(this.models,this.apiClient),this.caches=new c0(this.apiClient),this.files=new w0(this.apiClient),this.operations=new uS(this.apiClient),this.authTokens=new xS(this.apiClient),this.tunings=new pC(this.apiClient),this.fileSearchStores=new KS(this.apiClient)}}function RC(e){const n=window.atob(e),t=n.length,o=new Uint8Array(t);for(let r=0;r<t;r++)o[r]=n.charCodeAt(r);return o}function PC(e,n,t=24e3){const o=RC(e),r=new Int16Array(o.buffer),i=1,l=r.length,u=n.createBuffer(i,l,t),d=u.getChannelData(0);for(let c=0;c<l;c++)d[c]=r[c]/32768;return u}function kC(e){const t=e.replace(/\s+/g," ").trim().split(/([.?!])\s+/),o=[];for(let r=0;r<t.length;r+=2){const i=t[r],l=t[r+1]||"";i&&o.push((i+l).trim())}return o}function MC(e){const n=[],t=[],o=e.trim(),r=/\S+/g;let i;for(;(i=r.exec(o))!==null;)n.push(i[0]),t.push(i.index);return{words:n,indices:t}}function DC(e){return Math.max(1.5,e/2.5)}function LC(e,n){for(let t=0;t<n.length;t++)if(n[t+1]>e)return t;return n.length-1}function Ws(e){try{return new URL(e),!0}catch{return!1}}function Ld(e){return e.replace(/(https?:\/\/[^\s]+)/g,"").trim()}function Pp(e){try{const n=new URL(e.trim());let t=null;return n.searchParams.get("v")?t=n.searchParams.get("v"):n.hostname==="youtu.be"?t=n.pathname.slice(1):n.pathname.startsWith("/embed/")&&(t=n.pathname.split("/")[2]),t?(t=t.replace(/[^a-zA-Z0-9_-]/g,"").slice(0,11),t.length===11?t:null):null}catch{return null}}function UC(e){return/\.(jpeg|jpg|gif|png|webp|svg)($|\?)/i.test(e)}function FC(e){return Ws(e)?Pp(e)?"youtube":UC(e)?"image":"link":"none"}const VC="PLACEHOLDER_API_KEY",GC=new NC({apiKey:VC}),HC="gemini-2.5-flash-preview-tts";async function qC(e,n,t="Fenrir"){var o,r,i;try{const u=(o=(await GC.models.generateContent({model:HC,contents:[{parts:[{text:e}]}],config:{responseModalities:[Go.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}}}})).candidates)==null?void 0:o[0],d=(i=(r=u==null?void 0:u.content)==null?void 0:r.parts)==null?void 0:i[0];if(!d||!d.inlineData||!d.inlineData.data)throw new Error("No audio data received from Gemini API.");const c=PC(d.inlineData.data,n);return{audioBuffer:c,duration:c.duration}}catch(l){throw console.error("Error generating speech:",l),l}}const BC=({sentences:e,currentIndex:n,currentDuration:t,isPlaying:o,playbackStartTime:r,nativeActiveWordIndex:i,onSentenceClick:l})=>{const u=U.useRef(null),d=U.useRef(null),[c,f]=U.useState(-1),[p,m]=U.useState(0),[y,S]=U.useState(navigator.onLine);U.useEffect(()=>{const v=()=>S(!0),h=()=>S(!1);return window.addEventListener("online",v),window.addEventListener("offline",h),()=>{window.removeEventListener("online",v),window.removeEventListener("offline",h)}},[]),U.useEffect(()=>{if(d.current&&u.current){const v=u.current,E=d.current.offsetTop-v.offsetTop-v.clientHeight/3;v.scrollTo({top:Math.max(0,E),behavior:"smooth"})}},[n]),U.useEffect(()=>{if(i!==void 0||!o||t<=0){!o&&n<e.length&&(f(-1),m(0));return}let v;const h=()=>{var R;const T=(performance.now()-r)/1e3,_=Math.min(Math.max(T/t,0),1),w=(((R=e[n])==null?void 0:R.words)||[]).length;if(w>0){const A=_*w,N=Math.floor(A),F=A-N;f(N),m(F)}_<1&&(v=requestAnimationFrame(h))};return v=requestAnimationFrame(h),()=>cancelAnimationFrame(v)},[o,t,r,n,e,i]);const C=i!==void 0?i:c,I=(v,h)=>{v.stopPropagation(),y||(v.preventDefault(),alert("Internet connection available is required to visit this link."))};return g.jsx("div",{ref:u,className:"w-full max-w-4xl mx-auto h-[55vh] overflow-y-auto pr-4 pb-32 scroll-smooth",children:g.jsx("div",{className:"space-y-12",children:e.map((v,h)=>{const E=h<n,T=h===n;let _=null;const x=v.words.find(w=>Ws(w));if(x){const w=FC(x);if(w==="youtube"){const R=Pp(x);if(R){const A=typeof window<"u"?window.location.origin:"";_=g.jsx("div",{className:"mt-6 mb-2 w-full max-w-lg mx-auto rounded-xl overflow-hidden shadow-2xl border border-gray-800 bg-black",children:y?g.jsx("iframe",{width:"100%",height:"315",src:`https://www.youtube.com/embed/${R}?origin=${A}&rel=0`,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0}):g.jsx(Ud,{icon:g.jsx($g,{size:48}),label:"Internet connection required"})})}}else w==="image"&&(_=g.jsx("div",{className:"mt-6 mb-2 w-full max-w-lg mx-auto rounded-xl overflow-hidden shadow-2xl border border-gray-800 bg-black min-w-[300px] md:min-w-[500px]",children:y?g.jsx("img",{src:x,alt:"Embedded content",className:"w-full h-auto object-contain"}):g.jsx(Ud,{icon:g.jsx(Ig,{size:48}),label:"Image unavailable offline"})}))}return g.jsxs("div",{ref:T?d:null,onClick:()=>l&&l(h),className:`flex flex-col transition-all duration-300 relative group rounded-xl p-4 -ml-4 ${E?"opacity-60 hover:opacity-100":T?"opacity-100 bg-white/5":"opacity-40 hover:opacity-80 hover:bg-white/5"} ${l?"cursor-pointer":""}`,children:[!T&&g.jsx("div",{className:"absolute -left-8 top-6 text-orange-500 opacity-0 group-hover:opacity-100 transition-opacity hidden md:block",children:g.jsx(Bl,{size:20,fill:"currentColor"})}),g.jsx("div",{className:"text-2xl md:text-3xl font-serif leading-relaxed",children:v.words.map((w,R)=>{let A="inline-block mr-1.5 transition-colors duration-100 ",N={};const F=Ws(w);return E?A+=F?"text-orange-300 underline":"text-[#ffedd5]":T?R<C?A+=F?"text-orange-300 underline":"text-[#ffedd5]":R===C&&o?i!==void 0?A+=F?"text-orange-400 underline scale-105 transform":"text-[#ffedd5] scale-105 transform":(A+="text-transparent bg-clip-text font-medium scale-105 transform origin-left",N={backgroundImage:`linear-gradient(90deg, #ffedd5 ${p*100}%, #666 ${p*100}%)`,WebkitBackgroundClip:"text",backgroundClip:"text"},F&&(A+=" underline decoration-orange-500/50")):A+=F?"text-blue-900 underline":"text-gray-600":A+=F?"text-blue-900 underline":"text-gray-600",F?g.jsxs("a",{href:w,target:"_blank",rel:"noopener noreferrer",className:`${A} hover:text-orange-400 cursor-pointer break-all`,style:N,onClick:B=>I(B),children:[w," ",g.jsx(wg,{size:12,className:"inline -mt-4 ml-0.5 opacity-50"})]},R):g.jsx("span",{className:A,style:N,children:w},R)})}),_]},v.id)})})})},Ud=({icon:e,label:n})=>g.jsxs("div",{className:"w-full h-full min-h-[200px] flex flex-col items-center justify-center bg-gray-900 text-gray-500 gap-2 p-8 text-center",children:[e,g.jsx("span",{className:"text-sm font-medium",children:n})]}),zC=["Fenrir","Kore","Puck","Charon","Zephyr"],JC=({item:e,onBack:n})=>{const[t,o]=U.useState([]),[r,i]=U.useState(0),[l,u]=U.useState(le.IDLE),[d,c]=U.useState(je.GEMINI),[f,p]=U.useState(!0),[m,y]=U.useState(1),[S,C]=U.useState("Fenrir"),[I,v]=U.useState([]),[h,E]=U.useState(""),[T,_]=U.useState(0),[x,w]=U.useState(0),[R,A]=U.useState(void 0),N=U.useRef(null),F=U.useRef(null),B=U.useRef(null),b=U.useRef(new Map),Be=U.useRef(null),Qe=U.useRef(null),ne=U.useRef(!0);U.useEffect(()=>{ne.current=!0;const Te=kC(e.text).map((X,un)=>{const{words:gi,indices:Lp}=MC(X);return{id:un,text:X,words:gi,wordStartIndices:Lp}});o(Te);const Q=()=>{const X=window.speechSynthesis.getVoices();if(v(X),X.length>0&&!h){const un=X.find(gi=>gi.lang.startsWith("en"))||X[0];E(un.voiceURI)}};return Q(),window.speechSynthesis.onvoiceschanged=Q,()=>{ne.current=!1,D(),N.current&&N.current.close()}},[e]),U.useEffect(()=>{F.current&&(F.current.gain.value=f?m:0),Be.current&&(Be.current.volume=f?m:0)},[m,f]),U.useEffect(()=>{d===je.GEMINI&&b.current.clear()},[S]);const Xe=()=>{if(!N.current){const V=window.AudioContext||window.webkitAudioContext;N.current=new V,F.current=N.current.createGain(),F.current.connect(N.current.destination)}N.current.state==="suspended"&&N.current.resume()},D=()=>{if(B.current)try{B.current.stop()}catch{}window.speechSynthesis.cancel(),Qe.current&&clearTimeout(Qe.current)},G=(V=1)=>{if(!N.current)return null;const Te=N.current.sampleRate;return N.current.createBuffer(1,Te*V,Te)},k=async V=>{if(V>=t.length)return null;if(b.current.has(V))return b.current.get(V);if(!N.current)return null;const Te=t[V].text,Q=Ld(Te);if(!Q||Q.length===0){const X=G(2);if(X){const un={audioBuffer:X,duration:2};return b.current.set(V,un),un}return null}try{const X=await qC(Q,N.current,S);return b.current.set(V,X),X}catch(X){return console.error(`Gemini TTS Error index ${V}`,X),null}},H=async V=>{u(le.LOADING);let Te=await k(V);if(!ne.current||r!==V)return;if(!Te){u(le.ERROR);return}if(!N.current||!F.current)return;const Q=N.current.createBufferSource();Q.buffer=Te.audioBuffer,Q.connect(F.current),B.current=Q,_(Te.duration),A(void 0),w(performance.now()),Q.start(0),u(le.PLAYING),V+1<t.length&&!b.current.has(V+1)&&k(V+1),Q.onended=()=>{ne.current&&l!==le.PAUSED&&Y(V+1)}},W=V=>{u(le.PLAYING),A(-1),_(0),window.speechSynthesis.cancel(),setTimeout(()=>{if(!ne.current)return;const Te=Ld(t[V].text);if(!Te||Te.length===0){_(2),w(performance.now()),A(void 0),Qe.current=setTimeout(()=>{ne.current&&Y(V+1)},2e3);return}const Q=new SpeechSynthesisUtterance(Te);if(Be.current=Q,h){const X=I.find(un=>un.voiceURI===h);X&&(Q.voice=X)}Q.volume=f?m:0,Q.rate=1,Q.onboundary=X=>{if(X.name==="word"){const un=LC(X.charIndex,t[V].wordStartIndices);A(un)}},Q.onend=()=>{ne.current&&Be.current===Q&&Y(V+1)},Q.onerror=X=>{X.error==="interrupted"||X.error==="canceled"||(console.error("Native TTS Error:",X.error),u(le.ERROR))},window.speechSynthesis.speak(Q)},50)},ue=V=>{u(le.PLAYING);const Te=t[V].words.length,Q=DC(Te);_(Q),A(void 0),w(performance.now()),Qe.current=setTimeout(()=>{ne.current&&Y(V+1)},Q*1e3)},Y=async V=>{if(V>=t.length){u(le.COMPLETED);return}if(D(),i(V),u(le.LOADING),!f){ue(V);return}Xe(),d===je.GEMINI?await H(V):W(V)},an=()=>{(l===le.PAUSED||l===le.IDLE||l===le.ERROR)&&Y(r)},ze=()=>{D(),u(le.PAUSED)},Zn=()=>{D(),i(0),u(le.IDLE),_(0),A(void 0)},Mp=()=>{r>0&&Y(r-1)},Dp=()=>{r<t.length-1&&Y(r+1)},Xl=r/Math.max(1,t.length)*100;return g.jsxs("div",{className:"flex flex-col h-full w-full relative",children:[g.jsxs("div",{className:"w-full flex flex-col md:flex-row justify-between items-center gap-4 bg-[#1a1a1d] p-4 border-b border-gray-800 z-20",children:[g.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[g.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-sm text-gray-400 hover:text-white transition",children:[g.jsx(Eg,{size:16})," Back"]}),g.jsx("div",{className:"h-6 w-px bg-gray-700 mx-2 hidden sm:block"}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"flex rounded-md bg-gray-800 p-1",children:[g.jsx("button",{onClick:()=>{ze(),c(je.GEMINI)},className:`px-3 py-1 rounded text-xs font-medium transition-all ${d===je.GEMINI?"bg-orange-600 text-white shadow-sm":"text-gray-400 hover:text-white"}`,children:"Gemini"}),g.jsx("button",{onClick:()=>{ze(),c(je.NATIVE)},className:`px-3 py-1 rounded text-xs font-medium transition-all ${d===je.NATIVE?"bg-orange-600 text-white shadow-sm":"text-gray-400 hover:text-white"}`,children:"Native"})]}),g.jsxs("div",{className:"relative",children:[g.jsx("select",{value:d===je.GEMINI?S:h,onChange:V=>{ze(),d===je.GEMINI?C(V.target.value):E(V.target.value)},className:"appearance-none bg-[#0f0f11] border border-gray-700 text-gray-300 text-xs rounded-md pl-3 pr-8 py-1.5 focus:outline-none focus:border-orange-500 hover:border-gray-600 transition-colors w-32 md:w-40",children:d===je.GEMINI?zC.map(V=>g.jsx("option",{value:V,children:V},V)):I.map(V=>g.jsxs("option",{value:V.voiceURI,children:[V.name.length>20?V.name.substring(0,20)+"...":V.name," (",V.lang,")"]},V.voiceURI))}),g.jsx(bf,{size:14,className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 pointer-events-none"})]})]})]}),g.jsxs("div",{className:"flex items-center gap-6",children:[g.jsxs("button",{onClick:()=>p(!f),className:`flex items-center gap-2 text-sm font-medium transition-colors ${f?"text-green-400":"text-gray-500"}`,title:f?"Audio On":"Silent Practice Mode",children:[f?g.jsx(lu,{size:18}):g.jsx(Jg,{size:18}),g.jsx("span",{className:"hidden sm:inline",children:f?"Audio On":"Silent Mode"})]}),g.jsxs("div",{className:`flex items-center gap-2 ${f?"":"opacity-30 pointer-events-none"}`,children:[g.jsx(lu,{size:16,className:"text-gray-400"}),g.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:m,onChange:V=>y(parseFloat(V.target.value)),className:"w-24 h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-orange-500"})]})]})]}),g.jsxs("div",{className:"px-6 pt-6 pb-2 w-full max-w-4xl mx-auto",children:[g.jsx("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight text-white mb-1",children:e.title}),g.jsx("p",{className:"text-gray-400 font-serif italic",children:e.author})]}),g.jsxs("div",{className:"flex-1 w-full flex flex-col justify-center z-10 p-6 md:p-12 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[500px] h-[500px] bg-orange-900/10 rounded-full blur-[100px] pointer-events-none"}),g.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[500px] h-[500px] bg-blue-900/05 rounded-full blur-[100px] pointer-events-none"}),l===le.ERROR?g.jsxs("div",{className:"text-red-400 text-center p-8 bg-red-900/10 rounded-lg border border-red-900/30 max-w-lg mx-auto z-20",children:[g.jsx("p",{className:"mb-2",children:"An error occurred with the selected TTS provider."}),g.jsx("p",{className:"text-sm opacity-70 mb-4",children:'Try switching to "Native" or checking your API Key.'}),g.jsx("button",{onClick:Zn,className:"px-4 py-2 bg-red-900/40 hover:bg-red-900/60 rounded text-sm transition",children:"Reset Player"})]}):g.jsx(BC,{sentences:t,currentIndex:r,currentDuration:T,isPlaying:l===le.PLAYING,playbackStartTime:x,nativeActiveWordIndex:R,onSentenceClick:Y})]}),g.jsxs("div",{className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 bg-[#1a1a1d]/90 backdrop-blur-md border border-gray-800 rounded-full px-6 py-4 shadow-2xl flex items-center gap-4 md:gap-6 z-50",children:[g.jsxs("div",{className:"hidden md:block w-32",children:[g.jsxs("div",{className:"text-xs text-gray-500 mb-1 flex justify-between",children:[g.jsx("span",{children:"PROGRESS"}),g.jsxs("span",{children:[Math.round(Xl),"%"]})]}),g.jsx("div",{className:"h-1 bg-gray-800 rounded-full overflow-hidden",children:g.jsx("div",{className:"h-full bg-orange-500 transition-all duration-500",style:{width:`${Xl}%`}})})]}),g.jsx("div",{className:"w-px h-8 bg-gray-700 hidden md:block"}),g.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[g.jsx("button",{onClick:Mp,disabled:r<=0,className:"text-gray-400 hover:text-white disabled:opacity-30 disabled:hover:text-gray-400 transition",title:"Previous Paragraph",children:g.jsx(Hg,{size:24})}),l===le.PLAYING||l===le.LOADING?g.jsx("button",{onClick:ze,className:"w-12 h-12 flex items-center justify-center bg-white text-black rounded-full hover:scale-105 transition active:scale-95",children:l===le.LOADING?g.jsx(Ng,{className:"animate-spin"}):g.jsx(kg,{fill:"currentColor"})}):g.jsx("button",{onClick:an,className:"w-12 h-12 flex items-center justify-center bg-orange-600 text-white rounded-full hover:bg-orange-500 hover:scale-105 transition active:scale-95 shadow-[0_0_15px_rgba(234,88,12,0.5)]",children:g.jsx(Bl,{fill:"currentColor",className:"ml-1"})}),g.jsx("button",{onClick:Dp,disabled:r>=t.length-1,className:"text-gray-400 hover:text-white disabled:opacity-30 disabled:hover:text-gray-400 transition",title:"Next Paragraph",children:g.jsx(qg,{size:24})})]}),g.jsx("div",{className:"w-px h-8 bg-gray-700"}),g.jsx("button",{onClick:Zn,className:"text-gray-400 hover:text-white transition",title:"Restart",children:g.jsx(Lg,{size:20})})]})]})},$C=()=>{const[e,n]=U.useState(yn.GUEST),[t,o]=U.useState(he.LOGIN),[r,i]=U.useState(null),[l,u]=U.useState(null),[d,c]=U.useState(""),[f,p]=U.useState(""),[m,y]=U.useState(""),[S,C]=U.useState(0);U.useEffect(()=>{An();const w=zl();w&&w.token&&tp().then(R=>{R&&C(A=>A+1)}).catch(R=>console.error("Initial sync error",R))},[]);const I=w=>{w.preventDefault(),y(""),d==="gobalkrishnan.work"&&f==="gobalkrishnan.work"?(n(yn.ADMIN),o(he.LIBRARY)):d==="user"&&f==="user"?(n(yn.STUDENT),o(he.LIBRARY)):y("Invalid username or password")},v=()=>{n(yn.GUEST),o(he.LOGIN),c(""),p(""),y("")},h=w=>{i(w),o(he.PLAYER)},E=()=>{i(null),u(null),o(he.LIBRARY)},T=()=>{u(null),o(he.ADMIN)},_=w=>{u(w),o(he.ADMIN)},x=()=>{C(w=>w+1),u(null),o(he.LIBRARY)};return t===he.LOGIN?g.jsxs("div",{className:"min-h-screen bg-[#0f0f11] flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[600px] h-[600px] bg-orange-900/10 rounded-full blur-[120px] pointer-events-none"}),g.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[600px] h-[600px] bg-blue-900/10 rounded-full blur-[120px] pointer-events-none"}),g.jsxs("div",{className:"z-10 text-center max-w-md w-full bg-[#1a1a1d]/80 backdrop-blur-xl border border-gray-800 p-8 rounded-2xl shadow-2xl",children:[g.jsx("h1",{className:"text-4xl font-bold text-white mb-2 tracking-tight",children:"Reading Habit"}),g.jsx("p",{className:"text-gray-400 mb-8 text-sm uppercase tracking-wider",children:"Immersive Learning Platform"}),g.jsxs("form",{onSubmit:I,className:"space-y-4 text-left",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-400 uppercase mb-1 ml-1",children:"Username"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(zg,{size:18,className:"text-gray-500"})}),g.jsx("input",{type:"text",value:d,onChange:w=>c(w.target.value),className:"w-full bg-[#0f0f11] border border-gray-700 rounded-lg py-3 pl-10 pr-3 text-white focus:border-orange-500 focus:outline-none transition-colors placeholder-gray-600",placeholder:"Enter username"})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-xs font-medium text-gray-400 uppercase mb-1 ml-1",children:"Password"}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:g.jsx(Rg,{size:18,className:"text-gray-500"})}),g.jsx("input",{type:"password",value:f,onChange:w=>p(w.target.value),className:"w-full bg-[#0f0f11] border border-gray-700 rounded-lg py-3 pl-10 pr-3 text-white focus:border-orange-500 focus:outline-none transition-colors placeholder-gray-600",placeholder:"Enter password"})]})]}),m&&g.jsxs("div",{className:"flex items-center gap-2 text-red-400 text-sm bg-red-900/20 p-3 rounded-lg border border-red-900/50",children:[g.jsx(vg,{size:16}),m]}),g.jsxs("button",{type:"submit",className:"w-full bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 text-white font-bold py-3 rounded-lg transition-all transform active:scale-[0.98] shadow-lg flex items-center justify-center gap-2 mt-4",children:[g.jsx(Pg,{size:20}),"Login"]})]}),g.jsx("div",{className:"mt-6 text-xs text-gray-600 flex justify-center gap-4",children:g.jsx("span",{children:"User: user / user"})})]})]}):g.jsxs("div",{className:"h-screen bg-[#0f0f11] text-[#e2e2e2] flex flex-col overflow-hidden",children:[g.jsxs("nav",{className:"w-full border-b border-gray-800 bg-[#0f0f11]/80 backdrop-blur-sm shrink-0 z-40 px-6 py-4 flex justify-between items-center h-16",children:[g.jsx("div",{className:"text-xl font-bold text-white cursor-pointer flex items-center gap-2",onClick:()=>{t!==he.PLAYER?o(he.LIBRARY):E()},children:g.jsx("span",{className:"text-orange-500",children:"Reading Habit"})}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx("span",{className:`text-xs font-medium px-2 py-1 rounded border ${e===yn.ADMIN?"bg-blue-900/30 text-blue-300 border-blue-800":"bg-green-900/30 text-green-300 border-green-800"}`,children:e===yn.ADMIN?"ADMIN SESSION":"STUDENT SESSION"}),g.jsx("button",{onClick:v,className:"text-sm text-gray-500 hover:text-white transition",children:"Logout"})]})]}),g.jsxs("main",{className:"flex-1 flex flex-col relative overflow-hidden",children:[t===he.LIBRARY&&g.jsx(Og,{onSelect:h,role:e,onRefresh:()=>C(w=>w+1),onCreate:T,onEdit:_,libraryVersion:S}),t===he.ADMIN&&g.jsx("div",{className:"flex-1 overflow-y-auto",children:g.jsx(ey,{onCancel:()=>o(he.LIBRARY),onSuccess:x,editItem:l})}),t===he.PLAYER&&r&&g.jsx("div",{className:"flex-1 overflow-hidden",children:g.jsx(JC,{item:r,onBack:E})})]})]})},kp=document.getElementById("root");if(!kp)throw new Error("Could not find root element to mount to");const WC=Ji.createRoot(kp);WC.render(g.jsx(Qs.StrictMode,{children:g.jsx($C,{})}));
